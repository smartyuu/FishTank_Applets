{
  "version": 3,
  "sources": ["../../node_modules/zrender/lib/zrender.js", "../../node_modules/zrender/lib/mixin/Draggable.js", "../../node_modules/zrender/lib/core/event.js", "../../node_modules/zrender/lib/core/GestureMgr.js", "../../node_modules/zrender/lib/Handler.js", "../../node_modules/zrender/lib/core/timsort.js", "../../node_modules/zrender/lib/Storage.js", "../../node_modules/zrender/lib/animation/Animation.js", "../../node_modules/zrender/lib/dom/HandlerProxy.js", "../../node_modules/echarts/lib/view/Component.js", "../../node_modules/echarts/lib/chart/helper/createRenderPlanner.js", "../../node_modules/echarts/lib/view/Chart.js", "../../node_modules/echarts/lib/util/throttle.js", "../../node_modules/echarts/lib/model/globalDefault.js", "../../node_modules/echarts/lib/model/internalComponentCreator.js", "../../node_modules/echarts/lib/model/Global.js", "../../node_modules/echarts/lib/core/ExtensionAPI.js", "../../node_modules/echarts/lib/core/CoordinateSystem.js", "../../node_modules/echarts/lib/model/OptionManager.js", "../../node_modules/echarts/lib/preprocessor/helper/compatStyle.js", "../../node_modules/echarts/lib/preprocessor/backwardCompat.js", "../../node_modules/echarts/lib/processor/dataStack.js", "../../node_modules/echarts/lib/visual/style.js", "../../node_modules/echarts/lib/loading/default.js", "../../node_modules/echarts/lib/core/Scheduler.js", "../../node_modules/echarts/lib/theme/light.js", "../../node_modules/echarts/lib/theme/dark.js", "../../node_modules/echarts/lib/util/ECEventProcessor.js", "../../node_modules/echarts/lib/visual/symbol.js", "../../node_modules/echarts/lib/visual/helper.js", "../../node_modules/echarts/lib/legacy/dataSelectAction.js", "../../node_modules/echarts/lib/util/event.js", "../../node_modules/zrender/lib/core/WeakMap.js", "../../node_modules/echarts/lib/util/symbol.js", "../../node_modules/echarts/lib/util/decal.js", "../../node_modules/echarts/lib/visual/decal.js", "../../node_modules/echarts/lib/core/lifecycle.js", "../../node_modules/echarts/lib/core/impl.js", "../../node_modules/echarts/lib/core/echarts.js", "../../node_modules/echarts/lib/extension.js"],
  "sourcesContent": ["/*!\r\n* ZRender, a high performance 2d drawing library.\r\n*\r\n* Copyright (c) 2013, Baidu Inc.\r\n* All rights reserved.\r\n*\r\n* LICENSE\r\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\r\n*/\r\nimport env from './core/env.js';\r\nimport * as zrUtil from './core/util.js';\r\nimport Handler from './Handler.js';\r\nimport Storage from './Storage.js';\r\nimport Animation, { getTime } from './animation/Animation.js';\r\nimport HandlerProxy from './dom/HandlerProxy.js';\r\nimport { lum } from './tool/color.js';\r\nimport { DARK_MODE_THRESHOLD } from './config.js';\r\nimport Group from './graphic/Group.js';\r\nvar painterCtors = {};\r\nvar instances = {};\r\nfunction delInstance(id) {\r\n    delete instances[id];\r\n}\r\nfunction isDarkMode(backgroundColor) {\r\n    if (!backgroundColor) {\r\n        return false;\r\n    }\r\n    if (typeof backgroundColor === 'string') {\r\n        return lum(backgroundColor, 1) < DARK_MODE_THRESHOLD;\r\n    }\r\n    else if (backgroundColor.colorStops) {\r\n        var colorStops = backgroundColor.colorStops;\r\n        var totalLum = 0;\r\n        var len = colorStops.length;\r\n        for (var i = 0; i < len; i++) {\r\n            totalLum += lum(colorStops[i].color, 1);\r\n        }\r\n        totalLum /= len;\r\n        return totalLum < DARK_MODE_THRESHOLD;\r\n    }\r\n    return false;\r\n}\r\nvar ZRender = (function () {\r\n    function ZRender(id, dom, opts) {\r\n        var _this = this;\r\n        this._sleepAfterStill = 10;\r\n        this._stillFrameAccum = 0;\r\n        this._needsRefresh = true;\r\n        this._needsRefreshHover = true;\r\n        this._darkMode = false;\r\n        opts = opts || {};\r\n        this.dom = dom;\r\n        this.id = id;\r\n        var storage = new Storage();\r\n        var rendererType = opts.renderer || 'canvas';\r\n        if (!painterCtors[rendererType]) {\r\n            rendererType = zrUtil.keys(painterCtors)[0];\r\n        }\r\n        if (process.env.NODE_ENV !== 'production') {\r\n            if (!painterCtors[rendererType]) {\r\n                throw new Error(\"Renderer '\" + rendererType + \"' is not imported. Please import it first.\");\r\n            }\r\n        }\r\n        opts.useDirtyRect = opts.useDirtyRect == null\r\n            ? false\r\n            : opts.useDirtyRect;\r\n        var painter = new painterCtors[rendererType](dom, storage, opts, id);\r\n        var ssrMode = opts.ssr || painter.ssrOnly;\r\n        this.storage = storage;\r\n        this.painter = painter;\r\n        var handerProxy = (!env.node && !env.worker && !ssrMode)\r\n            ? new HandlerProxy(painter.getViewportRoot(), painter.root)\r\n            : null;\r\n        var useCoarsePointer = opts.useCoarsePointer;\r\n        var usePointerSize = (useCoarsePointer == null || useCoarsePointer === 'auto')\r\n            ? env.touchEventsSupported\r\n            : !!useCoarsePointer;\r\n        var defaultPointerSize = 44;\r\n        var pointerSize;\r\n        if (usePointerSize) {\r\n            pointerSize = zrUtil.retrieve2(opts.pointerSize, defaultPointerSize);\r\n        }\r\n        this.handler = new Handler(storage, painter, handerProxy, painter.root, pointerSize);\r\n        this.animation = new Animation({\r\n            stage: {\r\n                update: ssrMode ? null : function () { return _this._flush(true); }\r\n            }\r\n        });\r\n        if (!ssrMode) {\r\n            this.animation.start();\r\n        }\r\n    }\r\n    ZRender.prototype.add = function (el) {\r\n        if (!el) {\r\n            return;\r\n        }\r\n        this.storage.addRoot(el);\r\n        el.addSelfToZr(this);\r\n        this.refresh();\r\n    };\r\n    ZRender.prototype.remove = function (el) {\r\n        if (!el) {\r\n            return;\r\n        }\r\n        this.storage.delRoot(el);\r\n        el.removeSelfFromZr(this);\r\n        this.refresh();\r\n    };\r\n    ZRender.prototype.configLayer = function (zLevel, config) {\r\n        if (this.painter.configLayer) {\r\n            this.painter.configLayer(zLevel, config);\r\n        }\r\n        this.refresh();\r\n    };\r\n    ZRender.prototype.setBackgroundColor = function (backgroundColor) {\r\n        if (this.painter.setBackgroundColor) {\r\n            this.painter.setBackgroundColor(backgroundColor);\r\n        }\r\n        this.refresh();\r\n        this._backgroundColor = backgroundColor;\r\n        this._darkMode = isDarkMode(backgroundColor);\r\n    };\r\n    ZRender.prototype.getBackgroundColor = function () {\r\n        return this._backgroundColor;\r\n    };\r\n    ZRender.prototype.setDarkMode = function (darkMode) {\r\n        this._darkMode = darkMode;\r\n    };\r\n    ZRender.prototype.isDarkMode = function () {\r\n        return this._darkMode;\r\n    };\r\n    ZRender.prototype.refreshImmediately = function (fromInside) {\r\n        if (!fromInside) {\r\n            this.animation.update(true);\r\n        }\r\n        this._needsRefresh = false;\r\n        this.painter.refresh();\r\n        this._needsRefresh = false;\r\n    };\r\n    ZRender.prototype.refresh = function () {\r\n        this._needsRefresh = true;\r\n        this.animation.start();\r\n    };\r\n    ZRender.prototype.flush = function () {\r\n        this._flush(false);\r\n    };\r\n    ZRender.prototype._flush = function (fromInside) {\r\n        var triggerRendered;\r\n        var start = getTime();\r\n        if (this._needsRefresh) {\r\n            triggerRendered = true;\r\n            this.refreshImmediately(fromInside);\r\n        }\r\n        if (this._needsRefreshHover) {\r\n            triggerRendered = true;\r\n            this.refreshHoverImmediately();\r\n        }\r\n        var end = getTime();\r\n        if (triggerRendered) {\r\n            this._stillFrameAccum = 0;\r\n            this.trigger('rendered', {\r\n                elapsedTime: end - start\r\n            });\r\n        }\r\n        else if (this._sleepAfterStill > 0) {\r\n            this._stillFrameAccum++;\r\n            if (this._stillFrameAccum > this._sleepAfterStill) {\r\n                this.animation.stop();\r\n            }\r\n        }\r\n    };\r\n    ZRender.prototype.setSleepAfterStill = function (stillFramesCount) {\r\n        this._sleepAfterStill = stillFramesCount;\r\n    };\r\n    ZRender.prototype.wakeUp = function () {\r\n        this.animation.start();\r\n        this._stillFrameAccum = 0;\r\n    };\r\n    ZRender.prototype.refreshHover = function () {\r\n        this._needsRefreshHover = true;\r\n    };\r\n    ZRender.prototype.refreshHoverImmediately = function () {\r\n        this._needsRefreshHover = false;\r\n        if (this.painter.refreshHover && this.painter.getType() === 'canvas') {\r\n            this.painter.refreshHover();\r\n        }\r\n    };\r\n    ZRender.prototype.resize = function (opts) {\r\n        opts = opts || {};\r\n        this.painter.resize(opts.width, opts.height);\r\n        this.handler.resize();\r\n    };\r\n    ZRender.prototype.clearAnimation = function () {\r\n        this.animation.clear();\r\n    };\r\n    ZRender.prototype.getWidth = function () {\r\n        return this.painter.getWidth();\r\n    };\r\n    ZRender.prototype.getHeight = function () {\r\n        return this.painter.getHeight();\r\n    };\r\n    ZRender.prototype.setCursorStyle = function (cursorStyle) {\r\n        this.handler.setCursorStyle(cursorStyle);\r\n    };\r\n    ZRender.prototype.findHover = function (x, y) {\r\n        return this.handler.findHover(x, y);\r\n    };\r\n    ZRender.prototype.on = function (eventName, eventHandler, context) {\r\n        this.handler.on(eventName, eventHandler, context);\r\n        return this;\r\n    };\r\n    ZRender.prototype.off = function (eventName, eventHandler) {\r\n        this.handler.off(eventName, eventHandler);\r\n    };\r\n    ZRender.prototype.trigger = function (eventName, event) {\r\n        this.handler.trigger(eventName, event);\r\n    };\r\n    ZRender.prototype.clear = function () {\r\n        var roots = this.storage.getRoots();\r\n        for (var i = 0; i < roots.length; i++) {\r\n            if (roots[i] instanceof Group) {\r\n                roots[i].removeSelfFromZr(this);\r\n            }\r\n        }\r\n        this.storage.delAllRoots();\r\n        this.painter.clear();\r\n    };\r\n    ZRender.prototype.dispose = function () {\r\n        this.animation.stop();\r\n        this.clear();\r\n        this.storage.dispose();\r\n        this.painter.dispose();\r\n        this.handler.dispose();\r\n        this.animation =\r\n            this.storage =\r\n                this.painter =\r\n                    this.handler = null;\r\n        delInstance(this.id);\r\n    };\r\n    return ZRender;\r\n}());\r\nexport function init(dom, opts) {\r\n    var zr = new ZRender(zrUtil.guid(), dom, opts);\r\n    instances[zr.id] = zr;\r\n    return zr;\r\n}\r\nexport function dispose(zr) {\r\n    zr.dispose();\r\n}\r\nexport function disposeAll() {\r\n    for (var key in instances) {\r\n        if (instances.hasOwnProperty(key)) {\r\n            instances[key].dispose();\r\n        }\r\n    }\r\n    instances = {};\r\n}\r\nexport function getInstance(id) {\r\n    return instances[id];\r\n}\r\nexport function registerPainter(name, Ctor) {\r\n    painterCtors[name] = Ctor;\r\n}\r\nexport var version = '5.4.3';\r\n;\r\n", "var Param = (function () {\r\n    function Param(target, e) {\r\n        this.target = target;\r\n        this.topTarget = e && e.topTarget;\r\n    }\r\n    return Param;\r\n}());\r\nvar Draggable = (function () {\r\n    function Draggable(handler) {\r\n        this.handler = handler;\r\n        handler.on('mousedown', this._dragStart, this);\r\n        handler.on('mousemove', this._drag, this);\r\n        handler.on('mouseup', this._dragEnd, this);\r\n    }\r\n    Draggable.prototype._dragStart = function (e) {\r\n        var draggingTarget = e.target;\r\n        while (draggingTarget && !draggingTarget.draggable) {\r\n            draggingTarget = draggingTarget.parent || draggingTarget.__hostTarget;\r\n        }\r\n        if (draggingTarget) {\r\n            this._draggingTarget = draggingTarget;\r\n            draggingTarget.dragging = true;\r\n            this._x = e.offsetX;\r\n            this._y = e.offsetY;\r\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragstart', e.event);\r\n        }\r\n    };\r\n    Draggable.prototype._drag = function (e) {\r\n        var draggingTarget = this._draggingTarget;\r\n        if (draggingTarget) {\r\n            var x = e.offsetX;\r\n            var y = e.offsetY;\r\n            var dx = x - this._x;\r\n            var dy = y - this._y;\r\n            this._x = x;\r\n            this._y = y;\r\n            draggingTarget.drift(dx, dy, e);\r\n            this.handler.dispatchToElement(new Param(draggingTarget, e), 'drag', e.event);\r\n            var dropTarget = this.handler.findHover(x, y, draggingTarget).target;\r\n            var lastDropTarget = this._dropTarget;\r\n            this._dropTarget = dropTarget;\r\n            if (draggingTarget !== dropTarget) {\r\n                if (lastDropTarget && dropTarget !== lastDropTarget) {\r\n                    this.handler.dispatchToElement(new Param(lastDropTarget, e), 'dragleave', e.event);\r\n                }\r\n                if (dropTarget && dropTarget !== lastDropTarget) {\r\n                    this.handler.dispatchToElement(new Param(dropTarget, e), 'dragenter', e.event);\r\n                }\r\n            }\r\n        }\r\n    };\r\n    Draggable.prototype._dragEnd = function (e) {\r\n        var draggingTarget = this._draggingTarget;\r\n        if (draggingTarget) {\r\n            draggingTarget.dragging = false;\r\n        }\r\n        this.handler.dispatchToElement(new Param(draggingTarget, e), 'dragend', e.event);\r\n        if (this._dropTarget) {\r\n            this.handler.dispatchToElement(new Param(this._dropTarget, e), 'drop', e.event);\r\n        }\r\n        this._draggingTarget = null;\r\n        this._dropTarget = null;\r\n    };\r\n    return Draggable;\r\n}());\r\nexport default Draggable;\r\n", "import Eventful from './Eventful.js';\r\nimport env from './env.js';\r\nimport { isCanvasEl, transformCoordWithViewport } from './dom.js';\r\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\r\nvar _calcOut = [];\r\nvar firefoxNotSupportOffsetXY = env.browser.firefox\r\n    && +env.browser.version.split('.')[0] < 39;\r\nexport function clientToLocal(el, e, out, calculate) {\r\n    out = out || {};\r\n    if (calculate) {\r\n        calculateZrXY(el, e, out);\r\n    }\r\n    else if (firefoxNotSupportOffsetXY\r\n        && e.layerX != null\r\n        && e.layerX !== e.offsetX) {\r\n        out.zrX = e.layerX;\r\n        out.zrY = e.layerY;\r\n    }\r\n    else if (e.offsetX != null) {\r\n        out.zrX = e.offsetX;\r\n        out.zrY = e.offsetY;\r\n    }\r\n    else {\r\n        calculateZrXY(el, e, out);\r\n    }\r\n    return out;\r\n}\r\nfunction calculateZrXY(el, e, out) {\r\n    if (env.domSupported && el.getBoundingClientRect) {\r\n        var ex = e.clientX;\r\n        var ey = e.clientY;\r\n        if (isCanvasEl(el)) {\r\n            var box = el.getBoundingClientRect();\r\n            out.zrX = ex - box.left;\r\n            out.zrY = ey - box.top;\r\n            return;\r\n        }\r\n        else {\r\n            if (transformCoordWithViewport(_calcOut, el, ex, ey)) {\r\n                out.zrX = _calcOut[0];\r\n                out.zrY = _calcOut[1];\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    out.zrX = out.zrY = 0;\r\n}\r\nexport function getNativeEvent(e) {\r\n    return e\r\n        || window.event;\r\n}\r\nexport function normalizeEvent(el, e, calculate) {\r\n    e = getNativeEvent(e);\r\n    if (e.zrX != null) {\r\n        return e;\r\n    }\r\n    var eventType = e.type;\r\n    var isTouch = eventType && eventType.indexOf('touch') >= 0;\r\n    if (!isTouch) {\r\n        clientToLocal(el, e, e, calculate);\r\n        var wheelDelta = getWheelDeltaMayPolyfill(e);\r\n        e.zrDelta = wheelDelta ? wheelDelta / 120 : -(e.detail || 0) / 3;\r\n    }\r\n    else {\r\n        var touch = eventType !== 'touchend'\r\n            ? e.targetTouches[0]\r\n            : e.changedTouches[0];\r\n        touch && clientToLocal(el, touch, e, calculate);\r\n    }\r\n    var button = e.button;\r\n    if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\r\n        e.which = (button & 1 ? 1 : (button & 2 ? 3 : (button & 4 ? 2 : 0)));\r\n    }\r\n    return e;\r\n}\r\nfunction getWheelDeltaMayPolyfill(e) {\r\n    var rawWheelDelta = e.wheelDelta;\r\n    if (rawWheelDelta) {\r\n        return rawWheelDelta;\r\n    }\r\n    var deltaX = e.deltaX;\r\n    var deltaY = e.deltaY;\r\n    if (deltaX == null || deltaY == null) {\r\n        return rawWheelDelta;\r\n    }\r\n    var delta = deltaY !== 0 ? Math.abs(deltaY) : Math.abs(deltaX);\r\n    var sign = deltaY > 0 ? -1\r\n        : deltaY < 0 ? 1\r\n            : deltaX > 0 ? -1\r\n                : 1;\r\n    return 3 * delta * sign;\r\n}\r\nexport function addEventListener(el, name, handler, opt) {\r\n    el.addEventListener(name, handler, opt);\r\n}\r\nexport function removeEventListener(el, name, handler, opt) {\r\n    el.removeEventListener(name, handler, opt);\r\n}\r\nexport var stop = function (e) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    e.cancelBubble = true;\r\n};\r\nexport function isMiddleOrRightButtonOnMouseUpDown(e) {\r\n    return e.which === 2 || e.which === 3;\r\n}\r\nexport { Eventful as Dispatcher };\r\n", "import * as eventUtil from './event.js';\r\nvar GestureMgr = (function () {\r\n    function GestureMgr() {\r\n        this._track = [];\r\n    }\r\n    GestureMgr.prototype.recognize = function (event, target, root) {\r\n        this._doTrack(event, target, root);\r\n        return this._recognize(event);\r\n    };\r\n    GestureMgr.prototype.clear = function () {\r\n        this._track.length = 0;\r\n        return this;\r\n    };\r\n    GestureMgr.prototype._doTrack = function (event, target, root) {\r\n        var touches = event.touches;\r\n        if (!touches) {\r\n            return;\r\n        }\r\n        var trackItem = {\r\n            points: [],\r\n            touches: [],\r\n            target: target,\r\n            event: event\r\n        };\r\n        for (var i = 0, len = touches.length; i < len; i++) {\r\n            var touch = touches[i];\r\n            var pos = eventUtil.clientToLocal(root, touch, {});\r\n            trackItem.points.push([pos.zrX, pos.zrY]);\r\n            trackItem.touches.push(touch);\r\n        }\r\n        this._track.push(trackItem);\r\n    };\r\n    GestureMgr.prototype._recognize = function (event) {\r\n        for (var eventName in recognizers) {\r\n            if (recognizers.hasOwnProperty(eventName)) {\r\n                var gestureInfo = recognizers[eventName](this._track, event);\r\n                if (gestureInfo) {\r\n                    return gestureInfo;\r\n                }\r\n            }\r\n        }\r\n    };\r\n    return GestureMgr;\r\n}());\r\nexport { GestureMgr };\r\nfunction dist(pointPair) {\r\n    var dx = pointPair[1][0] - pointPair[0][0];\r\n    var dy = pointPair[1][1] - pointPair[0][1];\r\n    return Math.sqrt(dx * dx + dy * dy);\r\n}\r\nfunction center(pointPair) {\r\n    return [\r\n        (pointPair[0][0] + pointPair[1][0]) / 2,\r\n        (pointPair[0][1] + pointPair[1][1]) / 2\r\n    ];\r\n}\r\nvar recognizers = {\r\n    pinch: function (tracks, event) {\r\n        var trackLen = tracks.length;\r\n        if (!trackLen) {\r\n            return;\r\n        }\r\n        var pinchEnd = (tracks[trackLen - 1] || {}).points;\r\n        var pinchPre = (tracks[trackLen - 2] || {}).points || pinchEnd;\r\n        if (pinchPre\r\n            && pinchPre.length > 1\r\n            && pinchEnd\r\n            && pinchEnd.length > 1) {\r\n            var pinchScale = dist(pinchEnd) / dist(pinchPre);\r\n            !isFinite(pinchScale) && (pinchScale = 1);\r\n            event.pinchScale = pinchScale;\r\n            var pinchCenter = center(pinchEnd);\r\n            event.pinchX = pinchCenter[0];\r\n            event.pinchY = pinchCenter[1];\r\n            return {\r\n                type: 'pinch',\r\n                target: tracks[0].target,\r\n                event: event\r\n            };\r\n        }\r\n    }\r\n};\r\n", "import { __extends } from \"tslib\";\r\nimport * as util from './core/util.js';\r\nimport * as vec2 from './core/vector.js';\r\nimport Draggable from './mixin/Draggable.js';\r\nimport Eventful from './core/Eventful.js';\r\nimport * as eventTool from './core/event.js';\r\nimport { GestureMgr } from './core/GestureMgr.js';\r\nimport BoundingRect from './core/BoundingRect.js';\r\nvar SILENT = 'silent';\r\nfunction makeEventPacket(eveType, targetInfo, event) {\r\n    return {\r\n        type: eveType,\r\n        event: event,\r\n        target: targetInfo.target,\r\n        topTarget: targetInfo.topTarget,\r\n        cancelBubble: false,\r\n        offsetX: event.zrX,\r\n        offsetY: event.zrY,\r\n        gestureEvent: event.gestureEvent,\r\n        pinchX: event.pinchX,\r\n        pinchY: event.pinchY,\r\n        pinchScale: event.pinchScale,\r\n        wheelDelta: event.zrDelta,\r\n        zrByTouch: event.zrByTouch,\r\n        which: event.which,\r\n        stop: stopEvent\r\n    };\r\n}\r\nfunction stopEvent() {\r\n    eventTool.stop(this.event);\r\n}\r\nvar EmptyProxy = (function (_super) {\r\n    __extends(EmptyProxy, _super);\r\n    function EmptyProxy() {\r\n        var _this = _super !== null && _super.apply(this, arguments) || this;\r\n        _this.handler = null;\r\n        return _this;\r\n    }\r\n    EmptyProxy.prototype.dispose = function () { };\r\n    EmptyProxy.prototype.setCursor = function () { };\r\n    return EmptyProxy;\r\n}(Eventful));\r\nvar HoveredResult = (function () {\r\n    function HoveredResult(x, y) {\r\n        this.x = x;\r\n        this.y = y;\r\n    }\r\n    return HoveredResult;\r\n}());\r\nvar handlerNames = [\r\n    'click', 'dblclick', 'mousewheel', 'mouseout',\r\n    'mouseup', 'mousedown', 'mousemove', 'contextmenu'\r\n];\r\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\r\nvar Handler = (function (_super) {\r\n    __extends(Handler, _super);\r\n    function Handler(storage, painter, proxy, painterRoot, pointerSize) {\r\n        var _this = _super.call(this) || this;\r\n        _this._hovered = new HoveredResult(0, 0);\r\n        _this.storage = storage;\r\n        _this.painter = painter;\r\n        _this.painterRoot = painterRoot;\r\n        _this._pointerSize = pointerSize;\r\n        proxy = proxy || new EmptyProxy();\r\n        _this.proxy = null;\r\n        _this.setHandlerProxy(proxy);\r\n        _this._draggingMgr = new Draggable(_this);\r\n        return _this;\r\n    }\r\n    Handler.prototype.setHandlerProxy = function (proxy) {\r\n        if (this.proxy) {\r\n            this.proxy.dispose();\r\n        }\r\n        if (proxy) {\r\n            util.each(handlerNames, function (name) {\r\n                proxy.on && proxy.on(name, this[name], this);\r\n            }, this);\r\n            proxy.handler = this;\r\n        }\r\n        this.proxy = proxy;\r\n    };\r\n    Handler.prototype.mousemove = function (event) {\r\n        var x = event.zrX;\r\n        var y = event.zrY;\r\n        var isOutside = isOutsideBoundary(this, x, y);\r\n        var lastHovered = this._hovered;\r\n        var lastHoveredTarget = lastHovered.target;\r\n        if (lastHoveredTarget && !lastHoveredTarget.__zr) {\r\n            lastHovered = this.findHover(lastHovered.x, lastHovered.y);\r\n            lastHoveredTarget = lastHovered.target;\r\n        }\r\n        var hovered = this._hovered = isOutside ? new HoveredResult(x, y) : this.findHover(x, y);\r\n        var hoveredTarget = hovered.target;\r\n        var proxy = this.proxy;\r\n        proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default');\r\n        if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\r\n            this.dispatchToElement(lastHovered, 'mouseout', event);\r\n        }\r\n        this.dispatchToElement(hovered, 'mousemove', event);\r\n        if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\r\n            this.dispatchToElement(hovered, 'mouseover', event);\r\n        }\r\n    };\r\n    Handler.prototype.mouseout = function (event) {\r\n        var eventControl = event.zrEventControl;\r\n        if (eventControl !== 'only_globalout') {\r\n            this.dispatchToElement(this._hovered, 'mouseout', event);\r\n        }\r\n        if (eventControl !== 'no_globalout') {\r\n            this.trigger('globalout', { type: 'globalout', event: event });\r\n        }\r\n    };\r\n    Handler.prototype.resize = function () {\r\n        this._hovered = new HoveredResult(0, 0);\r\n    };\r\n    Handler.prototype.dispatch = function (eventName, eventArgs) {\r\n        var handler = this[eventName];\r\n        handler && handler.call(this, eventArgs);\r\n    };\r\n    Handler.prototype.dispose = function () {\r\n        this.proxy.dispose();\r\n        this.storage = null;\r\n        this.proxy = null;\r\n        this.painter = null;\r\n    };\r\n    Handler.prototype.setCursorStyle = function (cursorStyle) {\r\n        var proxy = this.proxy;\r\n        proxy.setCursor && proxy.setCursor(cursorStyle);\r\n    };\r\n    Handler.prototype.dispatchToElement = function (targetInfo, eventName, event) {\r\n        targetInfo = targetInfo || {};\r\n        var el = targetInfo.target;\r\n        if (el && el.silent) {\r\n            return;\r\n        }\r\n        var eventKey = ('on' + eventName);\r\n        var eventPacket = makeEventPacket(eventName, targetInfo, event);\r\n        while (el) {\r\n            el[eventKey]\r\n                && (eventPacket.cancelBubble = !!el[eventKey].call(el, eventPacket));\r\n            el.trigger(eventName, eventPacket);\r\n            el = el.__hostTarget ? el.__hostTarget : el.parent;\r\n            if (eventPacket.cancelBubble) {\r\n                break;\r\n            }\r\n        }\r\n        if (!eventPacket.cancelBubble) {\r\n            this.trigger(eventName, eventPacket);\r\n            if (this.painter && this.painter.eachOtherLayer) {\r\n                this.painter.eachOtherLayer(function (layer) {\r\n                    if (typeof (layer[eventKey]) === 'function') {\r\n                        layer[eventKey].call(layer, eventPacket);\r\n                    }\r\n                    if (layer.trigger) {\r\n                        layer.trigger(eventName, eventPacket);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n    };\r\n    Handler.prototype.findHover = function (x, y, exclude) {\r\n        var list = this.storage.getDisplayList();\r\n        var out = new HoveredResult(x, y);\r\n        setHoverTarget(list, out, x, y, exclude);\r\n        if (this._pointerSize && !out.target) {\r\n            var candidates = [];\r\n            var pointerSize = this._pointerSize;\r\n            var targetSizeHalf = pointerSize / 2;\r\n            var pointerRect = new BoundingRect(x - targetSizeHalf, y - targetSizeHalf, pointerSize, pointerSize);\r\n            for (var i = list.length - 1; i >= 0; i--) {\r\n                var el = list[i];\r\n                if (el !== exclude\r\n                    && !el.ignore\r\n                    && !el.ignoreCoarsePointer\r\n                    && (!el.parent || !el.parent.ignoreCoarsePointer)) {\r\n                    tmpRect.copy(el.getBoundingRect());\r\n                    if (el.transform) {\r\n                        tmpRect.applyTransform(el.transform);\r\n                    }\r\n                    if (tmpRect.intersect(pointerRect)) {\r\n                        candidates.push(el);\r\n                    }\r\n                }\r\n            }\r\n            if (candidates.length) {\r\n                var rStep = 4;\r\n                var thetaStep = Math.PI / 12;\r\n                var PI2 = Math.PI * 2;\r\n                for (var r = 0; r < targetSizeHalf; r += rStep) {\r\n                    for (var theta = 0; theta < PI2; theta += thetaStep) {\r\n                        var x1 = x + r * Math.cos(theta);\r\n                        var y1 = y + r * Math.sin(theta);\r\n                        setHoverTarget(candidates, out, x1, y1, exclude);\r\n                        if (out.target) {\r\n                            return out;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return out;\r\n    };\r\n    Handler.prototype.processGesture = function (event, stage) {\r\n        if (!this._gestureMgr) {\r\n            this._gestureMgr = new GestureMgr();\r\n        }\r\n        var gestureMgr = this._gestureMgr;\r\n        stage === 'start' && gestureMgr.clear();\r\n        var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\r\n        stage === 'end' && gestureMgr.clear();\r\n        if (gestureInfo) {\r\n            var type = gestureInfo.type;\r\n            event.gestureEvent = type;\r\n            var res = new HoveredResult();\r\n            res.target = gestureInfo.target;\r\n            this.dispatchToElement(res, type, gestureInfo.event);\r\n        }\r\n    };\r\n    return Handler;\r\n}(Eventful));\r\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\r\n    Handler.prototype[name] = function (event) {\r\n        var x = event.zrX;\r\n        var y = event.zrY;\r\n        var isOutside = isOutsideBoundary(this, x, y);\r\n        var hovered;\r\n        var hoveredTarget;\r\n        if (name !== 'mouseup' || !isOutside) {\r\n            hovered = this.findHover(x, y);\r\n            hoveredTarget = hovered.target;\r\n        }\r\n        if (name === 'mousedown') {\r\n            this._downEl = hoveredTarget;\r\n            this._downPoint = [event.zrX, event.zrY];\r\n            this._upEl = hoveredTarget;\r\n        }\r\n        else if (name === 'mouseup') {\r\n            this._upEl = hoveredTarget;\r\n        }\r\n        else if (name === 'click') {\r\n            if (this._downEl !== this._upEl\r\n                || !this._downPoint\r\n                || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\r\n                return;\r\n            }\r\n            this._downPoint = null;\r\n        }\r\n        this.dispatchToElement(hovered, name, event);\r\n    };\r\n});\r\nfunction isHover(displayable, x, y) {\r\n    if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\r\n        var el = displayable;\r\n        var isSilent = void 0;\r\n        var ignoreClip = false;\r\n        while (el) {\r\n            if (el.ignoreClip) {\r\n                ignoreClip = true;\r\n            }\r\n            if (!ignoreClip) {\r\n                var clipPath = el.getClipPath();\r\n                if (clipPath && !clipPath.contain(x, y)) {\r\n                    return false;\r\n                }\r\n                if (el.silent) {\r\n                    isSilent = true;\r\n                }\r\n            }\r\n            var hostEl = el.__hostTarget;\r\n            el = hostEl ? hostEl : el.parent;\r\n        }\r\n        return isSilent ? SILENT : true;\r\n    }\r\n    return false;\r\n}\r\nfunction setHoverTarget(list, out, x, y, exclude) {\r\n    for (var i = list.length - 1; i >= 0; i--) {\r\n        var el = list[i];\r\n        var hoverCheckResult = void 0;\r\n        if (el !== exclude\r\n            && !el.ignore\r\n            && (hoverCheckResult = isHover(el, x, y))) {\r\n            !out.topTarget && (out.topTarget = el);\r\n            if (hoverCheckResult !== SILENT) {\r\n                out.target = el;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction isOutsideBoundary(handlerInstance, x, y) {\r\n    var painter = handlerInstance.painter;\r\n    return x < 0 || x > painter.getWidth() || y < 0 || y > painter.getHeight();\r\n}\r\nexport default Handler;\r\n", "var DEFAULT_MIN_MERGE = 32;\r\nvar DEFAULT_MIN_GALLOPING = 7;\r\nvar DEFAULT_TMP_STORAGE_LENGTH = 256;\r\nfunction minRunLength(n) {\r\n    var r = 0;\r\n    while (n >= DEFAULT_MIN_MERGE) {\r\n        r |= n & 1;\r\n        n >>= 1;\r\n    }\r\n    return n + r;\r\n}\r\nfunction makeAscendingRun(array, lo, hi, compare) {\r\n    var runHi = lo + 1;\r\n    if (runHi === hi) {\r\n        return 1;\r\n    }\r\n    if (compare(array[runHi++], array[lo]) < 0) {\r\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\r\n            runHi++;\r\n        }\r\n        reverseRun(array, lo, runHi);\r\n    }\r\n    else {\r\n        while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\r\n            runHi++;\r\n        }\r\n    }\r\n    return runHi - lo;\r\n}\r\nfunction reverseRun(array, lo, hi) {\r\n    hi--;\r\n    while (lo < hi) {\r\n        var t = array[lo];\r\n        array[lo++] = array[hi];\r\n        array[hi--] = t;\r\n    }\r\n}\r\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\r\n    if (start === lo) {\r\n        start++;\r\n    }\r\n    for (; start < hi; start++) {\r\n        var pivot = array[start];\r\n        var left = lo;\r\n        var right = start;\r\n        var mid;\r\n        while (left < right) {\r\n            mid = left + right >>> 1;\r\n            if (compare(pivot, array[mid]) < 0) {\r\n                right = mid;\r\n            }\r\n            else {\r\n                left = mid + 1;\r\n            }\r\n        }\r\n        var n = start - left;\r\n        switch (n) {\r\n            case 3:\r\n                array[left + 3] = array[left + 2];\r\n            case 2:\r\n                array[left + 2] = array[left + 1];\r\n            case 1:\r\n                array[left + 1] = array[left];\r\n                break;\r\n            default:\r\n                while (n > 0) {\r\n                    array[left + n] = array[left + n - 1];\r\n                    n--;\r\n                }\r\n        }\r\n        array[left] = pivot;\r\n    }\r\n}\r\nfunction gallopLeft(value, array, start, length, hint, compare) {\r\n    var lastOffset = 0;\r\n    var maxOffset = 0;\r\n    var offset = 1;\r\n    if (compare(value, array[start + hint]) > 0) {\r\n        maxOffset = length - hint;\r\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\r\n            lastOffset = offset;\r\n            offset = (offset << 1) + 1;\r\n            if (offset <= 0) {\r\n                offset = maxOffset;\r\n            }\r\n        }\r\n        if (offset > maxOffset) {\r\n            offset = maxOffset;\r\n        }\r\n        lastOffset += hint;\r\n        offset += hint;\r\n    }\r\n    else {\r\n        maxOffset = hint + 1;\r\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\r\n            lastOffset = offset;\r\n            offset = (offset << 1) + 1;\r\n            if (offset <= 0) {\r\n                offset = maxOffset;\r\n            }\r\n        }\r\n        if (offset > maxOffset) {\r\n            offset = maxOffset;\r\n        }\r\n        var tmp = lastOffset;\r\n        lastOffset = hint - offset;\r\n        offset = hint - tmp;\r\n    }\r\n    lastOffset++;\r\n    while (lastOffset < offset) {\r\n        var m = lastOffset + (offset - lastOffset >>> 1);\r\n        if (compare(value, array[start + m]) > 0) {\r\n            lastOffset = m + 1;\r\n        }\r\n        else {\r\n            offset = m;\r\n        }\r\n    }\r\n    return offset;\r\n}\r\nfunction gallopRight(value, array, start, length, hint, compare) {\r\n    var lastOffset = 0;\r\n    var maxOffset = 0;\r\n    var offset = 1;\r\n    if (compare(value, array[start + hint]) < 0) {\r\n        maxOffset = hint + 1;\r\n        while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\r\n            lastOffset = offset;\r\n            offset = (offset << 1) + 1;\r\n            if (offset <= 0) {\r\n                offset = maxOffset;\r\n            }\r\n        }\r\n        if (offset > maxOffset) {\r\n            offset = maxOffset;\r\n        }\r\n        var tmp = lastOffset;\r\n        lastOffset = hint - offset;\r\n        offset = hint - tmp;\r\n    }\r\n    else {\r\n        maxOffset = length - hint;\r\n        while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\r\n            lastOffset = offset;\r\n            offset = (offset << 1) + 1;\r\n            if (offset <= 0) {\r\n                offset = maxOffset;\r\n            }\r\n        }\r\n        if (offset > maxOffset) {\r\n            offset = maxOffset;\r\n        }\r\n        lastOffset += hint;\r\n        offset += hint;\r\n    }\r\n    lastOffset++;\r\n    while (lastOffset < offset) {\r\n        var m = lastOffset + (offset - lastOffset >>> 1);\r\n        if (compare(value, array[start + m]) < 0) {\r\n            offset = m;\r\n        }\r\n        else {\r\n            lastOffset = m + 1;\r\n        }\r\n    }\r\n    return offset;\r\n}\r\nfunction TimSort(array, compare) {\r\n    var minGallop = DEFAULT_MIN_GALLOPING;\r\n    var length = 0;\r\n    var tmpStorageLength = DEFAULT_TMP_STORAGE_LENGTH;\r\n    var stackLength = 0;\r\n    var runStart;\r\n    var runLength;\r\n    var stackSize = 0;\r\n    length = array.length;\r\n    if (length < 2 * DEFAULT_TMP_STORAGE_LENGTH) {\r\n        tmpStorageLength = length >>> 1;\r\n    }\r\n    var tmp = [];\r\n    stackLength = length < 120 ? 5 : length < 1542 ? 10 : length < 119151 ? 19 : 40;\r\n    runStart = [];\r\n    runLength = [];\r\n    function pushRun(_runStart, _runLength) {\r\n        runStart[stackSize] = _runStart;\r\n        runLength[stackSize] = _runLength;\r\n        stackSize += 1;\r\n    }\r\n    function mergeRuns() {\r\n        while (stackSize > 1) {\r\n            var n = stackSize - 2;\r\n            if ((n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1])\r\n                || (n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1])) {\r\n                if (runLength[n - 1] < runLength[n + 1]) {\r\n                    n--;\r\n                }\r\n            }\r\n            else if (runLength[n] > runLength[n + 1]) {\r\n                break;\r\n            }\r\n            mergeAt(n);\r\n        }\r\n    }\r\n    function forceMergeRuns() {\r\n        while (stackSize > 1) {\r\n            var n = stackSize - 2;\r\n            if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\r\n                n--;\r\n            }\r\n            mergeAt(n);\r\n        }\r\n    }\r\n    function mergeAt(i) {\r\n        var start1 = runStart[i];\r\n        var length1 = runLength[i];\r\n        var start2 = runStart[i + 1];\r\n        var length2 = runLength[i + 1];\r\n        runLength[i] = length1 + length2;\r\n        if (i === stackSize - 3) {\r\n            runStart[i + 1] = runStart[i + 2];\r\n            runLength[i + 1] = runLength[i + 2];\r\n        }\r\n        stackSize--;\r\n        var k = gallopRight(array[start2], array, start1, length1, 0, compare);\r\n        start1 += k;\r\n        length1 -= k;\r\n        if (length1 === 0) {\r\n            return;\r\n        }\r\n        length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\r\n        if (length2 === 0) {\r\n            return;\r\n        }\r\n        if (length1 <= length2) {\r\n            mergeLow(start1, length1, start2, length2);\r\n        }\r\n        else {\r\n            mergeHigh(start1, length1, start2, length2);\r\n        }\r\n    }\r\n    function mergeLow(start1, length1, start2, length2) {\r\n        var i = 0;\r\n        for (i = 0; i < length1; i++) {\r\n            tmp[i] = array[start1 + i];\r\n        }\r\n        var cursor1 = 0;\r\n        var cursor2 = start2;\r\n        var dest = start1;\r\n        array[dest++] = array[cursor2++];\r\n        if (--length2 === 0) {\r\n            for (i = 0; i < length1; i++) {\r\n                array[dest + i] = tmp[cursor1 + i];\r\n            }\r\n            return;\r\n        }\r\n        if (length1 === 1) {\r\n            for (i = 0; i < length2; i++) {\r\n                array[dest + i] = array[cursor2 + i];\r\n            }\r\n            array[dest + length2] = tmp[cursor1];\r\n            return;\r\n        }\r\n        var _minGallop = minGallop;\r\n        var count1;\r\n        var count2;\r\n        var exit;\r\n        while (1) {\r\n            count1 = 0;\r\n            count2 = 0;\r\n            exit = false;\r\n            do {\r\n                if (compare(array[cursor2], tmp[cursor1]) < 0) {\r\n                    array[dest++] = array[cursor2++];\r\n                    count2++;\r\n                    count1 = 0;\r\n                    if (--length2 === 0) {\r\n                        exit = true;\r\n                        break;\r\n                    }\r\n                }\r\n                else {\r\n                    array[dest++] = tmp[cursor1++];\r\n                    count1++;\r\n                    count2 = 0;\r\n                    if (--length1 === 1) {\r\n                        exit = true;\r\n                        break;\r\n                    }\r\n                }\r\n            } while ((count1 | count2) < _minGallop);\r\n            if (exit) {\r\n                break;\r\n            }\r\n            do {\r\n                count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\r\n                if (count1 !== 0) {\r\n                    for (i = 0; i < count1; i++) {\r\n                        array[dest + i] = tmp[cursor1 + i];\r\n                    }\r\n                    dest += count1;\r\n                    cursor1 += count1;\r\n                    length1 -= count1;\r\n                    if (length1 <= 1) {\r\n                        exit = true;\r\n                        break;\r\n                    }\r\n                }\r\n                array[dest++] = array[cursor2++];\r\n                if (--length2 === 0) {\r\n                    exit = true;\r\n                    break;\r\n                }\r\n                count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\r\n                if (count2 !== 0) {\r\n                    for (i = 0; i < count2; i++) {\r\n                        array[dest + i] = array[cursor2 + i];\r\n                    }\r\n                    dest += count2;\r\n                    cursor2 += count2;\r\n                    length2 -= count2;\r\n                    if (length2 === 0) {\r\n                        exit = true;\r\n                        break;\r\n                    }\r\n                }\r\n                array[dest++] = tmp[cursor1++];\r\n                if (--length1 === 1) {\r\n                    exit = true;\r\n                    break;\r\n                }\r\n                _minGallop--;\r\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\r\n            if (exit) {\r\n                break;\r\n            }\r\n            if (_minGallop < 0) {\r\n                _minGallop = 0;\r\n            }\r\n            _minGallop += 2;\r\n        }\r\n        minGallop = _minGallop;\r\n        minGallop < 1 && (minGallop = 1);\r\n        if (length1 === 1) {\r\n            for (i = 0; i < length2; i++) {\r\n                array[dest + i] = array[cursor2 + i];\r\n            }\r\n            array[dest + length2] = tmp[cursor1];\r\n        }\r\n        else if (length1 === 0) {\r\n            throw new Error();\r\n        }\r\n        else {\r\n            for (i = 0; i < length1; i++) {\r\n                array[dest + i] = tmp[cursor1 + i];\r\n            }\r\n        }\r\n    }\r\n    function mergeHigh(start1, length1, start2, length2) {\r\n        var i = 0;\r\n        for (i = 0; i < length2; i++) {\r\n            tmp[i] = array[start2 + i];\r\n        }\r\n        var cursor1 = start1 + length1 - 1;\r\n        var cursor2 = length2 - 1;\r\n        var dest = start2 + length2 - 1;\r\n        var customCursor = 0;\r\n        var customDest = 0;\r\n        array[dest--] = array[cursor1--];\r\n        if (--length1 === 0) {\r\n            customCursor = dest - (length2 - 1);\r\n            for (i = 0; i < length2; i++) {\r\n                array[customCursor + i] = tmp[i];\r\n            }\r\n            return;\r\n        }\r\n        if (length2 === 1) {\r\n            dest -= length1;\r\n            cursor1 -= length1;\r\n            customDest = dest + 1;\r\n            customCursor = cursor1 + 1;\r\n            for (i = length1 - 1; i >= 0; i--) {\r\n                array[customDest + i] = array[customCursor + i];\r\n            }\r\n            array[dest] = tmp[cursor2];\r\n            return;\r\n        }\r\n        var _minGallop = minGallop;\r\n        while (true) {\r\n            var count1 = 0;\r\n            var count2 = 0;\r\n            var exit = false;\r\n            do {\r\n                if (compare(tmp[cursor2], array[cursor1]) < 0) {\r\n                    array[dest--] = array[cursor1--];\r\n                    count1++;\r\n                    count2 = 0;\r\n                    if (--length1 === 0) {\r\n                        exit = true;\r\n                        break;\r\n                    }\r\n                }\r\n                else {\r\n                    array[dest--] = tmp[cursor2--];\r\n                    count2++;\r\n                    count1 = 0;\r\n                    if (--length2 === 1) {\r\n                        exit = true;\r\n                        break;\r\n                    }\r\n                }\r\n            } while ((count1 | count2) < _minGallop);\r\n            if (exit) {\r\n                break;\r\n            }\r\n            do {\r\n                count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\r\n                if (count1 !== 0) {\r\n                    dest -= count1;\r\n                    cursor1 -= count1;\r\n                    length1 -= count1;\r\n                    customDest = dest + 1;\r\n                    customCursor = cursor1 + 1;\r\n                    for (i = count1 - 1; i >= 0; i--) {\r\n                        array[customDest + i] = array[customCursor + i];\r\n                    }\r\n                    if (length1 === 0) {\r\n                        exit = true;\r\n                        break;\r\n                    }\r\n                }\r\n                array[dest--] = tmp[cursor2--];\r\n                if (--length2 === 1) {\r\n                    exit = true;\r\n                    break;\r\n                }\r\n                count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\r\n                if (count2 !== 0) {\r\n                    dest -= count2;\r\n                    cursor2 -= count2;\r\n                    length2 -= count2;\r\n                    customDest = dest + 1;\r\n                    customCursor = cursor2 + 1;\r\n                    for (i = 0; i < count2; i++) {\r\n                        array[customDest + i] = tmp[customCursor + i];\r\n                    }\r\n                    if (length2 <= 1) {\r\n                        exit = true;\r\n                        break;\r\n                    }\r\n                }\r\n                array[dest--] = array[cursor1--];\r\n                if (--length1 === 0) {\r\n                    exit = true;\r\n                    break;\r\n                }\r\n                _minGallop--;\r\n            } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\r\n            if (exit) {\r\n                break;\r\n            }\r\n            if (_minGallop < 0) {\r\n                _minGallop = 0;\r\n            }\r\n            _minGallop += 2;\r\n        }\r\n        minGallop = _minGallop;\r\n        if (minGallop < 1) {\r\n            minGallop = 1;\r\n        }\r\n        if (length2 === 1) {\r\n            dest -= length1;\r\n            cursor1 -= length1;\r\n            customDest = dest + 1;\r\n            customCursor = cursor1 + 1;\r\n            for (i = length1 - 1; i >= 0; i--) {\r\n                array[customDest + i] = array[customCursor + i];\r\n            }\r\n            array[dest] = tmp[cursor2];\r\n        }\r\n        else if (length2 === 0) {\r\n            throw new Error();\r\n        }\r\n        else {\r\n            customCursor = dest - (length2 - 1);\r\n            for (i = 0; i < length2; i++) {\r\n                array[customCursor + i] = tmp[i];\r\n            }\r\n        }\r\n    }\r\n    return {\r\n        mergeRuns: mergeRuns,\r\n        forceMergeRuns: forceMergeRuns,\r\n        pushRun: pushRun\r\n    };\r\n}\r\nexport default function sort(array, compare, lo, hi) {\r\n    if (!lo) {\r\n        lo = 0;\r\n    }\r\n    if (!hi) {\r\n        hi = array.length;\r\n    }\r\n    var remaining = hi - lo;\r\n    if (remaining < 2) {\r\n        return;\r\n    }\r\n    var runLength = 0;\r\n    if (remaining < DEFAULT_MIN_MERGE) {\r\n        runLength = makeAscendingRun(array, lo, hi, compare);\r\n        binaryInsertionSort(array, lo, hi, lo + runLength, compare);\r\n        return;\r\n    }\r\n    var ts = TimSort(array, compare);\r\n    var minRun = minRunLength(remaining);\r\n    do {\r\n        runLength = makeAscendingRun(array, lo, hi, compare);\r\n        if (runLength < minRun) {\r\n            var force = remaining;\r\n            if (force > minRun) {\r\n                force = minRun;\r\n            }\r\n            binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\r\n            runLength = force;\r\n        }\r\n        ts.pushRun(lo, runLength);\r\n        ts.mergeRuns();\r\n        remaining -= runLength;\r\n        lo += runLength;\r\n    } while (remaining !== 0);\r\n    ts.forceMergeRuns();\r\n}\r\n", "import * as util from './core/util.js';\r\nimport timsort from './core/timsort.js';\r\nimport { REDRAW_BIT } from './graphic/constants.js';\r\nvar invalidZErrorLogged = false;\r\nfunction logInvalidZError() {\r\n    if (invalidZErrorLogged) {\r\n        return;\r\n    }\r\n    invalidZErrorLogged = true;\r\n    console.warn('z / z2 / zlevel of displayable is invalid, which may cause unexpected errors');\r\n}\r\nfunction shapeCompareFunc(a, b) {\r\n    if (a.zlevel === b.zlevel) {\r\n        if (a.z === b.z) {\r\n            return a.z2 - b.z2;\r\n        }\r\n        return a.z - b.z;\r\n    }\r\n    return a.zlevel - b.zlevel;\r\n}\r\nvar Storage = (function () {\r\n    function Storage() {\r\n        this._roots = [];\r\n        this._displayList = [];\r\n        this._displayListLen = 0;\r\n        this.displayableSortFunc = shapeCompareFunc;\r\n    }\r\n    Storage.prototype.traverse = function (cb, context) {\r\n        for (var i = 0; i < this._roots.length; i++) {\r\n            this._roots[i].traverse(cb, context);\r\n        }\r\n    };\r\n    Storage.prototype.getDisplayList = function (update, includeIgnore) {\r\n        includeIgnore = includeIgnore || false;\r\n        var displayList = this._displayList;\r\n        if (update || !displayList.length) {\r\n            this.updateDisplayList(includeIgnore);\r\n        }\r\n        return displayList;\r\n    };\r\n    Storage.prototype.updateDisplayList = function (includeIgnore) {\r\n        this._displayListLen = 0;\r\n        var roots = this._roots;\r\n        var displayList = this._displayList;\r\n        for (var i = 0, len = roots.length; i < len; i++) {\r\n            this._updateAndAddDisplayable(roots[i], null, includeIgnore);\r\n        }\r\n        displayList.length = this._displayListLen;\r\n        timsort(displayList, shapeCompareFunc);\r\n    };\r\n    Storage.prototype._updateAndAddDisplayable = function (el, clipPaths, includeIgnore) {\r\n        if (el.ignore && !includeIgnore) {\r\n            return;\r\n        }\r\n        el.beforeUpdate();\r\n        el.update();\r\n        el.afterUpdate();\r\n        var userSetClipPath = el.getClipPath();\r\n        if (el.ignoreClip) {\r\n            clipPaths = null;\r\n        }\r\n        else if (userSetClipPath) {\r\n            if (clipPaths) {\r\n                clipPaths = clipPaths.slice();\r\n            }\r\n            else {\r\n                clipPaths = [];\r\n            }\r\n            var currentClipPath = userSetClipPath;\r\n            var parentClipPath = el;\r\n            while (currentClipPath) {\r\n                currentClipPath.parent = parentClipPath;\r\n                currentClipPath.updateTransform();\r\n                clipPaths.push(currentClipPath);\r\n                parentClipPath = currentClipPath;\r\n                currentClipPath = currentClipPath.getClipPath();\r\n            }\r\n        }\r\n        if (el.childrenRef) {\r\n            var children = el.childrenRef();\r\n            for (var i = 0; i < children.length; i++) {\r\n                var child = children[i];\r\n                if (el.__dirty) {\r\n                    child.__dirty |= REDRAW_BIT;\r\n                }\r\n                this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\r\n            }\r\n            el.__dirty = 0;\r\n        }\r\n        else {\r\n            var disp = el;\r\n            if (clipPaths && clipPaths.length) {\r\n                disp.__clipPaths = clipPaths;\r\n            }\r\n            else if (disp.__clipPaths && disp.__clipPaths.length > 0) {\r\n                disp.__clipPaths = [];\r\n            }\r\n            if (isNaN(disp.z)) {\r\n                logInvalidZError();\r\n                disp.z = 0;\r\n            }\r\n            if (isNaN(disp.z2)) {\r\n                logInvalidZError();\r\n                disp.z2 = 0;\r\n            }\r\n            if (isNaN(disp.zlevel)) {\r\n                logInvalidZError();\r\n                disp.zlevel = 0;\r\n            }\r\n            this._displayList[this._displayListLen++] = disp;\r\n        }\r\n        var decalEl = el.getDecalElement && el.getDecalElement();\r\n        if (decalEl) {\r\n            this._updateAndAddDisplayable(decalEl, clipPaths, includeIgnore);\r\n        }\r\n        var textGuide = el.getTextGuideLine();\r\n        if (textGuide) {\r\n            this._updateAndAddDisplayable(textGuide, clipPaths, includeIgnore);\r\n        }\r\n        var textEl = el.getTextContent();\r\n        if (textEl) {\r\n            this._updateAndAddDisplayable(textEl, clipPaths, includeIgnore);\r\n        }\r\n    };\r\n    Storage.prototype.addRoot = function (el) {\r\n        if (el.__zr && el.__zr.storage === this) {\r\n            return;\r\n        }\r\n        this._roots.push(el);\r\n    };\r\n    Storage.prototype.delRoot = function (el) {\r\n        if (el instanceof Array) {\r\n            for (var i = 0, l = el.length; i < l; i++) {\r\n                this.delRoot(el[i]);\r\n            }\r\n            return;\r\n        }\r\n        var idx = util.indexOf(this._roots, el);\r\n        if (idx >= 0) {\r\n            this._roots.splice(idx, 1);\r\n        }\r\n    };\r\n    Storage.prototype.delAllRoots = function () {\r\n        this._roots = [];\r\n        this._displayList = [];\r\n        this._displayListLen = 0;\r\n        return;\r\n    };\r\n    Storage.prototype.getRoots = function () {\r\n        return this._roots;\r\n    };\r\n    Storage.prototype.dispose = function () {\r\n        this._displayList = null;\r\n        this._roots = null;\r\n    };\r\n    return Storage;\r\n}());\r\nexport default Storage;\r\n", "import { __extends } from \"tslib\";\r\nimport Eventful from '../core/Eventful.js';\r\nimport requestAnimationFrame from './requestAnimationFrame.js';\r\nimport Animator from './Animator.js';\r\nexport function getTime() {\r\n    return new Date().getTime();\r\n}\r\nvar Animation = (function (_super) {\r\n    __extends(Animation, _super);\r\n    function Animation(opts) {\r\n        var _this = _super.call(this) || this;\r\n        _this._running = false;\r\n        _this._time = 0;\r\n        _this._pausedTime = 0;\r\n        _this._pauseStart = 0;\r\n        _this._paused = false;\r\n        opts = opts || {};\r\n        _this.stage = opts.stage || {};\r\n        return _this;\r\n    }\r\n    Animation.prototype.addClip = function (clip) {\r\n        if (clip.animation) {\r\n            this.removeClip(clip);\r\n        }\r\n        if (!this._head) {\r\n            this._head = this._tail = clip;\r\n        }\r\n        else {\r\n            this._tail.next = clip;\r\n            clip.prev = this._tail;\r\n            clip.next = null;\r\n            this._tail = clip;\r\n        }\r\n        clip.animation = this;\r\n    };\r\n    Animation.prototype.addAnimator = function (animator) {\r\n        animator.animation = this;\r\n        var clip = animator.getClip();\r\n        if (clip) {\r\n            this.addClip(clip);\r\n        }\r\n    };\r\n    Animation.prototype.removeClip = function (clip) {\r\n        if (!clip.animation) {\r\n            return;\r\n        }\r\n        var prev = clip.prev;\r\n        var next = clip.next;\r\n        if (prev) {\r\n            prev.next = next;\r\n        }\r\n        else {\r\n            this._head = next;\r\n        }\r\n        if (next) {\r\n            next.prev = prev;\r\n        }\r\n        else {\r\n            this._tail = prev;\r\n        }\r\n        clip.next = clip.prev = clip.animation = null;\r\n    };\r\n    Animation.prototype.removeAnimator = function (animator) {\r\n        var clip = animator.getClip();\r\n        if (clip) {\r\n            this.removeClip(clip);\r\n        }\r\n        animator.animation = null;\r\n    };\r\n    Animation.prototype.update = function (notTriggerFrameAndStageUpdate) {\r\n        var time = getTime() - this._pausedTime;\r\n        var delta = time - this._time;\r\n        var clip = this._head;\r\n        while (clip) {\r\n            var nextClip = clip.next;\r\n            var finished = clip.step(time, delta);\r\n            if (finished) {\r\n                clip.ondestroy();\r\n                this.removeClip(clip);\r\n                clip = nextClip;\r\n            }\r\n            else {\r\n                clip = nextClip;\r\n            }\r\n        }\r\n        this._time = time;\r\n        if (!notTriggerFrameAndStageUpdate) {\r\n            this.trigger('frame', delta);\r\n            this.stage.update && this.stage.update();\r\n        }\r\n    };\r\n    Animation.prototype._startLoop = function () {\r\n        var self = this;\r\n        this._running = true;\r\n        function step() {\r\n            if (self._running) {\r\n                requestAnimationFrame(step);\r\n                !self._paused && self.update();\r\n            }\r\n        }\r\n        requestAnimationFrame(step);\r\n    };\r\n    Animation.prototype.start = function () {\r\n        if (this._running) {\r\n            return;\r\n        }\r\n        this._time = getTime();\r\n        this._pausedTime = 0;\r\n        this._startLoop();\r\n    };\r\n    Animation.prototype.stop = function () {\r\n        this._running = false;\r\n    };\r\n    Animation.prototype.pause = function () {\r\n        if (!this._paused) {\r\n            this._pauseStart = getTime();\r\n            this._paused = true;\r\n        }\r\n    };\r\n    Animation.prototype.resume = function () {\r\n        if (this._paused) {\r\n            this._pausedTime += getTime() - this._pauseStart;\r\n            this._paused = false;\r\n        }\r\n    };\r\n    Animation.prototype.clear = function () {\r\n        var clip = this._head;\r\n        while (clip) {\r\n            var nextClip = clip.next;\r\n            clip.prev = clip.next = clip.animation = null;\r\n            clip = nextClip;\r\n        }\r\n        this._head = this._tail = null;\r\n    };\r\n    Animation.prototype.isFinished = function () {\r\n        return this._head == null;\r\n    };\r\n    Animation.prototype.animate = function (target, options) {\r\n        options = options || {};\r\n        this.start();\r\n        var animator = new Animator(target, options.loop);\r\n        this.addAnimator(animator);\r\n        return animator;\r\n    };\r\n    return Animation;\r\n}(Eventful));\r\nexport default Animation;\r\n", "import { __extends } from \"tslib\";\r\nimport { addEventListener, removeEventListener, normalizeEvent, getNativeEvent } from '../core/event.js';\r\nimport * as zrUtil from '../core/util.js';\r\nimport Eventful from '../core/Eventful.js';\r\nimport env from '../core/env.js';\r\nvar TOUCH_CLICK_DELAY = 300;\r\nvar globalEventSupported = env.domSupported;\r\nvar localNativeListenerNames = (function () {\r\n    var mouseHandlerNames = [\r\n        'click', 'dblclick', 'mousewheel', 'wheel', 'mouseout',\r\n        'mouseup', 'mousedown', 'mousemove', 'contextmenu'\r\n    ];\r\n    var touchHandlerNames = [\r\n        'touchstart', 'touchend', 'touchmove'\r\n    ];\r\n    var pointerEventNameMap = {\r\n        pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1\r\n    };\r\n    var pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\r\n        var nm = name.replace('mouse', 'pointer');\r\n        return pointerEventNameMap.hasOwnProperty(nm) ? nm : name;\r\n    });\r\n    return {\r\n        mouse: mouseHandlerNames,\r\n        touch: touchHandlerNames,\r\n        pointer: pointerHandlerNames\r\n    };\r\n})();\r\nvar globalNativeListenerNames = {\r\n    mouse: ['mousemove', 'mouseup'],\r\n    pointer: ['pointermove', 'pointerup']\r\n};\r\nvar wheelEventSupported = false;\r\nfunction isPointerFromTouch(event) {\r\n    var pointerType = event.pointerType;\r\n    return pointerType === 'pen' || pointerType === 'touch';\r\n}\r\nfunction setTouchTimer(scope) {\r\n    scope.touching = true;\r\n    if (scope.touchTimer != null) {\r\n        clearTimeout(scope.touchTimer);\r\n        scope.touchTimer = null;\r\n    }\r\n    scope.touchTimer = setTimeout(function () {\r\n        scope.touching = false;\r\n        scope.touchTimer = null;\r\n    }, 700);\r\n}\r\nfunction markTouch(event) {\r\n    event && (event.zrByTouch = true);\r\n}\r\nfunction normalizeGlobalEvent(instance, event) {\r\n    return normalizeEvent(instance.dom, new FakeGlobalEvent(instance, event), true);\r\n}\r\nfunction isLocalEl(instance, el) {\r\n    var elTmp = el;\r\n    var isLocal = false;\r\n    while (elTmp && elTmp.nodeType !== 9\r\n        && !(isLocal = elTmp.domBelongToZr\r\n            || (elTmp !== el && elTmp === instance.painterRoot))) {\r\n        elTmp = elTmp.parentNode;\r\n    }\r\n    return isLocal;\r\n}\r\nvar FakeGlobalEvent = (function () {\r\n    function FakeGlobalEvent(instance, event) {\r\n        this.stopPropagation = zrUtil.noop;\r\n        this.stopImmediatePropagation = zrUtil.noop;\r\n        this.preventDefault = zrUtil.noop;\r\n        this.type = event.type;\r\n        this.target = this.currentTarget = instance.dom;\r\n        this.pointerType = event.pointerType;\r\n        this.clientX = event.clientX;\r\n        this.clientY = event.clientY;\r\n    }\r\n    return FakeGlobalEvent;\r\n}());\r\nvar localDOMHandlers = {\r\n    mousedown: function (event) {\r\n        event = normalizeEvent(this.dom, event);\r\n        this.__mayPointerCapture = [event.zrX, event.zrY];\r\n        this.trigger('mousedown', event);\r\n    },\r\n    mousemove: function (event) {\r\n        event = normalizeEvent(this.dom, event);\r\n        var downPoint = this.__mayPointerCapture;\r\n        if (downPoint && (event.zrX !== downPoint[0] || event.zrY !== downPoint[1])) {\r\n            this.__togglePointerCapture(true);\r\n        }\r\n        this.trigger('mousemove', event);\r\n    },\r\n    mouseup: function (event) {\r\n        event = normalizeEvent(this.dom, event);\r\n        this.__togglePointerCapture(false);\r\n        this.trigger('mouseup', event);\r\n    },\r\n    mouseout: function (event) {\r\n        event = normalizeEvent(this.dom, event);\r\n        var element = event.toElement || event.relatedTarget;\r\n        if (!isLocalEl(this, element)) {\r\n            if (this.__pointerCapturing) {\r\n                event.zrEventControl = 'no_globalout';\r\n            }\r\n            this.trigger('mouseout', event);\r\n        }\r\n    },\r\n    wheel: function (event) {\r\n        wheelEventSupported = true;\r\n        event = normalizeEvent(this.dom, event);\r\n        this.trigger('mousewheel', event);\r\n    },\r\n    mousewheel: function (event) {\r\n        if (wheelEventSupported) {\r\n            return;\r\n        }\r\n        event = normalizeEvent(this.dom, event);\r\n        this.trigger('mousewheel', event);\r\n    },\r\n    touchstart: function (event) {\r\n        event = normalizeEvent(this.dom, event);\r\n        markTouch(event);\r\n        this.__lastTouchMoment = new Date();\r\n        this.handler.processGesture(event, 'start');\r\n        localDOMHandlers.mousemove.call(this, event);\r\n        localDOMHandlers.mousedown.call(this, event);\r\n    },\r\n    touchmove: function (event) {\r\n        event = normalizeEvent(this.dom, event);\r\n        markTouch(event);\r\n        this.handler.processGesture(event, 'change');\r\n        localDOMHandlers.mousemove.call(this, event);\r\n    },\r\n    touchend: function (event) {\r\n        event = normalizeEvent(this.dom, event);\r\n        markTouch(event);\r\n        this.handler.processGesture(event, 'end');\r\n        localDOMHandlers.mouseup.call(this, event);\r\n        if (+new Date() - (+this.__lastTouchMoment) < TOUCH_CLICK_DELAY) {\r\n            localDOMHandlers.click.call(this, event);\r\n        }\r\n    },\r\n    pointerdown: function (event) {\r\n        localDOMHandlers.mousedown.call(this, event);\r\n    },\r\n    pointermove: function (event) {\r\n        if (!isPointerFromTouch(event)) {\r\n            localDOMHandlers.mousemove.call(this, event);\r\n        }\r\n    },\r\n    pointerup: function (event) {\r\n        localDOMHandlers.mouseup.call(this, event);\r\n    },\r\n    pointerout: function (event) {\r\n        if (!isPointerFromTouch(event)) {\r\n            localDOMHandlers.mouseout.call(this, event);\r\n        }\r\n    }\r\n};\r\nzrUtil.each(['click', 'dblclick', 'contextmenu'], function (name) {\r\n    localDOMHandlers[name] = function (event) {\r\n        event = normalizeEvent(this.dom, event);\r\n        this.trigger(name, event);\r\n    };\r\n});\r\nvar globalDOMHandlers = {\r\n    pointermove: function (event) {\r\n        if (!isPointerFromTouch(event)) {\r\n            globalDOMHandlers.mousemove.call(this, event);\r\n        }\r\n    },\r\n    pointerup: function (event) {\r\n        globalDOMHandlers.mouseup.call(this, event);\r\n    },\r\n    mousemove: function (event) {\r\n        this.trigger('mousemove', event);\r\n    },\r\n    mouseup: function (event) {\r\n        var pointerCaptureReleasing = this.__pointerCapturing;\r\n        this.__togglePointerCapture(false);\r\n        this.trigger('mouseup', event);\r\n        if (pointerCaptureReleasing) {\r\n            event.zrEventControl = 'only_globalout';\r\n            this.trigger('mouseout', event);\r\n        }\r\n    }\r\n};\r\nfunction mountLocalDOMEventListeners(instance, scope) {\r\n    var domHandlers = scope.domHandlers;\r\n    if (env.pointerEventsSupported) {\r\n        zrUtil.each(localNativeListenerNames.pointer, function (nativeEventName) {\r\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\r\n                domHandlers[nativeEventName].call(instance, event);\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        if (env.touchEventsSupported) {\r\n            zrUtil.each(localNativeListenerNames.touch, function (nativeEventName) {\r\n                mountSingleDOMEventListener(scope, nativeEventName, function (event) {\r\n                    domHandlers[nativeEventName].call(instance, event);\r\n                    setTouchTimer(scope);\r\n                });\r\n            });\r\n        }\r\n        zrUtil.each(localNativeListenerNames.mouse, function (nativeEventName) {\r\n            mountSingleDOMEventListener(scope, nativeEventName, function (event) {\r\n                event = getNativeEvent(event);\r\n                if (!scope.touching) {\r\n                    domHandlers[nativeEventName].call(instance, event);\r\n                }\r\n            });\r\n        });\r\n    }\r\n}\r\nfunction mountGlobalDOMEventListeners(instance, scope) {\r\n    if (env.pointerEventsSupported) {\r\n        zrUtil.each(globalNativeListenerNames.pointer, mount);\r\n    }\r\n    else if (!env.touchEventsSupported) {\r\n        zrUtil.each(globalNativeListenerNames.mouse, mount);\r\n    }\r\n    function mount(nativeEventName) {\r\n        function nativeEventListener(event) {\r\n            event = getNativeEvent(event);\r\n            if (!isLocalEl(instance, event.target)) {\r\n                event = normalizeGlobalEvent(instance, event);\r\n                scope.domHandlers[nativeEventName].call(instance, event);\r\n            }\r\n        }\r\n        mountSingleDOMEventListener(scope, nativeEventName, nativeEventListener, { capture: true });\r\n    }\r\n}\r\nfunction mountSingleDOMEventListener(scope, nativeEventName, listener, opt) {\r\n    scope.mounted[nativeEventName] = listener;\r\n    scope.listenerOpts[nativeEventName] = opt;\r\n    addEventListener(scope.domTarget, nativeEventName, listener, opt);\r\n}\r\nfunction unmountDOMEventListeners(scope) {\r\n    var mounted = scope.mounted;\r\n    for (var nativeEventName in mounted) {\r\n        if (mounted.hasOwnProperty(nativeEventName)) {\r\n            removeEventListener(scope.domTarget, nativeEventName, mounted[nativeEventName], scope.listenerOpts[nativeEventName]);\r\n        }\r\n    }\r\n    scope.mounted = {};\r\n}\r\nvar DOMHandlerScope = (function () {\r\n    function DOMHandlerScope(domTarget, domHandlers) {\r\n        this.mounted = {};\r\n        this.listenerOpts = {};\r\n        this.touching = false;\r\n        this.domTarget = domTarget;\r\n        this.domHandlers = domHandlers;\r\n    }\r\n    return DOMHandlerScope;\r\n}());\r\nvar HandlerDomProxy = (function (_super) {\r\n    __extends(HandlerDomProxy, _super);\r\n    function HandlerDomProxy(dom, painterRoot) {\r\n        var _this = _super.call(this) || this;\r\n        _this.__pointerCapturing = false;\r\n        _this.dom = dom;\r\n        _this.painterRoot = painterRoot;\r\n        _this._localHandlerScope = new DOMHandlerScope(dom, localDOMHandlers);\r\n        if (globalEventSupported) {\r\n            _this._globalHandlerScope = new DOMHandlerScope(document, globalDOMHandlers);\r\n        }\r\n        mountLocalDOMEventListeners(_this, _this._localHandlerScope);\r\n        return _this;\r\n    }\r\n    HandlerDomProxy.prototype.dispose = function () {\r\n        unmountDOMEventListeners(this._localHandlerScope);\r\n        if (globalEventSupported) {\r\n            unmountDOMEventListeners(this._globalHandlerScope);\r\n        }\r\n    };\r\n    HandlerDomProxy.prototype.setCursor = function (cursorStyle) {\r\n        this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\r\n    };\r\n    HandlerDomProxy.prototype.__togglePointerCapture = function (isPointerCapturing) {\r\n        this.__mayPointerCapture = null;\r\n        if (globalEventSupported\r\n            && ((+this.__pointerCapturing) ^ (+isPointerCapturing))) {\r\n            this.__pointerCapturing = isPointerCapturing;\r\n            var globalHandlerScope = this._globalHandlerScope;\r\n            isPointerCapturing\r\n                ? mountGlobalDOMEventListeners(this, globalHandlerScope)\r\n                : unmountDOMEventListeners(globalHandlerScope);\r\n        }\r\n    };\r\n    return HandlerDomProxy;\r\n}(Eventful));\r\nexport default HandlerDomProxy;\r\n", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport Group from 'zrender/lib/graphic/Group.js';\r\nimport * as componentUtil from '../util/component.js';\r\nimport * as clazzUtil from '../util/clazz.js';\r\n\r\nvar ComponentView =\r\n/** @class */\r\nfunction () {\r\n  function ComponentView() {\r\n    this.group = new Group();\r\n    this.uid = componentUtil.getUID('viewComponent');\r\n  }\r\n\r\n  ComponentView.prototype.init = function (ecModel, api) {};\r\n\r\n  ComponentView.prototype.render = function (model, ecModel, api, payload) {};\r\n\r\n  ComponentView.prototype.dispose = function (ecModel, api) {};\r\n\r\n  ComponentView.prototype.updateView = function (model, ecModel, api, payload) {// Do nothing;\r\n  };\r\n\r\n  ComponentView.prototype.updateLayout = function (model, ecModel, api, payload) {// Do nothing;\r\n  };\r\n\r\n  ComponentView.prototype.updateVisual = function (model, ecModel, api, payload) {// Do nothing;\r\n  };\r\n  /**\r\n   * Hook for toggle blur target series.\r\n   * Can be used in marker for blur or leave blur the markers\r\n   */\r\n\r\n\r\n  ComponentView.prototype.toggleBlurSeries = function (seriesModels, isBlur, ecModel) {// Do nothing;\r\n  };\r\n  /**\r\n   * Traverse the new rendered elements.\r\n   *\r\n   * It will traverse the new added element in progressive rendering.\r\n   * And traverse all in normal rendering.\r\n   */\r\n\r\n\r\n  ComponentView.prototype.eachRendered = function (cb) {\r\n    var group = this.group;\r\n\r\n    if (group) {\r\n      group.traverse(cb);\r\n    }\r\n  };\r\n\r\n  return ComponentView;\r\n}();\r\n\r\n;\r\nclazzUtil.enableClassExtend(ComponentView);\r\nclazzUtil.enableClassManagement(ComponentView);\r\nexport default ComponentView;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { makeInner } from '../../util/model.js';\r\n/**\r\n * @return {string} If large mode changed, return string 'reset';\r\n */\r\n\r\nexport default function createRenderPlanner() {\r\n  var inner = makeInner();\r\n  return function (seriesModel) {\r\n    var fields = inner(seriesModel);\r\n    var pipelineContext = seriesModel.pipelineContext;\r\n    var originalLarge = !!fields.large;\r\n    var originalProgressive = !!fields.progressiveRender; // FIXME: if the planner works on a filtered series, `pipelineContext` does not\r\n    // exists. See #11611 . Probably we need to modify this structure, see the comment\r\n    // on `performRawSeries` in `Schedular.js`.\r\n\r\n    var large = fields.large = !!(pipelineContext && pipelineContext.large);\r\n    var progressive = fields.progressiveRender = !!(pipelineContext && pipelineContext.progressiveRender);\r\n    return !!(originalLarge !== large || originalProgressive !== progressive) && 'reset';\r\n  };\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { each } from 'zrender/lib/core/util.js';\r\nimport Group from 'zrender/lib/graphic/Group.js';\r\nimport * as componentUtil from '../util/component.js';\r\nimport * as clazzUtil from '../util/clazz.js';\r\nimport * as modelUtil from '../util/model.js';\r\nimport { enterEmphasis, leaveEmphasis, getHighlightDigit, isHighDownDispatcher } from '../util/states.js';\r\nimport { createTask } from '../core/task.js';\r\nimport createRenderPlanner from '../chart/helper/createRenderPlanner.js';\r\nimport { traverseElements } from '../util/graphic.js';\r\nimport { error } from '../util/log.js';\r\nvar inner = modelUtil.makeInner();\r\nvar renderPlanner = createRenderPlanner();\r\n\r\nvar ChartView =\r\n/** @class */\r\nfunction () {\r\n  function ChartView() {\r\n    this.group = new Group();\r\n    this.uid = componentUtil.getUID('viewChart');\r\n    this.renderTask = createTask({\r\n      plan: renderTaskPlan,\r\n      reset: renderTaskReset\r\n    });\r\n    this.renderTask.context = {\r\n      view: this\r\n    };\r\n  }\r\n\r\n  ChartView.prototype.init = function (ecModel, api) {};\r\n\r\n  ChartView.prototype.render = function (seriesModel, ecModel, api, payload) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      throw new Error('render method must been implemented');\r\n    }\r\n  };\r\n  /**\r\n   * Highlight series or specified data item.\r\n   */\r\n\r\n\r\n  ChartView.prototype.highlight = function (seriesModel, ecModel, api, payload) {\r\n    var data = seriesModel.getData(payload && payload.dataType);\r\n\r\n    if (!data) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        error(\"Unknown dataType \" + payload.dataType);\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    toggleHighlight(data, payload, 'emphasis');\r\n  };\r\n  /**\r\n   * Downplay series or specified data item.\r\n   */\r\n\r\n\r\n  ChartView.prototype.downplay = function (seriesModel, ecModel, api, payload) {\r\n    var data = seriesModel.getData(payload && payload.dataType);\r\n\r\n    if (!data) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        error(\"Unknown dataType \" + payload.dataType);\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    toggleHighlight(data, payload, 'normal');\r\n  };\r\n  /**\r\n   * Remove self.\r\n   */\r\n\r\n\r\n  ChartView.prototype.remove = function (ecModel, api) {\r\n    this.group.removeAll();\r\n  };\r\n  /**\r\n   * Dispose self.\r\n   */\r\n\r\n\r\n  ChartView.prototype.dispose = function (ecModel, api) {};\r\n\r\n  ChartView.prototype.updateView = function (seriesModel, ecModel, api, payload) {\r\n    this.render(seriesModel, ecModel, api, payload);\r\n  }; // FIXME never used?\r\n\r\n\r\n  ChartView.prototype.updateLayout = function (seriesModel, ecModel, api, payload) {\r\n    this.render(seriesModel, ecModel, api, payload);\r\n  }; // FIXME never used?\r\n\r\n\r\n  ChartView.prototype.updateVisual = function (seriesModel, ecModel, api, payload) {\r\n    this.render(seriesModel, ecModel, api, payload);\r\n  };\r\n  /**\r\n   * Traverse the new rendered elements.\r\n   *\r\n   * It will traverse the new added element in progressive rendering.\r\n   * And traverse all in normal rendering.\r\n   */\r\n\r\n\r\n  ChartView.prototype.eachRendered = function (cb) {\r\n    traverseElements(this.group, cb);\r\n  };\r\n\r\n  ChartView.markUpdateMethod = function (payload, methodName) {\r\n    inner(payload).updateMethod = methodName;\r\n  };\r\n\r\n  ChartView.protoInitialize = function () {\r\n    var proto = ChartView.prototype;\r\n    proto.type = 'chart';\r\n  }();\r\n\r\n  return ChartView;\r\n}();\r\n\r\n;\r\n/**\r\n * Set state of single element\r\n */\r\n\r\nfunction elSetState(el, state, highlightDigit) {\r\n  if (el && isHighDownDispatcher(el)) {\r\n    (state === 'emphasis' ? enterEmphasis : leaveEmphasis)(el, highlightDigit);\r\n  }\r\n}\r\n\r\nfunction toggleHighlight(data, payload, state) {\r\n  var dataIndex = modelUtil.queryDataIndex(data, payload);\r\n  var highlightDigit = payload && payload.highlightKey != null ? getHighlightDigit(payload.highlightKey) : null;\r\n\r\n  if (dataIndex != null) {\r\n    each(modelUtil.normalizeToArray(dataIndex), function (dataIdx) {\r\n      elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);\r\n    });\r\n  } else {\r\n    data.eachItemGraphicEl(function (el) {\r\n      elSetState(el, state, highlightDigit);\r\n    });\r\n  }\r\n}\r\n\r\nclazzUtil.enableClassExtend(ChartView, ['dispose']);\r\nclazzUtil.enableClassManagement(ChartView);\r\n\r\nfunction renderTaskPlan(context) {\r\n  return renderPlanner(context.model);\r\n}\r\n\r\nfunction renderTaskReset(context) {\r\n  var seriesModel = context.model;\r\n  var ecModel = context.ecModel;\r\n  var api = context.api;\r\n  var payload = context.payload; // FIXME: remove updateView updateVisual\r\n\r\n  var progressiveRender = seriesModel.pipelineContext.progressiveRender;\r\n  var view = context.view;\r\n  var updateMethod = payload && inner(payload).updateMethod;\r\n  var methodName = progressiveRender ? 'incrementalPrepareRender' : updateMethod && view[updateMethod] ? updateMethod // `appendData` is also supported when data amount\r\n  // is less than progressive threshold.\r\n  : 'render';\r\n\r\n  if (methodName !== 'render') {\r\n    view[methodName](seriesModel, ecModel, api, payload);\r\n  }\r\n\r\n  return progressMethodMap[methodName];\r\n}\r\n\r\nvar progressMethodMap = {\r\n  incrementalPrepareRender: {\r\n    progress: function (params, context) {\r\n      context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);\r\n    }\r\n  },\r\n  render: {\r\n    // Put view.render in `progress` to support appendData. But in this case\r\n    // view.render should not be called in reset, otherwise it will be called\r\n    // twise. Use `forceFirstProgress` to make sure that view.render is called\r\n    // in any cases.\r\n    forceFirstProgress: true,\r\n    progress: function (params, context) {\r\n      context.view.render(context.model, context.ecModel, context.api, context.payload);\r\n    }\r\n  }\r\n};\r\nexport default ChartView;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nvar ORIGIN_METHOD = '\\0__throttleOriginMethod';\r\nvar RATE = '\\0__throttleRate';\r\nvar THROTTLE_TYPE = '\\0__throttleType';\r\n;\r\n/**\r\n * @public\r\n * @param {(Function)} fn\r\n * @param {number} [delay=0] Unit: ms.\r\n * @param {boolean} [debounce=false]\r\n *        true: If call interval less than `delay`, only the last call works.\r\n *        false: If call interval less than `delay, call works on fixed rate.\r\n * @return {(Function)} throttled fn.\r\n */\r\n\r\nexport function throttle(fn, delay, debounce) {\r\n  var currCall;\r\n  var lastCall = 0;\r\n  var lastExec = 0;\r\n  var timer = null;\r\n  var diff;\r\n  var scope;\r\n  var args;\r\n  var debounceNextCall;\r\n  delay = delay || 0;\r\n\r\n  function exec() {\r\n    lastExec = new Date().getTime();\r\n    timer = null;\r\n    fn.apply(scope, args || []);\r\n  }\r\n\r\n  var cb = function () {\r\n    var cbArgs = [];\r\n\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n      cbArgs[_i] = arguments[_i];\r\n    }\r\n\r\n    currCall = new Date().getTime();\r\n    scope = this;\r\n    args = cbArgs;\r\n    var thisDelay = debounceNextCall || delay;\r\n    var thisDebounce = debounceNextCall || debounce;\r\n    debounceNextCall = null;\r\n    diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\r\n    clearTimeout(timer); // Here we should make sure that: the `exec` SHOULD NOT be called later\r\n    // than a new call of `cb`, that is, preserving the command order. Consider\r\n    // calculating \"scale rate\" when roaming as an example. When a call of `cb`\r\n    // happens, either the `exec` is called dierectly, or the call is delayed.\r\n    // But the delayed call should never be later than next call of `cb`. Under\r\n    // this assurance, we can simply update view state each time `dispatchAction`\r\n    // triggered by user roaming, but not need to add extra code to avoid the\r\n    // state being \"rolled-back\".\r\n\r\n    if (thisDebounce) {\r\n      timer = setTimeout(exec, thisDelay);\r\n    } else {\r\n      if (diff >= 0) {\r\n        exec();\r\n      } else {\r\n        timer = setTimeout(exec, -diff);\r\n      }\r\n    }\r\n\r\n    lastCall = currCall;\r\n  };\r\n  /**\r\n   * Clear throttle.\r\n   * @public\r\n   */\r\n\r\n\r\n  cb.clear = function () {\r\n    if (timer) {\r\n      clearTimeout(timer);\r\n      timer = null;\r\n    }\r\n  };\r\n  /**\r\n   * Enable debounce once.\r\n   */\r\n\r\n\r\n  cb.debounceNextCall = function (debounceDelay) {\r\n    debounceNextCall = debounceDelay;\r\n  };\r\n\r\n  return cb;\r\n}\r\n/**\r\n * Create throttle method or update throttle rate.\r\n *\r\n * @example\r\n * ComponentView.prototype.render = function () {\r\n *     ...\r\n *     throttle.createOrUpdate(\r\n *         this,\r\n *         '_dispatchAction',\r\n *         this.model.get('throttle'),\r\n *         'fixRate'\r\n *     );\r\n * };\r\n * ComponentView.prototype.remove = function () {\r\n *     throttle.clear(this, '_dispatchAction');\r\n * };\r\n * ComponentView.prototype.dispose = function () {\r\n *     throttle.clear(this, '_dispatchAction');\r\n * };\r\n *\r\n */\r\n\r\nexport function createOrUpdate(obj, fnAttr, rate, throttleType) {\r\n  var fn = obj[fnAttr];\r\n\r\n  if (!fn) {\r\n    return;\r\n  }\r\n\r\n  var originFn = fn[ORIGIN_METHOD] || fn;\r\n  var lastThrottleType = fn[THROTTLE_TYPE];\r\n  var lastRate = fn[RATE];\r\n\r\n  if (lastRate !== rate || lastThrottleType !== throttleType) {\r\n    if (rate == null || !throttleType) {\r\n      return obj[fnAttr] = originFn;\r\n    }\r\n\r\n    fn = obj[fnAttr] = throttle(originFn, rate, throttleType === 'debounce');\r\n    fn[ORIGIN_METHOD] = originFn;\r\n    fn[THROTTLE_TYPE] = throttleType;\r\n    fn[RATE] = rate;\r\n  }\r\n\r\n  return fn;\r\n}\r\n/**\r\n * Clear throttle. Example see throttle.createOrUpdate.\r\n */\r\n\r\nexport function clear(obj, fnAttr) {\r\n  var fn = obj[fnAttr];\r\n\r\n  if (fn && fn[ORIGIN_METHOD]) {\r\n    // Clear throttle\r\n    fn.clear && fn.clear();\r\n    obj[fnAttr] = fn[ORIGIN_METHOD];\r\n  }\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nvar platform = ''; // Navigator not exists in node\r\n\r\nif (typeof navigator !== 'undefined') {\r\n  /* global navigator */\r\n  platform = navigator.platform || '';\r\n}\r\n\r\nvar decalColor = 'rgba(0, 0, 0, 0.2)';\r\nexport default {\r\n  darkMode: 'auto',\r\n  // backgroundColor: 'rgba(0,0,0,0)',\r\n  colorBy: 'series',\r\n  color: ['#5470c6', '#91cc75', '#fac858', '#ee6666', '#73c0de', '#3ba272', '#fc8452', '#9a60b4', '#ea7ccc'],\r\n  gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\r\n  aria: {\r\n    decal: {\r\n      decals: [{\r\n        color: decalColor,\r\n        dashArrayX: [1, 0],\r\n        dashArrayY: [2, 5],\r\n        symbolSize: 1,\r\n        rotation: Math.PI / 6\r\n      }, {\r\n        color: decalColor,\r\n        symbol: 'circle',\r\n        dashArrayX: [[8, 8], [0, 8, 8, 0]],\r\n        dashArrayY: [6, 0],\r\n        symbolSize: 0.8\r\n      }, {\r\n        color: decalColor,\r\n        dashArrayX: [1, 0],\r\n        dashArrayY: [4, 3],\r\n        rotation: -Math.PI / 4\r\n      }, {\r\n        color: decalColor,\r\n        dashArrayX: [[6, 6], [0, 6, 6, 0]],\r\n        dashArrayY: [6, 0]\r\n      }, {\r\n        color: decalColor,\r\n        dashArrayX: [[1, 0], [1, 6]],\r\n        dashArrayY: [1, 0, 6, 0],\r\n        rotation: Math.PI / 4\r\n      }, {\r\n        color: decalColor,\r\n        symbol: 'triangle',\r\n        dashArrayX: [[9, 9], [0, 9, 9, 0]],\r\n        dashArrayY: [7, 2],\r\n        symbolSize: 0.75\r\n      }]\r\n    }\r\n  },\r\n  // If xAxis and yAxis declared, grid is created by default.\r\n  // grid: {},\r\n  textStyle: {\r\n    // color: '#000',\r\n    // decoration: 'none',\r\n    // PENDING\r\n    fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\r\n    // fontFamily: 'Arial, Verdana, sans-serif',\r\n    fontSize: 12,\r\n    fontStyle: 'normal',\r\n    fontWeight: 'normal'\r\n  },\r\n  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\r\n  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\r\n  // Default is source-over\r\n  blendMode: null,\r\n  stateAnimation: {\r\n    duration: 300,\r\n    easing: 'cubicOut'\r\n  },\r\n  animation: 'auto',\r\n  animationDuration: 1000,\r\n  animationDurationUpdate: 500,\r\n  animationEasing: 'cubicInOut',\r\n  animationEasingUpdate: 'cubicInOut',\r\n  animationThreshold: 2000,\r\n  // Configuration for progressive/incremental rendering\r\n  progressiveThreshold: 3000,\r\n  progressive: 400,\r\n  // Threshold of if use single hover layer to optimize.\r\n  // It is recommended that `hoverLayerThreshold` is equivalent to or less than\r\n  // `progressiveThreshold`, otherwise hover will cause restart of progressive,\r\n  // which is unexpected.\r\n  // see example <echarts/test/heatmap-large.html>.\r\n  hoverLayerThreshold: 3000,\r\n  // See: module:echarts/scale/Time\r\n  useUTC: false\r\n};", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { createHashMap, assert } from 'zrender/lib/core/util.js';\r\nimport { isComponentIdInternal } from '../util/model.js';\r\nvar internalOptionCreatorMap = createHashMap();\r\nexport function registerInternalOptionCreator(mainType, creator) {\r\n  assert(internalOptionCreatorMap.get(mainType) == null && creator);\r\n  internalOptionCreatorMap.set(mainType, creator);\r\n}\r\nexport function concatInternalOptions(ecModel, mainType, newCmptOptionList) {\r\n  var internalOptionCreator = internalOptionCreatorMap.get(mainType);\r\n\r\n  if (!internalOptionCreator) {\r\n    return newCmptOptionList;\r\n  }\r\n\r\n  var internalOptions = internalOptionCreator(ecModel);\r\n\r\n  if (!internalOptions) {\r\n    return newCmptOptionList;\r\n  }\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    for (var i = 0; i < internalOptions.length; i++) {\r\n      assert(isComponentIdInternal(internalOptions[i]));\r\n    }\r\n  }\r\n\r\n  return newCmptOptionList.concat(internalOptions);\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { __extends } from \"tslib\";\r\n/**\r\n * Caution: If the mechanism should be changed some day, these cases\r\n * should be considered:\r\n *\r\n * (1) In `merge option` mode, if using the same option to call `setOption`\r\n * many times, the result should be the same (try our best to ensure that).\r\n * (2) In `merge option` mode, if a component has no id/name specified, it\r\n * will be merged by index, and the result sequence of the components is\r\n * consistent to the original sequence.\r\n * (3) In `replaceMerge` mode, keep the result sequence of the components is\r\n * consistent to the original sequence, even though there might result in \"hole\".\r\n * (4) `reset` feature (in toolbox). Find detailed info in comments about\r\n * `mergeOption` in module:echarts/model/OptionManager.\r\n */\r\n\r\nimport { each, filter, isArray, isObject, isString, createHashMap, assert, clone, merge, extend, mixin, isFunction } from 'zrender/lib/core/util.js';\r\nimport * as modelUtil from '../util/model.js';\r\nimport Model from './Model.js';\r\nimport ComponentModel from './Component.js';\r\nimport globalDefault from './globalDefault.js';\r\nimport { resetSourceDefaulter } from '../data/helper/sourceHelper.js';\r\nimport { concatInternalOptions } from './internalComponentCreator.js';\r\nimport { PaletteMixin } from './mixin/palette.js';\r\nimport { error, warn } from '../util/log.js'; // -----------------------\r\n// Internal method names:\r\n// -----------------------\r\n\r\nvar reCreateSeriesIndices;\r\nvar assertSeriesInitialized;\r\nvar initBase;\r\nvar OPTION_INNER_KEY = '\\0_ec_inner';\r\nvar OPTION_INNER_VALUE = 1;\r\nvar BUITIN_COMPONENTS_MAP = {\r\n  grid: 'GridComponent',\r\n  polar: 'PolarComponent',\r\n  geo: 'GeoComponent',\r\n  singleAxis: 'SingleAxisComponent',\r\n  parallel: 'ParallelComponent',\r\n  calendar: 'CalendarComponent',\r\n  graphic: 'GraphicComponent',\r\n  toolbox: 'ToolboxComponent',\r\n  tooltip: 'TooltipComponent',\r\n  axisPointer: 'AxisPointerComponent',\r\n  brush: 'BrushComponent',\r\n  title: 'TitleComponent',\r\n  timeline: 'TimelineComponent',\r\n  markPoint: 'MarkPointComponent',\r\n  markLine: 'MarkLineComponent',\r\n  markArea: 'MarkAreaComponent',\r\n  legend: 'LegendComponent',\r\n  dataZoom: 'DataZoomComponent',\r\n  visualMap: 'VisualMapComponent',\r\n  // aria: 'AriaComponent',\r\n  // dataset: 'DatasetComponent',\r\n  // Dependencies\r\n  xAxis: 'GridComponent',\r\n  yAxis: 'GridComponent',\r\n  angleAxis: 'PolarComponent',\r\n  radiusAxis: 'PolarComponent'\r\n};\r\nvar BUILTIN_CHARTS_MAP = {\r\n  line: 'LineChart',\r\n  bar: 'BarChart',\r\n  pie: 'PieChart',\r\n  scatter: 'ScatterChart',\r\n  radar: 'RadarChart',\r\n  map: 'MapChart',\r\n  tree: 'TreeChart',\r\n  treemap: 'TreemapChart',\r\n  graph: 'GraphChart',\r\n  gauge: 'GaugeChart',\r\n  funnel: 'FunnelChart',\r\n  parallel: 'ParallelChart',\r\n  sankey: 'SankeyChart',\r\n  boxplot: 'BoxplotChart',\r\n  candlestick: 'CandlestickChart',\r\n  effectScatter: 'EffectScatterChart',\r\n  lines: 'LinesChart',\r\n  heatmap: 'HeatmapChart',\r\n  pictorialBar: 'PictorialBarChart',\r\n  themeRiver: 'ThemeRiverChart',\r\n  sunburst: 'SunburstChart',\r\n  custom: 'CustomChart'\r\n};\r\nvar componetsMissingLogPrinted = {};\r\n\r\nfunction checkMissingComponents(option) {\r\n  each(option, function (componentOption, mainType) {\r\n    if (!ComponentModel.hasClass(mainType)) {\r\n      var componentImportName = BUITIN_COMPONENTS_MAP[mainType];\r\n\r\n      if (componentImportName && !componetsMissingLogPrinted[componentImportName]) {\r\n        error(\"Component \" + mainType + \" is used but not imported.\\nimport { \" + componentImportName + \" } from 'echarts/components';\\necharts.use([\" + componentImportName + \"]);\");\r\n        componetsMissingLogPrinted[componentImportName] = true;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nvar GlobalModel =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(GlobalModel, _super);\r\n\r\n  function GlobalModel() {\r\n    return _super !== null && _super.apply(this, arguments) || this;\r\n  }\r\n\r\n  GlobalModel.prototype.init = function (option, parentModel, ecModel, theme, locale, optionManager) {\r\n    theme = theme || {};\r\n    this.option = null; // Mark as not initialized.\r\n\r\n    this._theme = new Model(theme);\r\n    this._locale = new Model(locale);\r\n    this._optionManager = optionManager;\r\n  };\r\n\r\n  GlobalModel.prototype.setOption = function (option, opts, optionPreprocessorFuncs) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(option != null, 'option is null/undefined');\r\n      assert(option[OPTION_INNER_KEY] !== OPTION_INNER_VALUE, 'please use chart.getOption()');\r\n    }\r\n\r\n    var innerOpt = normalizeSetOptionInput(opts);\r\n\r\n    this._optionManager.setOption(option, optionPreprocessorFuncs, innerOpt);\r\n\r\n    this._resetOption(null, innerOpt);\r\n  };\r\n  /**\r\n   * @param type null/undefined: reset all.\r\n   *        'recreate': force recreate all.\r\n   *        'timeline': only reset timeline option\r\n   *        'media': only reset media query option\r\n   * @return Whether option changed.\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.resetOption = function (type, opt) {\r\n    return this._resetOption(type, normalizeSetOptionInput(opt));\r\n  };\r\n\r\n  GlobalModel.prototype._resetOption = function (type, opt) {\r\n    var optionChanged = false;\r\n    var optionManager = this._optionManager;\r\n\r\n    if (!type || type === 'recreate') {\r\n      var baseOption = optionManager.mountOption(type === 'recreate');\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        checkMissingComponents(baseOption);\r\n      }\r\n\r\n      if (!this.option || type === 'recreate') {\r\n        initBase(this, baseOption);\r\n      } else {\r\n        this.restoreData();\r\n\r\n        this._mergeOption(baseOption, opt);\r\n      }\r\n\r\n      optionChanged = true;\r\n    }\r\n\r\n    if (type === 'timeline' || type === 'media') {\r\n      this.restoreData();\r\n    } // By design, if `setOption(option2)` at the second time, and `option2` is a `ECUnitOption`,\r\n    // it should better not have the same props with `MediaUnit['option']`.\r\n    // Because either `option2` or `MediaUnit['option']` will be always merged to \"current option\"\r\n    // rather than original \"baseOption\". If they both override a prop, the result might be\r\n    // unexpected when media state changed after `setOption` called.\r\n    // If we really need to modify a props in each `MediaUnit['option']`, use the full version\r\n    // (`{baseOption, media}`) in `setOption`.\r\n    // For `timeline`, the case is the same.\r\n\r\n\r\n    if (!type || type === 'recreate' || type === 'timeline') {\r\n      var timelineOption = optionManager.getTimelineOption(this);\r\n\r\n      if (timelineOption) {\r\n        optionChanged = true;\r\n\r\n        this._mergeOption(timelineOption, opt);\r\n      }\r\n    }\r\n\r\n    if (!type || type === 'recreate' || type === 'media') {\r\n      var mediaOptions = optionManager.getMediaOption(this);\r\n\r\n      if (mediaOptions.length) {\r\n        each(mediaOptions, function (mediaOption) {\r\n          optionChanged = true;\r\n\r\n          this._mergeOption(mediaOption, opt);\r\n        }, this);\r\n      }\r\n    }\r\n\r\n    return optionChanged;\r\n  };\r\n\r\n  GlobalModel.prototype.mergeOption = function (option) {\r\n    this._mergeOption(option, null);\r\n  };\r\n\r\n  GlobalModel.prototype._mergeOption = function (newOption, opt) {\r\n    var option = this.option;\r\n    var componentsMap = this._componentsMap;\r\n    var componentsCount = this._componentsCount;\r\n    var newCmptTypes = [];\r\n    var newCmptTypeMap = createHashMap();\r\n    var replaceMergeMainTypeMap = opt && opt.replaceMergeMainTypeMap;\r\n    resetSourceDefaulter(this); // If no component class, merge directly.\r\n    // For example: color, animaiton options, etc.\r\n\r\n    each(newOption, function (componentOption, mainType) {\r\n      if (componentOption == null) {\r\n        return;\r\n      }\r\n\r\n      if (!ComponentModel.hasClass(mainType)) {\r\n        // globalSettingTask.dirty();\r\n        option[mainType] = option[mainType] == null ? clone(componentOption) : merge(option[mainType], componentOption, true);\r\n      } else if (mainType) {\r\n        newCmptTypes.push(mainType);\r\n        newCmptTypeMap.set(mainType, true);\r\n      }\r\n    });\r\n\r\n    if (replaceMergeMainTypeMap) {\r\n      // If there is a mainType `xxx` in `replaceMerge` but not declared in option,\r\n      // we trade it as it is declared in option as `{xxx: []}`. Because:\r\n      // (1) for normal merge, `{xxx: null/undefined}` are the same meaning as `{xxx: []}`.\r\n      // (2) some preprocessor may convert some of `{xxx: null/undefined}` to `{xxx: []}`.\r\n      replaceMergeMainTypeMap.each(function (val, mainTypeInReplaceMerge) {\r\n        if (ComponentModel.hasClass(mainTypeInReplaceMerge) && !newCmptTypeMap.get(mainTypeInReplaceMerge)) {\r\n          newCmptTypes.push(mainTypeInReplaceMerge);\r\n          newCmptTypeMap.set(mainTypeInReplaceMerge, true);\r\n        }\r\n      });\r\n    }\r\n\r\n    ComponentModel.topologicalTravel(newCmptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\r\n\r\n    function visitComponent(mainType) {\r\n      var newCmptOptionList = concatInternalOptions(this, mainType, modelUtil.normalizeToArray(newOption[mainType]));\r\n      var oldCmptList = componentsMap.get(mainType);\r\n      var mergeMode = // `!oldCmptList` means init. See the comment in `mappingToExists`\r\n      !oldCmptList ? 'replaceAll' : replaceMergeMainTypeMap && replaceMergeMainTypeMap.get(mainType) ? 'replaceMerge' : 'normalMerge';\r\n      var mappingResult = modelUtil.mappingToExists(oldCmptList, newCmptOptionList, mergeMode); // Set mainType and complete subType.\r\n\r\n      modelUtil.setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel); // Empty it before the travel, in order to prevent `this._componentsMap`\r\n      // from being used in the `init`/`mergeOption`/`optionUpdated` of some\r\n      // components, which is probably incorrect logic.\r\n\r\n      option[mainType] = null;\r\n      componentsMap.set(mainType, null);\r\n      componentsCount.set(mainType, 0);\r\n      var optionsByMainType = [];\r\n      var cmptsByMainType = [];\r\n      var cmptsCountByMainType = 0;\r\n      var tooltipExists;\r\n      var tooltipWarningLogged;\r\n      each(mappingResult, function (resultItem, index) {\r\n        var componentModel = resultItem.existing;\r\n        var newCmptOption = resultItem.newOption;\r\n\r\n        if (!newCmptOption) {\r\n          if (componentModel) {\r\n            // Consider where is no new option and should be merged using {},\r\n            // see removeEdgeAndAdd in topologicalTravel and\r\n            // ComponentModel.getAllClassMainTypes.\r\n            componentModel.mergeOption({}, this);\r\n            componentModel.optionUpdated({}, false);\r\n          } // If no both `resultItem.exist` and `resultItem.option`,\r\n          // either it is in `replaceMerge` and not matched by any id,\r\n          // or it has been removed in previous `replaceMerge` and left a \"hole\" in this component index.\r\n\r\n        } else {\r\n          var isSeriesType = mainType === 'series';\r\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, !isSeriesType // Give a more detailed warn later if series don't exists\r\n          );\r\n\r\n          if (!ComponentModelClass) {\r\n            if (process.env.NODE_ENV !== 'production') {\r\n              var subType = resultItem.keyInfo.subType;\r\n              var seriesImportName = BUILTIN_CHARTS_MAP[subType];\r\n\r\n              if (!componetsMissingLogPrinted[subType]) {\r\n                componetsMissingLogPrinted[subType] = true;\r\n\r\n                if (seriesImportName) {\r\n                  error(\"Series \" + subType + \" is used but not imported.\\nimport { \" + seriesImportName + \" } from 'echarts/charts';\\necharts.use([\" + seriesImportName + \"]);\");\r\n                } else {\r\n                  error(\"Unknown series \" + subType);\r\n                }\r\n              }\r\n            }\r\n\r\n            return;\r\n          } // TODO Before multiple tooltips get supported, we do this check to avoid unexpected exception.\r\n\r\n\r\n          if (mainType === 'tooltip') {\r\n            if (tooltipExists) {\r\n              if (process.env.NODE_ENV !== 'production') {\r\n                if (!tooltipWarningLogged) {\r\n                  warn('Currently only one tooltip component is allowed.');\r\n                  tooltipWarningLogged = true;\r\n                }\r\n              }\r\n\r\n              return;\r\n            }\r\n\r\n            tooltipExists = true;\r\n          }\r\n\r\n          if (componentModel && componentModel.constructor === ComponentModelClass) {\r\n            componentModel.name = resultItem.keyInfo.name; // componentModel.settingTask && componentModel.settingTask.dirty();\r\n\r\n            componentModel.mergeOption(newCmptOption, this);\r\n            componentModel.optionUpdated(newCmptOption, false);\r\n          } else {\r\n            // PENDING Global as parent ?\r\n            var extraOpt = extend({\r\n              componentIndex: index\r\n            }, resultItem.keyInfo);\r\n            componentModel = new ComponentModelClass(newCmptOption, this, this, extraOpt); // Assign `keyInfo`\r\n\r\n            extend(componentModel, extraOpt);\r\n\r\n            if (resultItem.brandNew) {\r\n              componentModel.__requireNewView = true;\r\n            }\r\n\r\n            componentModel.init(newCmptOption, this, this); // Call optionUpdated after init.\r\n            // newCmptOption has been used as componentModel.option\r\n            // and may be merged with theme and default, so pass null\r\n            // to avoid confusion.\r\n\r\n            componentModel.optionUpdated(null, true);\r\n          }\r\n        }\r\n\r\n        if (componentModel) {\r\n          optionsByMainType.push(componentModel.option);\r\n          cmptsByMainType.push(componentModel);\r\n          cmptsCountByMainType++;\r\n        } else {\r\n          // Always do assign to avoid elided item in array.\r\n          optionsByMainType.push(void 0);\r\n          cmptsByMainType.push(void 0);\r\n        }\r\n      }, this);\r\n      option[mainType] = optionsByMainType;\r\n      componentsMap.set(mainType, cmptsByMainType);\r\n      componentsCount.set(mainType, cmptsCountByMainType); // Backup series for filtering.\r\n\r\n      if (mainType === 'series') {\r\n        reCreateSeriesIndices(this);\r\n      }\r\n    } // If no series declared, ensure `_seriesIndices` initialized.\r\n\r\n\r\n    if (!this._seriesIndices) {\r\n      reCreateSeriesIndices(this);\r\n    }\r\n  };\r\n  /**\r\n   * Get option for output (cloned option and inner info removed)\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.getOption = function () {\r\n    var option = clone(this.option);\r\n    each(option, function (optInMainType, mainType) {\r\n      if (ComponentModel.hasClass(mainType)) {\r\n        var opts = modelUtil.normalizeToArray(optInMainType); // Inner cmpts need to be removed.\r\n        // Inner cmpts might not be at last since ec5.0, but still\r\n        // compatible for users: if inner cmpt at last, splice the returned array.\r\n\r\n        var realLen = opts.length;\r\n        var metNonInner = false;\r\n\r\n        for (var i = realLen - 1; i >= 0; i--) {\r\n          // Remove options with inner id.\r\n          if (opts[i] && !modelUtil.isComponentIdInternal(opts[i])) {\r\n            metNonInner = true;\r\n          } else {\r\n            opts[i] = null;\r\n            !metNonInner && realLen--;\r\n          }\r\n        }\r\n\r\n        opts.length = realLen;\r\n        option[mainType] = opts;\r\n      }\r\n    });\r\n    delete option[OPTION_INNER_KEY];\r\n    return option;\r\n  };\r\n\r\n  GlobalModel.prototype.getTheme = function () {\r\n    return this._theme;\r\n  };\r\n\r\n  GlobalModel.prototype.getLocaleModel = function () {\r\n    return this._locale;\r\n  };\r\n\r\n  GlobalModel.prototype.setUpdatePayload = function (payload) {\r\n    this._payload = payload;\r\n  };\r\n\r\n  GlobalModel.prototype.getUpdatePayload = function () {\r\n    return this._payload;\r\n  };\r\n  /**\r\n   * @param idx If not specified, return the first one.\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.getComponent = function (mainType, idx) {\r\n    var list = this._componentsMap.get(mainType);\r\n\r\n    if (list) {\r\n      var cmpt = list[idx || 0];\r\n\r\n      if (cmpt) {\r\n        return cmpt;\r\n      } else if (idx == null) {\r\n        for (var i = 0; i < list.length; i++) {\r\n          if (list[i]) {\r\n            return list[i];\r\n          }\r\n        }\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * @return Never be null/undefined.\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.queryComponents = function (condition) {\r\n    var mainType = condition.mainType;\r\n\r\n    if (!mainType) {\r\n      return [];\r\n    }\r\n\r\n    var index = condition.index;\r\n    var id = condition.id;\r\n    var name = condition.name;\r\n\r\n    var cmpts = this._componentsMap.get(mainType);\r\n\r\n    if (!cmpts || !cmpts.length) {\r\n      return [];\r\n    }\r\n\r\n    var result;\r\n\r\n    if (index != null) {\r\n      result = [];\r\n      each(modelUtil.normalizeToArray(index), function (idx) {\r\n        cmpts[idx] && result.push(cmpts[idx]);\r\n      });\r\n    } else if (id != null) {\r\n      result = queryByIdOrName('id', id, cmpts);\r\n    } else if (name != null) {\r\n      result = queryByIdOrName('name', name, cmpts);\r\n    } else {\r\n      // Return all non-empty components in that mainType\r\n      result = filter(cmpts, function (cmpt) {\r\n        return !!cmpt;\r\n      });\r\n    }\r\n\r\n    return filterBySubType(result, condition);\r\n  };\r\n  /**\r\n   * The interface is different from queryComponents,\r\n   * which is convenient for inner usage.\r\n   *\r\n   * @usage\r\n   * let result = findComponents(\r\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\r\n   * );\r\n   * let result = findComponents(\r\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\r\n   * );\r\n   * let result = findComponents(\r\n   *     {mainType: 'series',\r\n   *     filter: function (model, index) {...}}\r\n   * );\r\n   * // result like [component0, componnet1, ...]\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.findComponents = function (condition) {\r\n    var query = condition.query;\r\n    var mainType = condition.mainType;\r\n    var queryCond = getQueryCond(query);\r\n    var result = queryCond ? this.queryComponents(queryCond) // Retrieve all non-empty components.\r\n    : filter(this._componentsMap.get(mainType), function (cmpt) {\r\n      return !!cmpt;\r\n    });\r\n    return doFilter(filterBySubType(result, condition));\r\n\r\n    function getQueryCond(q) {\r\n      var indexAttr = mainType + 'Index';\r\n      var idAttr = mainType + 'Id';\r\n      var nameAttr = mainType + 'Name';\r\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\r\n        mainType: mainType,\r\n        // subType will be filtered finally.\r\n        index: q[indexAttr],\r\n        id: q[idAttr],\r\n        name: q[nameAttr]\r\n      } : null;\r\n    }\r\n\r\n    function doFilter(res) {\r\n      return condition.filter ? filter(res, condition.filter) : res;\r\n    }\r\n  };\r\n\r\n  GlobalModel.prototype.eachComponent = function (mainType, cb, context) {\r\n    var componentsMap = this._componentsMap;\r\n\r\n    if (isFunction(mainType)) {\r\n      var ctxForAll_1 = cb;\r\n      var cbForAll_1 = mainType;\r\n      componentsMap.each(function (cmpts, componentType) {\r\n        for (var i = 0; cmpts && i < cmpts.length; i++) {\r\n          var cmpt = cmpts[i];\r\n          cmpt && cbForAll_1.call(ctxForAll_1, componentType, cmpt, cmpt.componentIndex);\r\n        }\r\n      });\r\n    } else {\r\n      var cmpts = isString(mainType) ? componentsMap.get(mainType) : isObject(mainType) ? this.findComponents(mainType) : null;\r\n\r\n      for (var i = 0; cmpts && i < cmpts.length; i++) {\r\n        var cmpt = cmpts[i];\r\n        cmpt && cb.call(context, cmpt, cmpt.componentIndex);\r\n      }\r\n    }\r\n  };\r\n  /**\r\n   * Get series list before filtered by name.\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.getSeriesByName = function (name) {\r\n    var nameStr = modelUtil.convertOptionIdName(name, null);\r\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\r\n      return !!oneSeries && nameStr != null && oneSeries.name === nameStr;\r\n    });\r\n  };\r\n  /**\r\n   * Get series list before filtered by index.\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.getSeriesByIndex = function (seriesIndex) {\r\n    return this._componentsMap.get('series')[seriesIndex];\r\n  };\r\n  /**\r\n   * Get series list before filtered by type.\r\n   * FIXME: rename to getRawSeriesByType?\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.getSeriesByType = function (subType) {\r\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\r\n      return !!oneSeries && oneSeries.subType === subType;\r\n    });\r\n  };\r\n  /**\r\n   * Get all series before filtered.\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.getSeries = function () {\r\n    return filter(this._componentsMap.get('series'), function (oneSeries) {\r\n      return !!oneSeries;\r\n    });\r\n  };\r\n  /**\r\n   * Count series before filtered.\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.getSeriesCount = function () {\r\n    return this._componentsCount.get('series');\r\n  };\r\n  /**\r\n   * After filtering, series may be different\r\n   * from raw series.\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.eachSeries = function (cb, context) {\r\n    assertSeriesInitialized(this);\r\n    each(this._seriesIndices, function (rawSeriesIndex) {\r\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\r\n\r\n      cb.call(context, series, rawSeriesIndex);\r\n    }, this);\r\n  };\r\n  /**\r\n   * Iterate raw series before filtered.\r\n   *\r\n   * @param {Function} cb\r\n   * @param {*} context\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.eachRawSeries = function (cb, context) {\r\n    each(this._componentsMap.get('series'), function (series) {\r\n      series && cb.call(context, series, series.componentIndex);\r\n    });\r\n  };\r\n  /**\r\n   * After filtering, series may be different.\r\n   * from raw series.\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.eachSeriesByType = function (subType, cb, context) {\r\n    assertSeriesInitialized(this);\r\n    each(this._seriesIndices, function (rawSeriesIndex) {\r\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\r\n\r\n      if (series.subType === subType) {\r\n        cb.call(context, series, rawSeriesIndex);\r\n      }\r\n    }, this);\r\n  };\r\n  /**\r\n   * Iterate raw series before filtered of given type.\r\n   */\r\n\r\n\r\n  GlobalModel.prototype.eachRawSeriesByType = function (subType, cb, context) {\r\n    return each(this.getSeriesByType(subType), cb, context);\r\n  };\r\n\r\n  GlobalModel.prototype.isSeriesFiltered = function (seriesModel) {\r\n    assertSeriesInitialized(this);\r\n    return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\r\n  };\r\n\r\n  GlobalModel.prototype.getCurrentSeriesIndices = function () {\r\n    return (this._seriesIndices || []).slice();\r\n  };\r\n\r\n  GlobalModel.prototype.filterSeries = function (cb, context) {\r\n    assertSeriesInitialized(this);\r\n    var newSeriesIndices = [];\r\n    each(this._seriesIndices, function (seriesRawIdx) {\r\n      var series = this._componentsMap.get('series')[seriesRawIdx];\r\n\r\n      cb.call(context, series, seriesRawIdx) && newSeriesIndices.push(seriesRawIdx);\r\n    }, this);\r\n    this._seriesIndices = newSeriesIndices;\r\n    this._seriesIndicesMap = createHashMap(newSeriesIndices);\r\n  };\r\n\r\n  GlobalModel.prototype.restoreData = function (payload) {\r\n    reCreateSeriesIndices(this);\r\n    var componentsMap = this._componentsMap;\r\n    var componentTypes = [];\r\n    componentsMap.each(function (components, componentType) {\r\n      if (ComponentModel.hasClass(componentType)) {\r\n        componentTypes.push(componentType);\r\n      }\r\n    });\r\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType) {\r\n      each(componentsMap.get(componentType), function (component) {\r\n        if (component && (componentType !== 'series' || !isNotTargetSeries(component, payload))) {\r\n          component.restoreData();\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  GlobalModel.internalField = function () {\r\n    reCreateSeriesIndices = function (ecModel) {\r\n      var seriesIndices = ecModel._seriesIndices = [];\r\n      each(ecModel._componentsMap.get('series'), function (series) {\r\n        // series may have been removed by `replaceMerge`.\r\n        series && seriesIndices.push(series.componentIndex);\r\n      });\r\n      ecModel._seriesIndicesMap = createHashMap(seriesIndices);\r\n    };\r\n\r\n    assertSeriesInitialized = function (ecModel) {\r\n      // Components that use _seriesIndices should depends on series component,\r\n      // which make sure that their initialization is after series.\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        if (!ecModel._seriesIndices) {\r\n          throw new Error('Option should contains series.');\r\n        }\r\n      }\r\n    };\r\n\r\n    initBase = function (ecModel, baseOption) {\r\n      // Using OPTION_INNER_KEY to mark that this option cannot be used outside,\r\n      // i.e. `chart.setOption(chart.getModel().option);` is forbidden.\r\n      ecModel.option = {};\r\n      ecModel.option[OPTION_INNER_KEY] = OPTION_INNER_VALUE; // Init with series: [], in case of calling findSeries method\r\n      // before series initialized.\r\n\r\n      ecModel._componentsMap = createHashMap({\r\n        series: []\r\n      });\r\n      ecModel._componentsCount = createHashMap(); // If user spefied `option.aria`, aria will be enable. This detection should be\r\n      // performed before theme and globalDefault merge.\r\n\r\n      var airaOption = baseOption.aria;\r\n\r\n      if (isObject(airaOption) && airaOption.enabled == null) {\r\n        airaOption.enabled = true;\r\n      }\r\n\r\n      mergeTheme(baseOption, ecModel._theme.option); // TODO Needs clone when merging to the unexisted property\r\n\r\n      merge(baseOption, globalDefault, false);\r\n\r\n      ecModel._mergeOption(baseOption, null);\r\n    };\r\n  }();\r\n\r\n  return GlobalModel;\r\n}(Model);\r\n\r\nfunction isNotTargetSeries(seriesModel, payload) {\r\n  if (payload) {\r\n    var index = payload.seriesIndex;\r\n    var id = payload.seriesId;\r\n    var name_1 = payload.seriesName;\r\n    return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name_1 != null && seriesModel.name !== name_1;\r\n  }\r\n}\r\n\r\nfunction mergeTheme(option, theme) {\r\n  // PENDING\r\n  // NOT use `colorLayer` in theme if option has `color`\r\n  var notMergeColorLayer = option.color && !option.colorLayer;\r\n  each(theme, function (themeItem, name) {\r\n    if (name === 'colorLayer' && notMergeColorLayer) {\r\n      return;\r\n    } // If it is component model mainType, the model handles that merge later.\r\n    // otherwise, merge them here.\r\n\r\n\r\n    if (!ComponentModel.hasClass(name)) {\r\n      if (typeof themeItem === 'object') {\r\n        option[name] = !option[name] ? clone(themeItem) : merge(option[name], themeItem, false);\r\n      } else {\r\n        if (option[name] == null) {\r\n          option[name] = themeItem;\r\n        }\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction queryByIdOrName(attr, idOrName, cmpts) {\r\n  // Here is a break from echarts4: string and number are\r\n  // treated as equal.\r\n  if (isArray(idOrName)) {\r\n    var keyMap_1 = createHashMap();\r\n    each(idOrName, function (idOrNameItem) {\r\n      if (idOrNameItem != null) {\r\n        var idName = modelUtil.convertOptionIdName(idOrNameItem, null);\r\n        idName != null && keyMap_1.set(idOrNameItem, true);\r\n      }\r\n    });\r\n    return filter(cmpts, function (cmpt) {\r\n      return cmpt && keyMap_1.get(cmpt[attr]);\r\n    });\r\n  } else {\r\n    var idName_1 = modelUtil.convertOptionIdName(idOrName, null);\r\n    return filter(cmpts, function (cmpt) {\r\n      return cmpt && idName_1 != null && cmpt[attr] === idName_1;\r\n    });\r\n  }\r\n}\r\n\r\nfunction filterBySubType(components, condition) {\r\n  // Using hasOwnProperty for restrict. Consider\r\n  // subType is undefined in user payload.\r\n  return condition.hasOwnProperty('subType') ? filter(components, function (cmpt) {\r\n    return cmpt && cmpt.subType === condition.subType;\r\n  }) : components;\r\n}\r\n\r\nfunction normalizeSetOptionInput(opts) {\r\n  var replaceMergeMainTypeMap = createHashMap();\r\n  opts && each(modelUtil.normalizeToArray(opts.replaceMerge), function (mainType) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(ComponentModel.hasClass(mainType), '\"' + mainType + '\" is not valid component main type in \"replaceMerge\"');\r\n    }\r\n\r\n    replaceMergeMainTypeMap.set(mainType, true);\r\n  });\r\n  return {\r\n    replaceMergeMainTypeMap: replaceMergeMainTypeMap\r\n  };\r\n}\r\n\r\nmixin(GlobalModel, PaletteMixin);\r\nexport default GlobalModel;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nvar availableMethods = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isSSR', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', // 'getModel',\r\n'getOption', // 'getViewOfComponentModel',\r\n// 'getViewOfSeriesModel',\r\n'getId', 'updateLabelLayout'];\r\n\r\nvar ExtensionAPI =\r\n/** @class */\r\nfunction () {\r\n  function ExtensionAPI(ecInstance) {\r\n    zrUtil.each(availableMethods, function (methodName) {\r\n      this[methodName] = zrUtil.bind(ecInstance[methodName], ecInstance);\r\n    }, this);\r\n  }\r\n\r\n  return ExtensionAPI;\r\n}();\r\n\r\nexport default ExtensionAPI;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nvar coordinateSystemCreators = {};\r\n\r\nvar CoordinateSystemManager =\r\n/** @class */\r\nfunction () {\r\n  function CoordinateSystemManager() {\r\n    this._coordinateSystems = [];\r\n  }\r\n\r\n  CoordinateSystemManager.prototype.create = function (ecModel, api) {\r\n    var coordinateSystems = [];\r\n    zrUtil.each(coordinateSystemCreators, function (creator, type) {\r\n      var list = creator.create(ecModel, api);\r\n      coordinateSystems = coordinateSystems.concat(list || []);\r\n    });\r\n    this._coordinateSystems = coordinateSystems;\r\n  };\r\n\r\n  CoordinateSystemManager.prototype.update = function (ecModel, api) {\r\n    zrUtil.each(this._coordinateSystems, function (coordSys) {\r\n      coordSys.update && coordSys.update(ecModel, api);\r\n    });\r\n  };\r\n\r\n  CoordinateSystemManager.prototype.getCoordinateSystems = function () {\r\n    return this._coordinateSystems.slice();\r\n  };\r\n\r\n  CoordinateSystemManager.register = function (type, creator) {\r\n    coordinateSystemCreators[type] = creator;\r\n  };\r\n\r\n  CoordinateSystemManager.get = function (type) {\r\n    return coordinateSystemCreators[type];\r\n  };\r\n\r\n  return CoordinateSystemManager;\r\n}();\r\n\r\nexport default CoordinateSystemManager;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { normalizeToArray // , MappingExistingItem, setComponentTypeToKeyInfo, mappingToExists\r\n} from '../util/model.js';\r\nimport { each, clone, map, isTypedArray, setAsPrimitive, isArray, isObject // , HashMap , createHashMap, extend, merge,\r\n} from 'zrender/lib/core/util.js';\r\nimport { error } from '../util/log.js';\r\nvar QUERY_REG = /^(min|max)?(.+)$/; // Key: mainType\r\n// type FakeComponentsMap = HashMap<(MappingExistingItem & { subType: string })[]>;\r\n\r\n/**\r\n * TERM EXPLANATIONS:\r\n * See `ECOption` and `ECUnitOption` in `src/util/types.ts`.\r\n */\r\n\r\nvar OptionManager =\r\n/** @class */\r\nfunction () {\r\n  // timeline.notMerge is not supported in ec3. Firstly there is rearly\r\n  // case that notMerge is needed. Secondly supporting 'notMerge' requires\r\n  // rawOption cloned and backuped when timeline changed, which does no\r\n  // good to performance. What's more, that both timeline and setOption\r\n  // method supply 'notMerge' brings complex and some problems.\r\n  // Consider this case:\r\n  // (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\r\n  // (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\r\n  function OptionManager(api) {\r\n    this._timelineOptions = [];\r\n    this._mediaList = [];\r\n    /**\r\n     * -1, means default.\r\n     * empty means no media.\r\n     */\r\n\r\n    this._currentMediaIndices = [];\r\n    this._api = api;\r\n  }\r\n\r\n  OptionManager.prototype.setOption = function (rawOption, optionPreprocessorFuncs, opt) {\r\n    if (rawOption) {\r\n      // That set dat primitive is dangerous if user reuse the data when setOption again.\r\n      each(normalizeToArray(rawOption.series), function (series) {\r\n        series && series.data && isTypedArray(series.data) && setAsPrimitive(series.data);\r\n      });\r\n      each(normalizeToArray(rawOption.dataset), function (dataset) {\r\n        dataset && dataset.source && isTypedArray(dataset.source) && setAsPrimitive(dataset.source);\r\n      });\r\n    } // Caution: some series modify option data, if do not clone,\r\n    // it should ensure that the repeat modify correctly\r\n    // (create a new object when modify itself).\r\n\r\n\r\n    rawOption = clone(rawOption); // FIXME\r\n    // If some property is set in timeline options or media option but\r\n    // not set in baseOption, a warning should be given.\r\n\r\n    var optionBackup = this._optionBackup;\r\n    var newParsedOption = parseRawOption(rawOption, optionPreprocessorFuncs, !optionBackup);\r\n    this._newBaseOption = newParsedOption.baseOption; // For setOption at second time (using merge mode);\r\n\r\n    if (optionBackup) {\r\n      // FIXME\r\n      // the restore merge solution is essentially incorrect.\r\n      // the mapping can not be 100% consistent with ecModel, which probably brings\r\n      // potential bug!\r\n      // The first merge is delayed, because in most cases, users do not call `setOption` twice.\r\n      // let fakeCmptsMap = this._fakeCmptsMap;\r\n      // if (!fakeCmptsMap) {\r\n      //     fakeCmptsMap = this._fakeCmptsMap = createHashMap();\r\n      //     mergeToBackupOption(fakeCmptsMap, null, optionBackup.baseOption, null);\r\n      // }\r\n      // mergeToBackupOption(\r\n      //     fakeCmptsMap, optionBackup.baseOption, newParsedOption.baseOption, opt\r\n      // );\r\n      // For simplicity, timeline options and media options do not support merge,\r\n      // that is, if you `setOption` twice and both has timeline options, the latter\r\n      // timeline options will not be merged to the former, but just substitute them.\r\n      if (newParsedOption.timelineOptions.length) {\r\n        optionBackup.timelineOptions = newParsedOption.timelineOptions;\r\n      }\r\n\r\n      if (newParsedOption.mediaList.length) {\r\n        optionBackup.mediaList = newParsedOption.mediaList;\r\n      }\r\n\r\n      if (newParsedOption.mediaDefault) {\r\n        optionBackup.mediaDefault = newParsedOption.mediaDefault;\r\n      }\r\n    } else {\r\n      this._optionBackup = newParsedOption;\r\n    }\r\n  };\r\n\r\n  OptionManager.prototype.mountOption = function (isRecreate) {\r\n    var optionBackup = this._optionBackup;\r\n    this._timelineOptions = optionBackup.timelineOptions;\r\n    this._mediaList = optionBackup.mediaList;\r\n    this._mediaDefault = optionBackup.mediaDefault;\r\n    this._currentMediaIndices = [];\r\n    return clone(isRecreate // this._optionBackup.baseOption, which is created at the first `setOption`\r\n    // called, and is merged into every new option by inner method `mergeToBackupOption`\r\n    // each time `setOption` called, can be only used in `isRecreate`, because\r\n    // its reliability is under suspicion. In other cases option merge is\r\n    // performed by `model.mergeOption`.\r\n    ? optionBackup.baseOption : this._newBaseOption);\r\n  };\r\n\r\n  OptionManager.prototype.getTimelineOption = function (ecModel) {\r\n    var option;\r\n    var timelineOptions = this._timelineOptions;\r\n\r\n    if (timelineOptions.length) {\r\n      // getTimelineOption can only be called after ecModel inited,\r\n      // so we can get currentIndex from timelineModel.\r\n      var timelineModel = ecModel.getComponent('timeline');\r\n\r\n      if (timelineModel) {\r\n        option = clone( // FIXME:TS as TimelineModel or quivlant interface\r\n        timelineOptions[timelineModel.getCurrentIndex()]);\r\n      }\r\n    }\r\n\r\n    return option;\r\n  };\r\n\r\n  OptionManager.prototype.getMediaOption = function (ecModel) {\r\n    var ecWidth = this._api.getWidth();\r\n\r\n    var ecHeight = this._api.getHeight();\r\n\r\n    var mediaList = this._mediaList;\r\n    var mediaDefault = this._mediaDefault;\r\n    var indices = [];\r\n    var result = []; // No media defined.\r\n\r\n    if (!mediaList.length && !mediaDefault) {\r\n      return result;\r\n    } // Multi media may be applied, the latter defined media has higher priority.\r\n\r\n\r\n    for (var i = 0, len = mediaList.length; i < len; i++) {\r\n      if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\r\n        indices.push(i);\r\n      }\r\n    } // FIXME\r\n    // Whether mediaDefault should force users to provide? Otherwise\r\n    // the change by media query can not be recorvered.\r\n\r\n\r\n    if (!indices.length && mediaDefault) {\r\n      indices = [-1];\r\n    }\r\n\r\n    if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\r\n      result = map(indices, function (index) {\r\n        return clone(index === -1 ? mediaDefault.option : mediaList[index].option);\r\n      });\r\n    } // Otherwise return nothing.\r\n\r\n\r\n    this._currentMediaIndices = indices;\r\n    return result;\r\n  };\r\n\r\n  return OptionManager;\r\n}();\r\n/**\r\n * [RAW_OPTION_PATTERNS]\r\n * (Note: \"series: []\" represents all other props in `ECUnitOption`)\r\n *\r\n * (1) No prop \"baseOption\" declared:\r\n * Root option is used as \"baseOption\" (except prop \"options\" and \"media\").\r\n * ```js\r\n * option = {\r\n *     series: [],\r\n *     timeline: {},\r\n *     options: [],\r\n * };\r\n * option = {\r\n *     series: [],\r\n *     media: {},\r\n * };\r\n * option = {\r\n *     series: [],\r\n *     timeline: {},\r\n *     options: [],\r\n *     media: {},\r\n * }\r\n * ```\r\n *\r\n * (2) Prop \"baseOption\" declared:\r\n * If \"baseOption\" declared, `ECUnitOption` props can only be declared\r\n * inside \"baseOption\" except prop \"timeline\" (compat ec2).\r\n * ```js\r\n * option = {\r\n *     baseOption: {\r\n *         timeline: {},\r\n *         series: [],\r\n *     },\r\n *     options: []\r\n * };\r\n * option = {\r\n *     baseOption: {\r\n *         series: [],\r\n *     },\r\n *     media: []\r\n * };\r\n * option = {\r\n *     baseOption: {\r\n *         timeline: {},\r\n *         series: [],\r\n *     },\r\n *     options: []\r\n *     media: []\r\n * };\r\n * option = {\r\n *     // ec3 compat ec2: allow (only) `timeline` declared\r\n *     // outside baseOption. Keep this setting for compat.\r\n *     timeline: {},\r\n *     baseOption: {\r\n *         series: [],\r\n *     },\r\n *     options: [],\r\n *     media: []\r\n * };\r\n * ```\r\n */\r\n\r\n\r\nfunction parseRawOption( // `rawOption` May be modified\r\nrawOption, optionPreprocessorFuncs, isNew) {\r\n  var mediaList = [];\r\n  var mediaDefault;\r\n  var baseOption;\r\n  var declaredBaseOption = rawOption.baseOption; // Compatible with ec2, [RAW_OPTION_PATTERNS] above.\r\n\r\n  var timelineOnRoot = rawOption.timeline;\r\n  var timelineOptionsOnRoot = rawOption.options;\r\n  var mediaOnRoot = rawOption.media;\r\n  var hasMedia = !!rawOption.media;\r\n  var hasTimeline = !!(timelineOptionsOnRoot || timelineOnRoot || declaredBaseOption && declaredBaseOption.timeline);\r\n\r\n  if (declaredBaseOption) {\r\n    baseOption = declaredBaseOption; // For merge option.\r\n\r\n    if (!baseOption.timeline) {\r\n      baseOption.timeline = timelineOnRoot;\r\n    }\r\n  } // For convenience, enable to use the root option as the `baseOption`:\r\n  // `{ ...normalOptionProps, media: [{ ... }, { ... }] }`\r\n  else {\r\n      if (hasTimeline || hasMedia) {\r\n        rawOption.options = rawOption.media = null;\r\n      }\r\n\r\n      baseOption = rawOption;\r\n    }\r\n\r\n  if (hasMedia) {\r\n    if (isArray(mediaOnRoot)) {\r\n      each(mediaOnRoot, function (singleMedia) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          // Real case of wrong config.\r\n          if (singleMedia && !singleMedia.option && isObject(singleMedia.query) && isObject(singleMedia.query.option)) {\r\n            error('Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }');\r\n          }\r\n        }\r\n\r\n        if (singleMedia && singleMedia.option) {\r\n          if (singleMedia.query) {\r\n            mediaList.push(singleMedia);\r\n          } else if (!mediaDefault) {\r\n            // Use the first media default.\r\n            mediaDefault = singleMedia;\r\n          }\r\n        }\r\n      });\r\n    } else {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        // Real case of wrong config.\r\n        error('Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }');\r\n      }\r\n    }\r\n  }\r\n\r\n  doPreprocess(baseOption);\r\n  each(timelineOptionsOnRoot, function (option) {\r\n    return doPreprocess(option);\r\n  });\r\n  each(mediaList, function (media) {\r\n    return doPreprocess(media.option);\r\n  });\r\n\r\n  function doPreprocess(option) {\r\n    each(optionPreprocessorFuncs, function (preProcess) {\r\n      preProcess(option, isNew);\r\n    });\r\n  }\r\n\r\n  return {\r\n    baseOption: baseOption,\r\n    timelineOptions: timelineOptionsOnRoot || [],\r\n    mediaDefault: mediaDefault,\r\n    mediaList: mediaList\r\n  };\r\n}\r\n/**\r\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\r\n * Support: width, height, aspectRatio\r\n * Can use max or min as prefix.\r\n */\r\n\r\n\r\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\r\n  var realMap = {\r\n    width: ecWidth,\r\n    height: ecHeight,\r\n    aspectratio: ecWidth / ecHeight // lower case for convenience.\r\n\r\n  };\r\n  var applicable = true;\r\n  each(query, function (value, attr) {\r\n    var matched = attr.match(QUERY_REG);\r\n\r\n    if (!matched || !matched[1] || !matched[2]) {\r\n      return;\r\n    }\r\n\r\n    var operator = matched[1];\r\n    var realAttr = matched[2].toLowerCase();\r\n\r\n    if (!compare(realMap[realAttr], value, operator)) {\r\n      applicable = false;\r\n    }\r\n  });\r\n  return applicable;\r\n}\r\n\r\nfunction compare(real, expect, operator) {\r\n  if (operator === 'min') {\r\n    return real >= expect;\r\n  } else if (operator === 'max') {\r\n    return real <= expect;\r\n  } else {\r\n    // Equals\r\n    return real === expect;\r\n  }\r\n}\r\n\r\nfunction indicesEquals(indices1, indices2) {\r\n  // indices is always order by asc and has only finite number.\r\n  return indices1.join(',') === indices2.join(',');\r\n}\r\n/**\r\n * Consider case:\r\n * `chart.setOption(opt1);`\r\n * Then user do some interaction like dataZoom, dataView changing.\r\n * `chart.setOption(opt2);`\r\n * Then user press 'reset button' in toolbox.\r\n *\r\n * After doing that all of the interaction effects should be reset, the\r\n * chart should be the same as the result of invoke\r\n * `chart.setOption(opt1); chart.setOption(opt2);`.\r\n *\r\n * Although it is not able ensure that\r\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\r\n * `chart.setOption(merge(opt1, opt2));` exactly,\r\n * this might be the only simple way to implement that feature.\r\n *\r\n * MEMO: We've considered some other approaches:\r\n * 1. Each model handles its self restoration but not uniform treatment.\r\n *     (Too complex in logic and error-prone)\r\n * 2. Use a shadow ecModel. (Performance expensive)\r\n *\r\n * FIXME: A possible solution:\r\n * Add a extra level of model for each component model. The inheritance chain would be:\r\n * ecModel <- componentModel <- componentActionModel <- dataItemModel\r\n * And all of the actions can only modify the `componentActionModel` rather than\r\n * `componentModel`. `setOption` will only modify the `ecModel` and `componentModel`.\r\n * When \"resotre\" action triggered, model from `componentActionModel` will be discarded\r\n * instead of recreating the \"ecModel\" from the \"_optionBackup\".\r\n */\r\n// function mergeToBackupOption(\r\n//     fakeCmptsMap: FakeComponentsMap,\r\n//     // `tarOption` Can be null/undefined, means init\r\n//     tarOption: ECUnitOption,\r\n//     newOption: ECUnitOption,\r\n//     // Can be null/undefined\r\n//     opt: InnerSetOptionOpts\r\n// ): void {\r\n//     newOption = newOption || {} as ECUnitOption;\r\n//     const notInit = !!tarOption;\r\n//     each(newOption, function (newOptsInMainType, mainType) {\r\n//         if (newOptsInMainType == null) {\r\n//             return;\r\n//         }\r\n//         if (!ComponentModel.hasClass(mainType)) {\r\n//             if (tarOption) {\r\n//                 tarOption[mainType] = merge(tarOption[mainType], newOptsInMainType, true);\r\n//             }\r\n//         }\r\n//         else {\r\n//             const oldTarOptsInMainType = notInit ? normalizeToArray(tarOption[mainType]) : null;\r\n//             const oldFakeCmptsInMainType = fakeCmptsMap.get(mainType) || [];\r\n//             const resultTarOptsInMainType = notInit ? (tarOption[mainType] = [] as ComponentOption[]) : null;\r\n//             const resultFakeCmptsInMainType = fakeCmptsMap.set(mainType, []);\r\n//             const mappingResult = mappingToExists(\r\n//                 oldFakeCmptsInMainType,\r\n//                 normalizeToArray(newOptsInMainType),\r\n//                 (opt && opt.replaceMergeMainTypeMap.get(mainType)) ? 'replaceMerge' : 'normalMerge'\r\n//             );\r\n//             setComponentTypeToKeyInfo(mappingResult, mainType, ComponentModel as ComponentModelConstructor);\r\n//             each(mappingResult, function (resultItem, index) {\r\n//                 // The same logic as `Global.ts#_mergeOption`.\r\n//                 let fakeCmpt = resultItem.existing;\r\n//                 const newOption = resultItem.newOption;\r\n//                 const keyInfo = resultItem.keyInfo;\r\n//                 let fakeCmptOpt;\r\n//                 if (!newOption) {\r\n//                     fakeCmptOpt = oldTarOptsInMainType[index];\r\n//                 }\r\n//                 else {\r\n//                     if (fakeCmpt && fakeCmpt.subType === keyInfo.subType) {\r\n//                         fakeCmpt.name = keyInfo.name;\r\n//                         if (notInit) {\r\n//                             fakeCmptOpt = merge(oldTarOptsInMainType[index], newOption, true);\r\n//                         }\r\n//                     }\r\n//                     else {\r\n//                         fakeCmpt = extend({}, keyInfo);\r\n//                         if (notInit) {\r\n//                             fakeCmptOpt = clone(newOption);\r\n//                         }\r\n//                     }\r\n//                 }\r\n//                 if (fakeCmpt) {\r\n//                     notInit && resultTarOptsInMainType.push(fakeCmptOpt);\r\n//                     resultFakeCmptsInMainType.push(fakeCmpt);\r\n//                 }\r\n//                 else {\r\n//                     notInit && resultTarOptsInMainType.push(void 0);\r\n//                     resultFakeCmptsInMainType.push(void 0);\r\n//                 }\r\n//             });\r\n//         }\r\n//     });\r\n// }\r\n\r\n\r\nexport default OptionManager;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport * as modelUtil from '../../util/model.js';\r\nimport { deprecateLog, deprecateReplaceLog } from '../../util/log.js';\r\nvar each = zrUtil.each;\r\nvar isObject = zrUtil.isObject;\r\nvar POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\r\n\r\nfunction compatEC2ItemStyle(opt) {\r\n  var itemStyleOpt = opt && opt.itemStyle;\r\n\r\n  if (!itemStyleOpt) {\r\n    return;\r\n  }\r\n\r\n  for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\r\n    var styleName = POSSIBLE_STYLES[i];\r\n    var normalItemStyleOpt = itemStyleOpt.normal;\r\n    var emphasisItemStyleOpt = itemStyleOpt.emphasis;\r\n\r\n    if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        deprecateReplaceLog(\"itemStyle.normal.\" + styleName, styleName);\r\n      }\r\n\r\n      opt[styleName] = opt[styleName] || {};\r\n\r\n      if (!opt[styleName].normal) {\r\n        opt[styleName].normal = normalItemStyleOpt[styleName];\r\n      } else {\r\n        zrUtil.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\r\n      }\r\n\r\n      normalItemStyleOpt[styleName] = null;\r\n    }\r\n\r\n    if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        deprecateReplaceLog(\"itemStyle.emphasis.\" + styleName, \"emphasis.\" + styleName);\r\n      }\r\n\r\n      opt[styleName] = opt[styleName] || {};\r\n\r\n      if (!opt[styleName].emphasis) {\r\n        opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\r\n      } else {\r\n        zrUtil.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\r\n      }\r\n\r\n      emphasisItemStyleOpt[styleName] = null;\r\n    }\r\n  }\r\n}\r\n\r\nfunction convertNormalEmphasis(opt, optType, useExtend) {\r\n  if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\r\n    var normalOpt = opt[optType].normal;\r\n    var emphasisOpt = opt[optType].emphasis;\r\n\r\n    if (normalOpt) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        // eslint-disable-next-line max-len\r\n        deprecateLog(\"'normal' hierarchy in \" + optType + \" has been removed since 4.0. All style properties are configured in \" + optType + \" directly now.\");\r\n      } // Timeline controlStyle has other properties besides normal and emphasis\r\n\r\n\r\n      if (useExtend) {\r\n        opt[optType].normal = opt[optType].emphasis = null;\r\n        zrUtil.defaults(opt[optType], normalOpt);\r\n      } else {\r\n        opt[optType] = normalOpt;\r\n      }\r\n    }\r\n\r\n    if (emphasisOpt) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        deprecateLog(optType + \".emphasis has been changed to emphasis.\" + optType + \" since 4.0\");\r\n      }\r\n\r\n      opt.emphasis = opt.emphasis || {};\r\n      opt.emphasis[optType] = emphasisOpt; // Also compat the case user mix the style and focus together in ec3 style\r\n      // for example: { itemStyle: { normal: {}, emphasis: {focus, shadowBlur} } }\r\n\r\n      if (emphasisOpt.focus) {\r\n        opt.emphasis.focus = emphasisOpt.focus;\r\n      }\r\n\r\n      if (emphasisOpt.blurScope) {\r\n        opt.emphasis.blurScope = emphasisOpt.blurScope;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction removeEC3NormalStatus(opt) {\r\n  convertNormalEmphasis(opt, 'itemStyle');\r\n  convertNormalEmphasis(opt, 'lineStyle');\r\n  convertNormalEmphasis(opt, 'areaStyle');\r\n  convertNormalEmphasis(opt, 'label');\r\n  convertNormalEmphasis(opt, 'labelLine'); // treemap\r\n\r\n  convertNormalEmphasis(opt, 'upperLabel'); // graph\r\n\r\n  convertNormalEmphasis(opt, 'edgeLabel');\r\n}\r\n\r\nfunction compatTextStyle(opt, propName) {\r\n  // Check whether is not object (string\\null\\undefined ...)\r\n  var labelOptSingle = isObject(opt) && opt[propName];\r\n  var textStyle = isObject(labelOptSingle) && labelOptSingle.textStyle;\r\n\r\n  if (textStyle) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      // eslint-disable-next-line max-len\r\n      deprecateLog(\"textStyle hierarchy in \" + propName + \" has been removed since 4.0. All textStyle properties are configured in \" + propName + \" directly now.\");\r\n    }\r\n\r\n    for (var i = 0, len = modelUtil.TEXT_STYLE_OPTIONS.length; i < len; i++) {\r\n      var textPropName = modelUtil.TEXT_STYLE_OPTIONS[i];\r\n\r\n      if (textStyle.hasOwnProperty(textPropName)) {\r\n        labelOptSingle[textPropName] = textStyle[textPropName];\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction compatEC3CommonStyles(opt) {\r\n  if (opt) {\r\n    removeEC3NormalStatus(opt);\r\n    compatTextStyle(opt, 'label');\r\n    opt.emphasis && compatTextStyle(opt.emphasis, 'label');\r\n  }\r\n}\r\n\r\nfunction processSeries(seriesOpt) {\r\n  if (!isObject(seriesOpt)) {\r\n    return;\r\n  }\r\n\r\n  compatEC2ItemStyle(seriesOpt);\r\n  removeEC3NormalStatus(seriesOpt);\r\n  compatTextStyle(seriesOpt, 'label'); // treemap\r\n\r\n  compatTextStyle(seriesOpt, 'upperLabel'); // graph\r\n\r\n  compatTextStyle(seriesOpt, 'edgeLabel');\r\n\r\n  if (seriesOpt.emphasis) {\r\n    compatTextStyle(seriesOpt.emphasis, 'label'); // treemap\r\n\r\n    compatTextStyle(seriesOpt.emphasis, 'upperLabel'); // graph\r\n\r\n    compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\r\n  }\r\n\r\n  var markPoint = seriesOpt.markPoint;\r\n\r\n  if (markPoint) {\r\n    compatEC2ItemStyle(markPoint);\r\n    compatEC3CommonStyles(markPoint);\r\n  }\r\n\r\n  var markLine = seriesOpt.markLine;\r\n\r\n  if (markLine) {\r\n    compatEC2ItemStyle(markLine);\r\n    compatEC3CommonStyles(markLine);\r\n  }\r\n\r\n  var markArea = seriesOpt.markArea;\r\n\r\n  if (markArea) {\r\n    compatEC3CommonStyles(markArea);\r\n  }\r\n\r\n  var data = seriesOpt.data; // Break with ec3: if `setOption` again, there may be no `type` in option,\r\n  // then the backward compat based on option type will not be performed.\r\n\r\n  if (seriesOpt.type === 'graph') {\r\n    data = data || seriesOpt.nodes;\r\n    var edgeData = seriesOpt.links || seriesOpt.edges;\r\n\r\n    if (edgeData && !zrUtil.isTypedArray(edgeData)) {\r\n      for (var i = 0; i < edgeData.length; i++) {\r\n        compatEC3CommonStyles(edgeData[i]);\r\n      }\r\n    }\r\n\r\n    zrUtil.each(seriesOpt.categories, function (opt) {\r\n      removeEC3NormalStatus(opt);\r\n    });\r\n  }\r\n\r\n  if (data && !zrUtil.isTypedArray(data)) {\r\n    for (var i = 0; i < data.length; i++) {\r\n      compatEC3CommonStyles(data[i]);\r\n    }\r\n  } // mark point data\r\n\r\n\r\n  markPoint = seriesOpt.markPoint;\r\n\r\n  if (markPoint && markPoint.data) {\r\n    var mpData = markPoint.data;\r\n\r\n    for (var i = 0; i < mpData.length; i++) {\r\n      compatEC3CommonStyles(mpData[i]);\r\n    }\r\n  } // mark line data\r\n\r\n\r\n  markLine = seriesOpt.markLine;\r\n\r\n  if (markLine && markLine.data) {\r\n    var mlData = markLine.data;\r\n\r\n    for (var i = 0; i < mlData.length; i++) {\r\n      if (zrUtil.isArray(mlData[i])) {\r\n        compatEC3CommonStyles(mlData[i][0]);\r\n        compatEC3CommonStyles(mlData[i][1]);\r\n      } else {\r\n        compatEC3CommonStyles(mlData[i]);\r\n      }\r\n    }\r\n  } // Series\r\n\r\n\r\n  if (seriesOpt.type === 'gauge') {\r\n    compatTextStyle(seriesOpt, 'axisLabel');\r\n    compatTextStyle(seriesOpt, 'title');\r\n    compatTextStyle(seriesOpt, 'detail');\r\n  } else if (seriesOpt.type === 'treemap') {\r\n    convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\r\n    zrUtil.each(seriesOpt.levels, function (opt) {\r\n      removeEC3NormalStatus(opt);\r\n    });\r\n  } else if (seriesOpt.type === 'tree') {\r\n    removeEC3NormalStatus(seriesOpt.leaves);\r\n  } // sunburst starts from ec4, so it does not need to compat levels.\r\n\r\n}\r\n\r\nfunction toArr(o) {\r\n  return zrUtil.isArray(o) ? o : o ? [o] : [];\r\n}\r\n\r\nfunction toObj(o) {\r\n  return (zrUtil.isArray(o) ? o[0] : o) || {};\r\n}\r\n\r\nexport default function globalCompatStyle(option, isTheme) {\r\n  each(toArr(option.series), function (seriesOpt) {\r\n    isObject(seriesOpt) && processSeries(seriesOpt);\r\n  });\r\n  var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\r\n  isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\r\n  each(axes, function (axisName) {\r\n    each(toArr(option[axisName]), function (axisOpt) {\r\n      if (axisOpt) {\r\n        compatTextStyle(axisOpt, 'axisLabel');\r\n        compatTextStyle(axisOpt.axisPointer, 'label');\r\n      }\r\n    });\r\n  });\r\n  each(toArr(option.parallel), function (parallelOpt) {\r\n    var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\r\n    compatTextStyle(parallelAxisDefault, 'axisLabel');\r\n    compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\r\n  });\r\n  each(toArr(option.calendar), function (calendarOpt) {\r\n    convertNormalEmphasis(calendarOpt, 'itemStyle');\r\n    compatTextStyle(calendarOpt, 'dayLabel');\r\n    compatTextStyle(calendarOpt, 'monthLabel');\r\n    compatTextStyle(calendarOpt, 'yearLabel');\r\n  }); // radar.name.textStyle\r\n\r\n  each(toArr(option.radar), function (radarOpt) {\r\n    compatTextStyle(radarOpt, 'name'); // Use axisName instead of name because component has name property\r\n\r\n    if (radarOpt.name && radarOpt.axisName == null) {\r\n      radarOpt.axisName = radarOpt.name;\r\n      delete radarOpt.name;\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        deprecateLog('name property in radar component has been changed to axisName');\r\n      }\r\n    }\r\n\r\n    if (radarOpt.nameGap != null && radarOpt.axisNameGap == null) {\r\n      radarOpt.axisNameGap = radarOpt.nameGap;\r\n      delete radarOpt.nameGap;\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        deprecateLog('nameGap property in radar component has been changed to axisNameGap');\r\n      }\r\n    }\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      each(radarOpt.indicator, function (indicatorOpt) {\r\n        if (indicatorOpt.text) {\r\n          deprecateReplaceLog('text', 'name', 'radar.indicator');\r\n        }\r\n      });\r\n    }\r\n  });\r\n  each(toArr(option.geo), function (geoOpt) {\r\n    if (isObject(geoOpt)) {\r\n      compatEC3CommonStyles(geoOpt);\r\n      each(toArr(geoOpt.regions), function (regionObj) {\r\n        compatEC3CommonStyles(regionObj);\r\n      });\r\n    }\r\n  });\r\n  each(toArr(option.timeline), function (timelineOpt) {\r\n    compatEC3CommonStyles(timelineOpt);\r\n    convertNormalEmphasis(timelineOpt, 'label');\r\n    convertNormalEmphasis(timelineOpt, 'itemStyle');\r\n    convertNormalEmphasis(timelineOpt, 'controlStyle', true);\r\n    var data = timelineOpt.data;\r\n    zrUtil.isArray(data) && zrUtil.each(data, function (item) {\r\n      if (zrUtil.isObject(item)) {\r\n        convertNormalEmphasis(item, 'label');\r\n        convertNormalEmphasis(item, 'itemStyle');\r\n      }\r\n    });\r\n  });\r\n  each(toArr(option.toolbox), function (toolboxOpt) {\r\n    convertNormalEmphasis(toolboxOpt, 'iconStyle');\r\n    each(toolboxOpt.feature, function (featureOpt) {\r\n      convertNormalEmphasis(featureOpt, 'iconStyle');\r\n    });\r\n  });\r\n  compatTextStyle(toObj(option.axisPointer), 'label');\r\n  compatTextStyle(toObj(option.tooltip).axisPointer, 'label'); // Clean logs\r\n  // storedLogs = {};\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { each, isArray, isObject, isTypedArray, defaults } from 'zrender/lib/core/util.js';\r\nimport compatStyle from './helper/compatStyle.js';\r\nimport { normalizeToArray } from '../util/model.js';\r\nimport { deprecateLog, deprecateReplaceLog } from '../util/log.js';\r\n\r\nfunction get(opt, path) {\r\n  var pathArr = path.split(',');\r\n  var obj = opt;\r\n\r\n  for (var i = 0; i < pathArr.length; i++) {\r\n    obj = obj && obj[pathArr[i]];\r\n\r\n    if (obj == null) {\r\n      break;\r\n    }\r\n  }\r\n\r\n  return obj;\r\n}\r\n\r\nfunction set(opt, path, val, overwrite) {\r\n  var pathArr = path.split(',');\r\n  var obj = opt;\r\n  var key;\r\n  var i = 0;\r\n\r\n  for (; i < pathArr.length - 1; i++) {\r\n    key = pathArr[i];\r\n\r\n    if (obj[key] == null) {\r\n      obj[key] = {};\r\n    }\r\n\r\n    obj = obj[key];\r\n  }\r\n\r\n  if (overwrite || obj[pathArr[i]] == null) {\r\n    obj[pathArr[i]] = val;\r\n  }\r\n}\r\n\r\nfunction compatLayoutProperties(option) {\r\n  option && each(LAYOUT_PROPERTIES, function (prop) {\r\n    if (prop[0] in option && !(prop[1] in option)) {\r\n      option[prop[1]] = option[prop[0]];\r\n    }\r\n  });\r\n}\r\n\r\nvar LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\r\nvar COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\r\nvar BAR_ITEM_STYLE_MAP = [['borderRadius', 'barBorderRadius'], ['borderColor', 'barBorderColor'], ['borderWidth', 'barBorderWidth']];\r\n\r\nfunction compatBarItemStyle(option) {\r\n  var itemStyle = option && option.itemStyle;\r\n\r\n  if (itemStyle) {\r\n    for (var i = 0; i < BAR_ITEM_STYLE_MAP.length; i++) {\r\n      var oldName = BAR_ITEM_STYLE_MAP[i][1];\r\n      var newName = BAR_ITEM_STYLE_MAP[i][0];\r\n\r\n      if (itemStyle[oldName] != null) {\r\n        itemStyle[newName] = itemStyle[oldName];\r\n\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          deprecateReplaceLog(oldName, newName);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction compatPieLabel(option) {\r\n  if (!option) {\r\n    return;\r\n  }\r\n\r\n  if (option.alignTo === 'edge' && option.margin != null && option.edgeDistance == null) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      deprecateReplaceLog('label.margin', 'label.edgeDistance', 'pie');\r\n    }\r\n\r\n    option.edgeDistance = option.margin;\r\n  }\r\n}\r\n\r\nfunction compatSunburstState(option) {\r\n  if (!option) {\r\n    return;\r\n  }\r\n\r\n  if (option.downplay && !option.blur) {\r\n    option.blur = option.downplay;\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      deprecateReplaceLog('downplay', 'blur', 'sunburst');\r\n    }\r\n  }\r\n}\r\n\r\nfunction compatGraphFocus(option) {\r\n  if (!option) {\r\n    return;\r\n  }\r\n\r\n  if (option.focusNodeAdjacency != null) {\r\n    option.emphasis = option.emphasis || {};\r\n\r\n    if (option.emphasis.focus == null) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        deprecateReplaceLog('focusNodeAdjacency', 'emphasis: { focus: \\'adjacency\\'}', 'graph/sankey');\r\n      }\r\n\r\n      option.emphasis.focus = 'adjacency';\r\n    }\r\n  }\r\n}\r\n\r\nfunction traverseTree(data, cb) {\r\n  if (data) {\r\n    for (var i = 0; i < data.length; i++) {\r\n      cb(data[i]);\r\n      data[i] && traverseTree(data[i].children, cb);\r\n    }\r\n  }\r\n}\r\n\r\nexport default function globalBackwardCompat(option, isTheme) {\r\n  compatStyle(option, isTheme); // Make sure series array for model initialization.\r\n\r\n  option.series = normalizeToArray(option.series);\r\n  each(option.series, function (seriesOpt) {\r\n    if (!isObject(seriesOpt)) {\r\n      return;\r\n    }\r\n\r\n    var seriesType = seriesOpt.type;\r\n\r\n    if (seriesType === 'line') {\r\n      if (seriesOpt.clipOverflow != null) {\r\n        seriesOpt.clip = seriesOpt.clipOverflow;\r\n\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          deprecateReplaceLog('clipOverflow', 'clip', 'line');\r\n        }\r\n      }\r\n    } else if (seriesType === 'pie' || seriesType === 'gauge') {\r\n      if (seriesOpt.clockWise != null) {\r\n        seriesOpt.clockwise = seriesOpt.clockWise;\r\n\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          deprecateReplaceLog('clockWise', 'clockwise');\r\n        }\r\n      }\r\n\r\n      compatPieLabel(seriesOpt.label);\r\n      var data = seriesOpt.data;\r\n\r\n      if (data && !isTypedArray(data)) {\r\n        for (var i = 0; i < data.length; i++) {\r\n          compatPieLabel(data[i]);\r\n        }\r\n      }\r\n\r\n      if (seriesOpt.hoverOffset != null) {\r\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\r\n\r\n        if (seriesOpt.emphasis.scaleSize = null) {\r\n          if (process.env.NODE_ENV !== 'production') {\r\n            deprecateReplaceLog('hoverOffset', 'emphasis.scaleSize');\r\n          }\r\n\r\n          seriesOpt.emphasis.scaleSize = seriesOpt.hoverOffset;\r\n        }\r\n      }\r\n    } else if (seriesType === 'gauge') {\r\n      var pointerColor = get(seriesOpt, 'pointer.color');\r\n      pointerColor != null && set(seriesOpt, 'itemStyle.color', pointerColor);\r\n    } else if (seriesType === 'bar') {\r\n      compatBarItemStyle(seriesOpt);\r\n      compatBarItemStyle(seriesOpt.backgroundStyle);\r\n      compatBarItemStyle(seriesOpt.emphasis);\r\n      var data = seriesOpt.data;\r\n\r\n      if (data && !isTypedArray(data)) {\r\n        for (var i = 0; i < data.length; i++) {\r\n          if (typeof data[i] === 'object') {\r\n            compatBarItemStyle(data[i]);\r\n            compatBarItemStyle(data[i] && data[i].emphasis);\r\n          }\r\n        }\r\n      }\r\n    } else if (seriesType === 'sunburst') {\r\n      var highlightPolicy = seriesOpt.highlightPolicy;\r\n\r\n      if (highlightPolicy) {\r\n        seriesOpt.emphasis = seriesOpt.emphasis || {};\r\n\r\n        if (!seriesOpt.emphasis.focus) {\r\n          seriesOpt.emphasis.focus = highlightPolicy;\r\n\r\n          if (process.env.NODE_ENV !== 'production') {\r\n            deprecateReplaceLog('highlightPolicy', 'emphasis.focus', 'sunburst');\r\n          }\r\n        }\r\n      }\r\n\r\n      compatSunburstState(seriesOpt);\r\n      traverseTree(seriesOpt.data, compatSunburstState);\r\n    } else if (seriesType === 'graph' || seriesType === 'sankey') {\r\n      compatGraphFocus(seriesOpt); // TODO nodes, edges?\r\n    } else if (seriesType === 'map') {\r\n      if (seriesOpt.mapType && !seriesOpt.map) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          deprecateReplaceLog('mapType', 'map', 'map');\r\n        }\r\n\r\n        seriesOpt.map = seriesOpt.mapType;\r\n      }\r\n\r\n      if (seriesOpt.mapLocation) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          deprecateLog('`mapLocation` is not used anymore.');\r\n        }\r\n\r\n        defaults(seriesOpt, seriesOpt.mapLocation);\r\n      }\r\n    }\r\n\r\n    if (seriesOpt.hoverAnimation != null) {\r\n      seriesOpt.emphasis = seriesOpt.emphasis || {};\r\n\r\n      if (seriesOpt.emphasis && seriesOpt.emphasis.scale == null) {\r\n        if (process.env.NODE_ENV !== 'production') {\r\n          deprecateReplaceLog('hoverAnimation', 'emphasis.scale');\r\n        }\r\n\r\n        seriesOpt.emphasis.scale = seriesOpt.hoverAnimation;\r\n      }\r\n    }\r\n\r\n    compatLayoutProperties(seriesOpt);\r\n  }); // dataRange has changed to visualMap\r\n\r\n  if (option.dataRange) {\r\n    option.visualMap = option.dataRange;\r\n  }\r\n\r\n  each(COMPATITABLE_COMPONENTS, function (componentName) {\r\n    var options = option[componentName];\r\n\r\n    if (options) {\r\n      if (!isArray(options)) {\r\n        options = [options];\r\n      }\r\n\r\n      each(options, function (option) {\r\n        compatLayoutProperties(option);\r\n      });\r\n    }\r\n  });\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { createHashMap, each } from 'zrender/lib/core/util.js';\r\nimport { addSafe } from '../util/number.js'; // (1) [Caution]: the logic is correct based on the premises:\r\n//     data processing stage is blocked in stream.\r\n//     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\r\n// (2) Only register once when import repeatedly.\r\n//     Should be executed after series is filtered and before stack calculation.\r\n\r\nexport default function dataStack(ecModel) {\r\n  var stackInfoMap = createHashMap();\r\n  ecModel.eachSeries(function (seriesModel) {\r\n    var stack = seriesModel.get('stack'); // Compatible: when `stack` is set as '', do not stack.\r\n\r\n    if (stack) {\r\n      var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\r\n      var data = seriesModel.getData();\r\n      var stackInfo = {\r\n        // Used for calculate axis extent automatically.\r\n        // TODO: Type getCalculationInfo return more specific type?\r\n        stackResultDimension: data.getCalculationInfo('stackResultDimension'),\r\n        stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\r\n        stackedDimension: data.getCalculationInfo('stackedDimension'),\r\n        stackedByDimension: data.getCalculationInfo('stackedByDimension'),\r\n        isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\r\n        data: data,\r\n        seriesModel: seriesModel\r\n      }; // If stacked on axis that do not support data stack.\r\n\r\n      if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\r\n        return;\r\n      }\r\n\r\n      stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\r\n      stackInfoList.push(stackInfo);\r\n    }\r\n  });\r\n  stackInfoMap.each(calculateStack);\r\n}\r\n\r\nfunction calculateStack(stackInfoList) {\r\n  each(stackInfoList, function (targetStackInfo, idxInStack) {\r\n    var resultVal = [];\r\n    var resultNaN = [NaN, NaN];\r\n    var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\r\n    var targetData = targetStackInfo.data;\r\n    var isStackedByIndex = targetStackInfo.isStackedByIndex;\r\n    var stackStrategy = targetStackInfo.seriesModel.get('stackStrategy') || 'samesign'; // Should not write on raw data, because stack series model list changes\r\n    // depending on legend selection.\r\n\r\n    targetData.modify(dims, function (v0, v1, dataIndex) {\r\n      var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex); // Consider `connectNulls` of line area, if value is NaN, stackedOver\r\n      // should also be NaN, to draw a appropriate belt area.\r\n\r\n      if (isNaN(sum)) {\r\n        return resultNaN;\r\n      }\r\n\r\n      var byValue;\r\n      var stackedDataRawIndex;\r\n\r\n      if (isStackedByIndex) {\r\n        stackedDataRawIndex = targetData.getRawIndex(dataIndex);\r\n      } else {\r\n        byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\r\n      } // If stackOver is NaN, chart view will render point on value start.\r\n\r\n\r\n      var stackedOver = NaN;\r\n\r\n      for (var j = idxInStack - 1; j >= 0; j--) {\r\n        var stackInfo = stackInfoList[j]; // Has been optimized by inverted indices on `stackedByDimension`.\r\n\r\n        if (!isStackedByIndex) {\r\n          stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\r\n        }\r\n\r\n        if (stackedDataRawIndex >= 0) {\r\n          var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex); // Considering positive stack, negative stack and empty data\r\n\r\n          if (stackStrategy === 'all' // single stack group\r\n          || stackStrategy === 'positive' && val > 0 || stackStrategy === 'negative' && val < 0 || stackStrategy === 'samesign' && sum >= 0 && val > 0 // All positive stack\r\n          || stackStrategy === 'samesign' && sum <= 0 && val < 0 // All negative stack\r\n          ) {\r\n              // The sum has to be very small to be affected by the\r\n              // floating arithmetic problem. An incorrect result will probably\r\n              // cause axis min/max to be filtered incorrectly.\r\n              sum = addSafe(sum, val);\r\n              stackedOver = val;\r\n              break;\r\n            }\r\n        }\r\n      }\r\n\r\n      resultVal[0] = sum;\r\n      resultVal[1] = stackedOver;\r\n      return resultVal;\r\n    });\r\n  });\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { isFunction, extend, createHashMap } from 'zrender/lib/core/util.js';\r\nimport makeStyleMapper from '../model/mixin/makeStyleMapper.js';\r\nimport { ITEM_STYLE_KEY_MAP } from '../model/mixin/itemStyle.js';\r\nimport { LINE_STYLE_KEY_MAP } from '../model/mixin/lineStyle.js';\r\nimport Model from '../model/Model.js';\r\nimport { makeInner } from '../util/model.js';\r\nvar inner = makeInner();\r\nvar defaultStyleMappers = {\r\n  itemStyle: makeStyleMapper(ITEM_STYLE_KEY_MAP, true),\r\n  lineStyle: makeStyleMapper(LINE_STYLE_KEY_MAP, true)\r\n};\r\nvar defaultColorKey = {\r\n  lineStyle: 'stroke',\r\n  itemStyle: 'fill'\r\n};\r\n\r\nfunction getStyleMapper(seriesModel, stylePath) {\r\n  var styleMapper = seriesModel.visualStyleMapper || defaultStyleMappers[stylePath];\r\n\r\n  if (!styleMapper) {\r\n    console.warn(\"Unknown style type '\" + stylePath + \"'.\");\r\n    return defaultStyleMappers.itemStyle;\r\n  }\r\n\r\n  return styleMapper;\r\n}\r\n\r\nfunction getDefaultColorKey(seriesModel, stylePath) {\r\n  // return defaultColorKey[stylePath] ||\r\n  var colorKey = seriesModel.visualDrawType || defaultColorKey[stylePath];\r\n\r\n  if (!colorKey) {\r\n    console.warn(\"Unknown style type '\" + stylePath + \"'.\");\r\n    return 'fill';\r\n  }\r\n\r\n  return colorKey;\r\n}\r\n\r\nvar seriesStyleTask = {\r\n  createOnAllSeries: true,\r\n  performRawSeries: true,\r\n  reset: function (seriesModel, ecModel) {\r\n    var data = seriesModel.getData();\r\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle'; // Set in itemStyle\r\n\r\n    var styleModel = seriesModel.getModel(stylePath);\r\n    var getStyle = getStyleMapper(seriesModel, stylePath);\r\n    var globalStyle = getStyle(styleModel);\r\n    var decalOption = styleModel.getShallow('decal');\r\n\r\n    if (decalOption) {\r\n      data.setVisual('decal', decalOption);\r\n      decalOption.dirty = true;\r\n    } // TODO\r\n\r\n\r\n    var colorKey = getDefaultColorKey(seriesModel, stylePath);\r\n    var color = globalStyle[colorKey]; // TODO style callback\r\n\r\n    var colorCallback = isFunction(color) ? color : null;\r\n    var hasAutoColor = globalStyle.fill === 'auto' || globalStyle.stroke === 'auto'; // Get from color palette by default.\r\n\r\n    if (!globalStyle[colorKey] || colorCallback || hasAutoColor) {\r\n      // Note: If some series has color specified (e.g., by itemStyle.color), we DO NOT\r\n      // make it effect palette. Because some scenarios users need to make some series\r\n      // transparent or as background, which should better not effect the palette.\r\n      var colorPalette = seriesModel.getColorFromPalette( // TODO series count changed.\r\n      seriesModel.name, null, ecModel.getSeriesCount());\r\n\r\n      if (!globalStyle[colorKey]) {\r\n        globalStyle[colorKey] = colorPalette;\r\n        data.setVisual('colorFromPalette', true);\r\n      }\r\n\r\n      globalStyle.fill = globalStyle.fill === 'auto' || isFunction(globalStyle.fill) ? colorPalette : globalStyle.fill;\r\n      globalStyle.stroke = globalStyle.stroke === 'auto' || isFunction(globalStyle.stroke) ? colorPalette : globalStyle.stroke;\r\n    }\r\n\r\n    data.setVisual('style', globalStyle);\r\n    data.setVisual('drawType', colorKey); // Only visible series has each data be visual encoded\r\n\r\n    if (!ecModel.isSeriesFiltered(seriesModel) && colorCallback) {\r\n      data.setVisual('colorFromPalette', false);\r\n      return {\r\n        dataEach: function (data, idx) {\r\n          var dataParams = seriesModel.getDataParams(idx);\r\n          var itemStyle = extend({}, globalStyle);\r\n          itemStyle[colorKey] = colorCallback(dataParams);\r\n          data.setItemVisual(idx, 'style', itemStyle);\r\n        }\r\n      };\r\n    }\r\n  }\r\n};\r\nvar sharedModel = new Model();\r\nvar dataStyleTask = {\r\n  createOnAllSeries: true,\r\n  performRawSeries: true,\r\n  reset: function (seriesModel, ecModel) {\r\n    if (seriesModel.ignoreStyleOnData || ecModel.isSeriesFiltered(seriesModel)) {\r\n      return;\r\n    }\r\n\r\n    var data = seriesModel.getData();\r\n    var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle'; // Set in itemStyle\r\n\r\n    var getStyle = getStyleMapper(seriesModel, stylePath);\r\n    var colorKey = data.getVisual('drawType');\r\n    return {\r\n      dataEach: data.hasItemOption ? function (data, idx) {\r\n        // Not use getItemModel for performance considuration\r\n        var rawItem = data.getRawDataItem(idx);\r\n\r\n        if (rawItem && rawItem[stylePath]) {\r\n          sharedModel.option = rawItem[stylePath];\r\n          var style = getStyle(sharedModel);\r\n          var existsStyle = data.ensureUniqueItemVisual(idx, 'style');\r\n          extend(existsStyle, style);\r\n\r\n          if (sharedModel.option.decal) {\r\n            data.setItemVisual(idx, 'decal', sharedModel.option.decal);\r\n            sharedModel.option.decal.dirty = true;\r\n          }\r\n\r\n          if (colorKey in style) {\r\n            data.setItemVisual(idx, 'colorFromPalette', false);\r\n          }\r\n        }\r\n      } : null\r\n    };\r\n  }\r\n}; // Pick color from palette for the data which has not been set with color yet.\r\n// Note: do not support stream rendering. No such cases yet.\r\n\r\nvar dataColorPaletteTask = {\r\n  performRawSeries: true,\r\n  overallReset: function (ecModel) {\r\n    // Each type of series uses one scope.\r\n    // Pie and funnel are using different scopes.\r\n    var paletteScopeGroupByType = createHashMap();\r\n    ecModel.eachSeries(function (seriesModel) {\r\n      var colorBy = seriesModel.getColorBy();\r\n\r\n      if (seriesModel.isColorBySeries()) {\r\n        return;\r\n      }\r\n\r\n      var key = seriesModel.type + '-' + colorBy;\r\n      var colorScope = paletteScopeGroupByType.get(key);\r\n\r\n      if (!colorScope) {\r\n        colorScope = {};\r\n        paletteScopeGroupByType.set(key, colorScope);\r\n      }\r\n\r\n      inner(seriesModel).scope = colorScope;\r\n    });\r\n    ecModel.eachSeries(function (seriesModel) {\r\n      if (seriesModel.isColorBySeries() || ecModel.isSeriesFiltered(seriesModel)) {\r\n        return;\r\n      }\r\n\r\n      var dataAll = seriesModel.getRawData();\r\n      var idxMap = {};\r\n      var data = seriesModel.getData();\r\n      var colorScope = inner(seriesModel).scope;\r\n      var stylePath = seriesModel.visualStyleAccessPath || 'itemStyle';\r\n      var colorKey = getDefaultColorKey(seriesModel, stylePath);\r\n      data.each(function (idx) {\r\n        var rawIdx = data.getRawIndex(idx);\r\n        idxMap[rawIdx] = idx;\r\n      }); // Iterate on data before filtered. To make sure color from palette can be\r\n      // Consistent when toggling legend.\r\n\r\n      dataAll.each(function (rawIdx) {\r\n        var idx = idxMap[rawIdx];\r\n        var fromPalette = data.getItemVisual(idx, 'colorFromPalette'); // Get color from palette for each data only when the color is inherited from series color, which is\r\n        // also picked from color palette. So following situation is not in the case:\r\n        // 1. series.itemStyle.color is set\r\n        // 2. color is encoded by visualMap\r\n\r\n        if (fromPalette) {\r\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\r\n          var name_1 = dataAll.getName(rawIdx) || rawIdx + '';\r\n          var dataCount = dataAll.count();\r\n          itemStyle[colorKey] = seriesModel.getColorFromPalette(name_1, colorScope, dataCount);\r\n        }\r\n      });\r\n    });\r\n  }\r\n};\r\nexport { seriesStyleTask, dataStyleTask, dataColorPaletteTask };", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport * as graphic from '../util/graphic.js';\r\nvar PI = Math.PI;\r\n/**\r\n * @param {module:echarts/ExtensionAPI} api\r\n * @param {Object} [opts]\r\n * @param {string} [opts.text]\r\n * @param {string} [opts.color]\r\n * @param {string} [opts.textColor]\r\n * @return {module:zrender/Element}\r\n */\r\n\r\nexport default function defaultLoading(api, opts) {\r\n  opts = opts || {};\r\n  zrUtil.defaults(opts, {\r\n    text: 'loading',\r\n    textColor: '#000',\r\n    fontSize: 12,\r\n    fontWeight: 'normal',\r\n    fontStyle: 'normal',\r\n    fontFamily: 'sans-serif',\r\n    maskColor: 'rgba(255, 255, 255, 0.8)',\r\n    showSpinner: true,\r\n    color: '#5470c6',\r\n    spinnerRadius: 10,\r\n    lineWidth: 5,\r\n    zlevel: 0\r\n  });\r\n  var group = new graphic.Group();\r\n  var mask = new graphic.Rect({\r\n    style: {\r\n      fill: opts.maskColor\r\n    },\r\n    zlevel: opts.zlevel,\r\n    z: 10000\r\n  });\r\n  group.add(mask);\r\n  var textContent = new graphic.Text({\r\n    style: {\r\n      text: opts.text,\r\n      fill: opts.textColor,\r\n      fontSize: opts.fontSize,\r\n      fontWeight: opts.fontWeight,\r\n      fontStyle: opts.fontStyle,\r\n      fontFamily: opts.fontFamily\r\n    },\r\n    zlevel: opts.zlevel,\r\n    z: 10001\r\n  });\r\n  var labelRect = new graphic.Rect({\r\n    style: {\r\n      fill: 'none'\r\n    },\r\n    textContent: textContent,\r\n    textConfig: {\r\n      position: 'right',\r\n      distance: 10\r\n    },\r\n    zlevel: opts.zlevel,\r\n    z: 10001\r\n  });\r\n  group.add(labelRect);\r\n  var arc;\r\n\r\n  if (opts.showSpinner) {\r\n    arc = new graphic.Arc({\r\n      shape: {\r\n        startAngle: -PI / 2,\r\n        endAngle: -PI / 2 + 0.1,\r\n        r: opts.spinnerRadius\r\n      },\r\n      style: {\r\n        stroke: opts.color,\r\n        lineCap: 'round',\r\n        lineWidth: opts.lineWidth\r\n      },\r\n      zlevel: opts.zlevel,\r\n      z: 10001\r\n    });\r\n    arc.animateShape(true).when(1000, {\r\n      endAngle: PI * 3 / 2\r\n    }).start('circularInOut');\r\n    arc.animateShape(true).when(1000, {\r\n      startAngle: PI * 3 / 2\r\n    }).delay(300).start('circularInOut');\r\n    group.add(arc);\r\n  } // Inject resize\r\n\r\n\r\n  group.resize = function () {\r\n    var textWidth = textContent.getBoundingRect().width;\r\n    var r = opts.showSpinner ? opts.spinnerRadius : 0; // cx = (containerWidth - arcDiameter - textDistance - textWidth) / 2\r\n    // textDistance needs to be calculated when both animation and text exist\r\n\r\n    var cx = (api.getWidth() - r * 2 - (opts.showSpinner && textWidth ? 10 : 0) - textWidth) / 2 - (opts.showSpinner && textWidth ? 0 : 5 + textWidth / 2) // only show the text\r\n    + (opts.showSpinner ? 0 : textWidth / 2) // only show the spinner\r\n    + (textWidth ? 0 : r);\r\n    var cy = api.getHeight() / 2;\r\n    opts.showSpinner && arc.setShape({\r\n      cx: cx,\r\n      cy: cy\r\n    });\r\n    labelRect.setShape({\r\n      x: cx - r,\r\n      y: cy - r,\r\n      width: r * 2,\r\n      height: r * 2\r\n    });\r\n    mask.setShape({\r\n      x: 0,\r\n      y: 0,\r\n      width: api.getWidth(),\r\n      height: api.getHeight()\r\n    });\r\n  };\r\n\r\n  group.resize();\r\n  return group;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { each, map, isFunction, createHashMap, noop, assert } from 'zrender/lib/core/util.js';\r\nimport { createTask } from './task.js';\r\nimport { getUID } from '../util/component.js';\r\nimport GlobalModel from '../model/Global.js';\r\nimport ExtensionAPI from './ExtensionAPI.js';\r\nimport { normalizeToArray } from '../util/model.js';\r\n;\r\n\r\nvar Scheduler =\r\n/** @class */\r\nfunction () {\r\n  function Scheduler(ecInstance, api, dataProcessorHandlers, visualHandlers) {\r\n    // key: handlerUID\r\n    this._stageTaskMap = createHashMap();\r\n    this.ecInstance = ecInstance;\r\n    this.api = api; // Fix current processors in case that in some rear cases that\r\n    // processors might be registered after echarts instance created.\r\n    // Register processors incrementally for a echarts instance is\r\n    // not supported by this stream architecture.\r\n\r\n    dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();\r\n    visualHandlers = this._visualHandlers = visualHandlers.slice();\r\n    this._allHandlers = dataProcessorHandlers.concat(visualHandlers);\r\n  }\r\n\r\n  Scheduler.prototype.restoreData = function (ecModel, payload) {\r\n    // TODO: Only restore needed series and components, but not all components.\r\n    // Currently `restoreData` of all of the series and component will be called.\r\n    // But some independent components like `title`, `legend`, `graphic`, `toolbox`,\r\n    // `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,\r\n    // and some components like coordinate system, axes, dataZoom, visualMap only\r\n    // need their target series refresh.\r\n    // (1) If we are implementing this feature some day, we should consider these cases:\r\n    // if a data processor depends on a component (e.g., dataZoomProcessor depends\r\n    // on the settings of `dataZoom`), it should be re-performed if the component\r\n    // is modified by `setOption`.\r\n    // (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,\r\n    // it should be re-performed when the result array of `getTargetSeries` changed.\r\n    // We use `dependencies` to cover these issues.\r\n    // (3) How to update target series when coordinate system related components modified.\r\n    // TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,\r\n    // and this case all of the tasks will be set as dirty.\r\n    ecModel.restoreData(payload); // Theoretically an overall task not only depends on each of its target series, but also\r\n    // depends on all of the series.\r\n    // The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks\r\n    // dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure\r\n    // that the overall task is set as dirty and to be performed, otherwise it probably cause\r\n    // state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it\r\n    // probably cause state chaos (consider `dataZoomProcessor`).\r\n\r\n    this._stageTaskMap.each(function (taskRecord) {\r\n      var overallTask = taskRecord.overallTask;\r\n      overallTask && overallTask.dirty();\r\n    });\r\n  }; // If seriesModel provided, incremental threshold is check by series data.\r\n\r\n\r\n  Scheduler.prototype.getPerformArgs = function (task, isBlock) {\r\n    // For overall task\r\n    if (!task.__pipeline) {\r\n      return;\r\n    }\r\n\r\n    var pipeline = this._pipelineMap.get(task.__pipeline.id);\r\n\r\n    var pCtx = pipeline.context;\r\n    var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;\r\n    var step = incremental ? pipeline.step : null;\r\n    var modDataCount = pCtx && pCtx.modDataCount;\r\n    var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;\r\n    return {\r\n      step: step,\r\n      modBy: modBy,\r\n      modDataCount: modDataCount\r\n    };\r\n  };\r\n\r\n  Scheduler.prototype.getPipeline = function (pipelineId) {\r\n    return this._pipelineMap.get(pipelineId);\r\n  };\r\n  /**\r\n   * Current, progressive rendering starts from visual and layout.\r\n   * Always detect render mode in the same stage, avoiding that incorrect\r\n   * detection caused by data filtering.\r\n   * Caution:\r\n   * `updateStreamModes` use `seriesModel.getData()`.\r\n   */\r\n\r\n\r\n  Scheduler.prototype.updateStreamModes = function (seriesModel, view) {\r\n    var pipeline = this._pipelineMap.get(seriesModel.uid);\r\n\r\n    var data = seriesModel.getData();\r\n    var dataLen = data.count(); // `progressiveRender` means that can render progressively in each\r\n    // animation frame. Note that some types of series do not provide\r\n    // `view.incrementalPrepareRender` but support `chart.appendData`. We\r\n    // use the term `incremental` but not `progressive` to describe the\r\n    // case that `chart.appendData`.\r\n\r\n    var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;\r\n    var large = seriesModel.get('large') && dataLen >= seriesModel.get('largeThreshold'); // TODO: modDataCount should not updated if `appendData`, otherwise cause whole repaint.\r\n    // see `test/candlestick-large3.html`\r\n\r\n    var modDataCount = seriesModel.get('progressiveChunkMode') === 'mod' ? dataLen : null;\r\n    seriesModel.pipelineContext = pipeline.context = {\r\n      progressiveRender: progressiveRender,\r\n      modDataCount: modDataCount,\r\n      large: large\r\n    };\r\n  };\r\n\r\n  Scheduler.prototype.restorePipelines = function (ecModel) {\r\n    var scheduler = this;\r\n    var pipelineMap = scheduler._pipelineMap = createHashMap();\r\n    ecModel.eachSeries(function (seriesModel) {\r\n      var progressive = seriesModel.getProgressive();\r\n      var pipelineId = seriesModel.uid;\r\n      pipelineMap.set(pipelineId, {\r\n        id: pipelineId,\r\n        head: null,\r\n        tail: null,\r\n        threshold: seriesModel.getProgressiveThreshold(),\r\n        progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),\r\n        blockIndex: -1,\r\n        step: Math.round(progressive || 700),\r\n        count: 0\r\n      });\r\n\r\n      scheduler._pipe(seriesModel, seriesModel.dataTask);\r\n    });\r\n  };\r\n\r\n  Scheduler.prototype.prepareStageTasks = function () {\r\n    var stageTaskMap = this._stageTaskMap;\r\n    var ecModel = this.api.getModel();\r\n    var api = this.api;\r\n    each(this._allHandlers, function (handler) {\r\n      var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, {});\r\n      var errMsg = '';\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        // Currently do not need to support to sepecify them both.\r\n        errMsg = '\"reset\" and \"overallReset\" must not be both specified.';\r\n      }\r\n\r\n      assert(!(handler.reset && handler.overallReset), errMsg);\r\n      handler.reset && this._createSeriesStageTask(handler, record, ecModel, api);\r\n      handler.overallReset && this._createOverallStageTask(handler, record, ecModel, api);\r\n    }, this);\r\n  };\r\n\r\n  Scheduler.prototype.prepareView = function (view, model, ecModel, api) {\r\n    var renderTask = view.renderTask;\r\n    var context = renderTask.context;\r\n    context.model = model;\r\n    context.ecModel = ecModel;\r\n    context.api = api;\r\n    renderTask.__block = !view.incrementalPrepareRender;\r\n\r\n    this._pipe(model, renderTask);\r\n  };\r\n\r\n  Scheduler.prototype.performDataProcessorTasks = function (ecModel, payload) {\r\n    // If we do not use `block` here, it should be considered when to update modes.\r\n    this._performStageTasks(this._dataProcessorHandlers, ecModel, payload, {\r\n      block: true\r\n    });\r\n  };\r\n\r\n  Scheduler.prototype.performVisualTasks = function (ecModel, payload, opt) {\r\n    this._performStageTasks(this._visualHandlers, ecModel, payload, opt);\r\n  };\r\n\r\n  Scheduler.prototype._performStageTasks = function (stageHandlers, ecModel, payload, opt) {\r\n    opt = opt || {};\r\n    var unfinished = false;\r\n    var scheduler = this;\r\n    each(stageHandlers, function (stageHandler, idx) {\r\n      if (opt.visualType && opt.visualType !== stageHandler.visualType) {\r\n        return;\r\n      }\r\n\r\n      var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);\r\n\r\n      var seriesTaskMap = stageHandlerRecord.seriesTaskMap;\r\n      var overallTask = stageHandlerRecord.overallTask;\r\n\r\n      if (overallTask) {\r\n        var overallNeedDirty_1;\r\n        var agentStubMap = overallTask.agentStubMap;\r\n        agentStubMap.each(function (stub) {\r\n          if (needSetDirty(opt, stub)) {\r\n            stub.dirty();\r\n            overallNeedDirty_1 = true;\r\n          }\r\n        });\r\n        overallNeedDirty_1 && overallTask.dirty();\r\n        scheduler.updatePayload(overallTask, payload);\r\n        var performArgs_1 = scheduler.getPerformArgs(overallTask, opt.block); // Execute stubs firstly, which may set the overall task dirty,\r\n        // then execute the overall task. And stub will call seriesModel.setData,\r\n        // which ensures that in the overallTask seriesModel.getData() will not\r\n        // return incorrect data.\r\n\r\n        agentStubMap.each(function (stub) {\r\n          stub.perform(performArgs_1);\r\n        });\r\n\r\n        if (overallTask.perform(performArgs_1)) {\r\n          unfinished = true;\r\n        }\r\n      } else if (seriesTaskMap) {\r\n        seriesTaskMap.each(function (task, pipelineId) {\r\n          if (needSetDirty(opt, task)) {\r\n            task.dirty();\r\n          }\r\n\r\n          var performArgs = scheduler.getPerformArgs(task, opt.block); // FIXME\r\n          // if intending to declare `performRawSeries` in handlers, only\r\n          // stream-independent (specifically, data item independent) operations can be\r\n          // performed. Because if a series is filtered, most of the tasks will not\r\n          // be performed. A stream-dependent operation probably cause wrong biz logic.\r\n          // Perhaps we should not provide a separate callback for this case instead\r\n          // of providing the config `performRawSeries`. The stream-dependent operations\r\n          // and stream-independent operations should better not be mixed.\r\n\r\n          performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);\r\n          scheduler.updatePayload(task, payload);\r\n\r\n          if (task.perform(performArgs)) {\r\n            unfinished = true;\r\n          }\r\n        });\r\n      }\r\n    });\r\n\r\n    function needSetDirty(opt, task) {\r\n      return opt.setDirty && (!opt.dirtyMap || opt.dirtyMap.get(task.__pipeline.id));\r\n    }\r\n\r\n    this.unfinished = unfinished || this.unfinished;\r\n  };\r\n\r\n  Scheduler.prototype.performSeriesTasks = function (ecModel) {\r\n    var unfinished;\r\n    ecModel.eachSeries(function (seriesModel) {\r\n      // Progress to the end for dataInit and dataRestore.\r\n      unfinished = seriesModel.dataTask.perform() || unfinished;\r\n    });\r\n    this.unfinished = unfinished || this.unfinished;\r\n  };\r\n\r\n  Scheduler.prototype.plan = function () {\r\n    // Travel pipelines, check block.\r\n    this._pipelineMap.each(function (pipeline) {\r\n      var task = pipeline.tail;\r\n\r\n      do {\r\n        if (task.__block) {\r\n          pipeline.blockIndex = task.__idxInPipeline;\r\n          break;\r\n        }\r\n\r\n        task = task.getUpstream();\r\n      } while (task);\r\n    });\r\n  };\r\n\r\n  Scheduler.prototype.updatePayload = function (task, payload) {\r\n    payload !== 'remain' && (task.context.payload = payload);\r\n  };\r\n\r\n  Scheduler.prototype._createSeriesStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\r\n    var scheduler = this;\r\n    var oldSeriesTaskMap = stageHandlerRecord.seriesTaskMap; // The count of stages are totally about only several dozen, so\r\n    // do not need to reuse the map.\r\n\r\n    var newSeriesTaskMap = stageHandlerRecord.seriesTaskMap = createHashMap();\r\n    var seriesType = stageHandler.seriesType;\r\n    var getTargetSeries = stageHandler.getTargetSeries; // If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,\r\n    // to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,\r\n    // it works but it may cause other irrelevant charts blocked.\r\n\r\n    if (stageHandler.createOnAllSeries) {\r\n      ecModel.eachRawSeries(create);\r\n    } else if (seriesType) {\r\n      ecModel.eachRawSeriesByType(seriesType, create);\r\n    } else if (getTargetSeries) {\r\n      getTargetSeries(ecModel, api).each(create);\r\n    }\r\n\r\n    function create(seriesModel) {\r\n      var pipelineId = seriesModel.uid; // Init tasks for each seriesModel only once.\r\n      // Reuse original task instance.\r\n\r\n      var task = newSeriesTaskMap.set(pipelineId, oldSeriesTaskMap && oldSeriesTaskMap.get(pipelineId) || createTask({\r\n        plan: seriesTaskPlan,\r\n        reset: seriesTaskReset,\r\n        count: seriesTaskCount\r\n      }));\r\n      task.context = {\r\n        model: seriesModel,\r\n        ecModel: ecModel,\r\n        api: api,\r\n        // PENDING: `useClearVisual` not used?\r\n        useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,\r\n        plan: stageHandler.plan,\r\n        reset: stageHandler.reset,\r\n        scheduler: scheduler\r\n      };\r\n\r\n      scheduler._pipe(seriesModel, task);\r\n    }\r\n  };\r\n\r\n  Scheduler.prototype._createOverallStageTask = function (stageHandler, stageHandlerRecord, ecModel, api) {\r\n    var scheduler = this;\r\n    var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask // For overall task, the function only be called on reset stage.\r\n    || createTask({\r\n      reset: overallTaskReset\r\n    });\r\n    overallTask.context = {\r\n      ecModel: ecModel,\r\n      api: api,\r\n      overallReset: stageHandler.overallReset,\r\n      scheduler: scheduler\r\n    };\r\n    var oldAgentStubMap = overallTask.agentStubMap; // The count of stages are totally about only several dozen, so\r\n    // do not need to reuse the map.\r\n\r\n    var newAgentStubMap = overallTask.agentStubMap = createHashMap();\r\n    var seriesType = stageHandler.seriesType;\r\n    var getTargetSeries = stageHandler.getTargetSeries;\r\n    var overallProgress = true;\r\n    var shouldOverallTaskDirty = false; // FIXME:TS never used, so comment it\r\n    // let modifyOutputEnd = stageHandler.modifyOutputEnd;\r\n    // An overall task with seriesType detected or has `getTargetSeries`, we add\r\n    // stub in each pipelines, it will set the overall task dirty when the pipeline\r\n    // progress. Moreover, to avoid call the overall task each frame (too frequent),\r\n    // we set the pipeline block.\r\n\r\n    var errMsg = '';\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      errMsg = '\"createOnAllSeries\" is not supported for \"overallReset\", ' + 'because it will block all streams.';\r\n    }\r\n\r\n    assert(!stageHandler.createOnAllSeries, errMsg);\r\n\r\n    if (seriesType) {\r\n      ecModel.eachRawSeriesByType(seriesType, createStub);\r\n    } else if (getTargetSeries) {\r\n      getTargetSeries(ecModel, api).each(createStub);\r\n    } // Otherwise, (usually it is legacy case), the overall task will only be\r\n    // executed when upstream is dirty. Otherwise the progressive rendering of all\r\n    // pipelines will be disabled unexpectedly. But it still needs stubs to receive\r\n    // dirty info from upstream.\r\n    else {\r\n        overallProgress = false;\r\n        each(ecModel.getSeries(), createStub);\r\n      }\r\n\r\n    function createStub(seriesModel) {\r\n      var pipelineId = seriesModel.uid;\r\n      var stub = newAgentStubMap.set(pipelineId, oldAgentStubMap && oldAgentStubMap.get(pipelineId) || ( // When the result of `getTargetSeries` changed, the overallTask\r\n      // should be set as dirty and re-performed.\r\n      shouldOverallTaskDirty = true, createTask({\r\n        reset: stubReset,\r\n        onDirty: stubOnDirty\r\n      })));\r\n      stub.context = {\r\n        model: seriesModel,\r\n        overallProgress: overallProgress // FIXME:TS never used, so comment it\r\n        // modifyOutputEnd: modifyOutputEnd\r\n\r\n      };\r\n      stub.agent = overallTask;\r\n      stub.__block = overallProgress;\r\n\r\n      scheduler._pipe(seriesModel, stub);\r\n    }\r\n\r\n    if (shouldOverallTaskDirty) {\r\n      overallTask.dirty();\r\n    }\r\n  };\r\n\r\n  Scheduler.prototype._pipe = function (seriesModel, task) {\r\n    var pipelineId = seriesModel.uid;\r\n\r\n    var pipeline = this._pipelineMap.get(pipelineId);\r\n\r\n    !pipeline.head && (pipeline.head = task);\r\n    pipeline.tail && pipeline.tail.pipe(task);\r\n    pipeline.tail = task;\r\n    task.__idxInPipeline = pipeline.count++;\r\n    task.__pipeline = pipeline;\r\n  };\r\n\r\n  Scheduler.wrapStageHandler = function (stageHandler, visualType) {\r\n    if (isFunction(stageHandler)) {\r\n      stageHandler = {\r\n        overallReset: stageHandler,\r\n        seriesType: detectSeriseType(stageHandler)\r\n      };\r\n    }\r\n\r\n    stageHandler.uid = getUID('stageHandler');\r\n    visualType && (stageHandler.visualType = visualType);\r\n    return stageHandler;\r\n  };\r\n\r\n  ;\r\n  return Scheduler;\r\n}();\r\n\r\nfunction overallTaskReset(context) {\r\n  context.overallReset(context.ecModel, context.api, context.payload);\r\n}\r\n\r\nfunction stubReset(context) {\r\n  return context.overallProgress && stubProgress;\r\n}\r\n\r\nfunction stubProgress() {\r\n  this.agent.dirty();\r\n  this.getDownstream().dirty();\r\n}\r\n\r\nfunction stubOnDirty() {\r\n  this.agent && this.agent.dirty();\r\n}\r\n\r\nfunction seriesTaskPlan(context) {\r\n  return context.plan ? context.plan(context.model, context.ecModel, context.api, context.payload) : null;\r\n}\r\n\r\nfunction seriesTaskReset(context) {\r\n  if (context.useClearVisual) {\r\n    context.data.clearAllVisual();\r\n  }\r\n\r\n  var resetDefines = context.resetDefines = normalizeToArray(context.reset(context.model, context.ecModel, context.api, context.payload));\r\n  return resetDefines.length > 1 ? map(resetDefines, function (v, idx) {\r\n    return makeSeriesTaskProgress(idx);\r\n  }) : singleSeriesTaskProgress;\r\n}\r\n\r\nvar singleSeriesTaskProgress = makeSeriesTaskProgress(0);\r\n\r\nfunction makeSeriesTaskProgress(resetDefineIdx) {\r\n  return function (params, context) {\r\n    var data = context.data;\r\n    var resetDefine = context.resetDefines[resetDefineIdx];\r\n\r\n    if (resetDefine && resetDefine.dataEach) {\r\n      for (var i = params.start; i < params.end; i++) {\r\n        resetDefine.dataEach(data, i);\r\n      }\r\n    } else if (resetDefine && resetDefine.progress) {\r\n      resetDefine.progress(params, data);\r\n    }\r\n  };\r\n}\r\n\r\nfunction seriesTaskCount(context) {\r\n  return context.data.count();\r\n}\r\n/**\r\n * Only some legacy stage handlers (usually in echarts extensions) are pure function.\r\n * To ensure that they can work normally, they should work in block mode, that is,\r\n * they should not be started util the previous tasks finished. So they cause the\r\n * progressive rendering disabled. We try to detect the series type, to narrow down\r\n * the block range to only the series type they concern, but not all series.\r\n */\r\n\r\n\r\nfunction detectSeriseType(legacyFunc) {\r\n  seriesType = null;\r\n\r\n  try {\r\n    // Assume there is no async when calling `eachSeriesByType`.\r\n    legacyFunc(ecModelMock, apiMock);\r\n  } catch (e) {}\r\n\r\n  return seriesType;\r\n}\r\n\r\nvar ecModelMock = {};\r\nvar apiMock = {};\r\nvar seriesType;\r\nmockMethods(ecModelMock, GlobalModel);\r\nmockMethods(apiMock, ExtensionAPI);\r\n\r\necModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function (type) {\r\n  seriesType = type;\r\n};\r\n\r\necModelMock.eachComponent = function (cond) {\r\n  if (cond.mainType === 'series' && cond.subType) {\r\n    seriesType = cond.subType;\r\n  }\r\n};\r\n\r\nfunction mockMethods(target, Clz) {\r\n  /* eslint-disable */\r\n  for (var name_1 in Clz.prototype) {\r\n    // Do not use hasOwnProperty\r\n    target[name_1] = noop;\r\n  }\r\n  /* eslint-enable */\r\n\r\n}\r\n\r\nexport default Scheduler;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nvar colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\r\nexport default {\r\n  color: colorAll,\r\n  colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\r\n};", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nvar contrastColor = '#B9B8CE';\r\nvar backgroundColor = '#100C2A';\r\n\r\nvar axisCommon = function () {\r\n  return {\r\n    axisLine: {\r\n      lineStyle: {\r\n        color: contrastColor\r\n      }\r\n    },\r\n    splitLine: {\r\n      lineStyle: {\r\n        color: '#484753'\r\n      }\r\n    },\r\n    splitArea: {\r\n      areaStyle: {\r\n        color: ['rgba(255,255,255,0.02)', 'rgba(255,255,255,0.05)']\r\n      }\r\n    },\r\n    minorSplitLine: {\r\n      lineStyle: {\r\n        color: '#20203B'\r\n      }\r\n    }\r\n  };\r\n};\r\n\r\nvar colorPalette = ['#4992ff', '#7cffb2', '#fddd60', '#ff6e76', '#58d9f9', '#05c091', '#ff8a45', '#8d48e3', '#dd79ff'];\r\nvar theme = {\r\n  darkMode: true,\r\n  color: colorPalette,\r\n  backgroundColor: backgroundColor,\r\n  axisPointer: {\r\n    lineStyle: {\r\n      color: '#817f91'\r\n    },\r\n    crossStyle: {\r\n      color: '#817f91'\r\n    },\r\n    label: {\r\n      // TODO Contrast of label backgorundColor\r\n      color: '#fff'\r\n    }\r\n  },\r\n  legend: {\r\n    textStyle: {\r\n      color: contrastColor\r\n    }\r\n  },\r\n  textStyle: {\r\n    color: contrastColor\r\n  },\r\n  title: {\r\n    textStyle: {\r\n      color: '#EEF1FA'\r\n    },\r\n    subtextStyle: {\r\n      color: '#B9B8CE'\r\n    }\r\n  },\r\n  toolbox: {\r\n    iconStyle: {\r\n      borderColor: contrastColor\r\n    }\r\n  },\r\n  dataZoom: {\r\n    borderColor: '#71708A',\r\n    textStyle: {\r\n      color: contrastColor\r\n    },\r\n    brushStyle: {\r\n      color: 'rgba(135,163,206,0.3)'\r\n    },\r\n    handleStyle: {\r\n      color: '#353450',\r\n      borderColor: '#C5CBE3'\r\n    },\r\n    moveHandleStyle: {\r\n      color: '#B0B6C3',\r\n      opacity: 0.3\r\n    },\r\n    fillerColor: 'rgba(135,163,206,0.2)',\r\n    emphasis: {\r\n      handleStyle: {\r\n        borderColor: '#91B7F2',\r\n        color: '#4D587D'\r\n      },\r\n      moveHandleStyle: {\r\n        color: '#636D9A',\r\n        opacity: 0.7\r\n      }\r\n    },\r\n    dataBackground: {\r\n      lineStyle: {\r\n        color: '#71708A',\r\n        width: 1\r\n      },\r\n      areaStyle: {\r\n        color: '#71708A'\r\n      }\r\n    },\r\n    selectedDataBackground: {\r\n      lineStyle: {\r\n        color: '#87A3CE'\r\n      },\r\n      areaStyle: {\r\n        color: '#87A3CE'\r\n      }\r\n    }\r\n  },\r\n  visualMap: {\r\n    textStyle: {\r\n      color: contrastColor\r\n    }\r\n  },\r\n  timeline: {\r\n    lineStyle: {\r\n      color: contrastColor\r\n    },\r\n    label: {\r\n      color: contrastColor\r\n    },\r\n    controlStyle: {\r\n      color: contrastColor,\r\n      borderColor: contrastColor\r\n    }\r\n  },\r\n  calendar: {\r\n    itemStyle: {\r\n      color: backgroundColor\r\n    },\r\n    dayLabel: {\r\n      color: contrastColor\r\n    },\r\n    monthLabel: {\r\n      color: contrastColor\r\n    },\r\n    yearLabel: {\r\n      color: contrastColor\r\n    }\r\n  },\r\n  timeAxis: axisCommon(),\r\n  logAxis: axisCommon(),\r\n  valueAxis: axisCommon(),\r\n  categoryAxis: axisCommon(),\r\n  line: {\r\n    symbol: 'circle'\r\n  },\r\n  graph: {\r\n    color: colorPalette\r\n  },\r\n  gauge: {\r\n    title: {\r\n      color: contrastColor\r\n    },\r\n    axisLine: {\r\n      lineStyle: {\r\n        color: [[1, 'rgba(207,212,219,0.2)']]\r\n      }\r\n    },\r\n    axisLabel: {\r\n      color: contrastColor\r\n    },\r\n    detail: {\r\n      color: '#EEF1FA'\r\n    }\r\n  },\r\n  candlestick: {\r\n    itemStyle: {\r\n      color: '#f64e56',\r\n      color0: '#54ea92',\r\n      borderColor: '#f64e56',\r\n      borderColor0: '#54ea92' // borderColor: '#ca2824',\r\n      // borderColor0: '#09a443'\r\n\r\n    }\r\n  }\r\n};\r\ntheme.categoryAxis.splitLine.show = false;\r\nexport default theme;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport * as zrUtil from 'zrender/lib/core/util.js';\r\nimport { parseClassType } from './clazz.js';\r\n/**\r\n * Usage of query:\r\n * `chart.on('click', query, handler);`\r\n * The `query` can be:\r\n * + The component type query string, only `mainType` or `mainType.subType`,\r\n *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.\r\n * + The component query object, like:\r\n *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,\r\n *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.\r\n * + The data query object, like:\r\n *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.\r\n * + The other query object (cmponent customized query), like:\r\n *   `{element: 'some'}` (only available in custom series).\r\n *\r\n * Caveat: If a prop in the `query` object is `null/undefined`, it is the\r\n * same as there is no such prop in the `query` object.\r\n */\r\n\r\nvar ECEventProcessor =\r\n/** @class */\r\nfunction () {\r\n  function ECEventProcessor() {}\r\n\r\n  ECEventProcessor.prototype.normalizeQuery = function (query) {\r\n    var cptQuery = {};\r\n    var dataQuery = {};\r\n    var otherQuery = {}; // `query` is `mainType` or `mainType.subType` of component.\r\n\r\n    if (zrUtil.isString(query)) {\r\n      var condCptType = parseClassType(query); // `.main` and `.sub` may be ''.\r\n\r\n      cptQuery.mainType = condCptType.main || null;\r\n      cptQuery.subType = condCptType.sub || null;\r\n    } // `query` is an object, convert to {mainType, index, name, id}.\r\n    else {\r\n        // `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,\r\n        // can not be used in `compomentModel.filterForExposedEvent`.\r\n        var suffixes_1 = ['Index', 'Name', 'Id'];\r\n        var dataKeys_1 = {\r\n          name: 1,\r\n          dataIndex: 1,\r\n          dataType: 1\r\n        };\r\n        zrUtil.each(query, function (val, key) {\r\n          var reserved = false;\r\n\r\n          for (var i = 0; i < suffixes_1.length; i++) {\r\n            var propSuffix = suffixes_1[i];\r\n            var suffixPos = key.lastIndexOf(propSuffix);\r\n\r\n            if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {\r\n              var mainType = key.slice(0, suffixPos); // Consider `dataIndex`.\r\n\r\n              if (mainType !== 'data') {\r\n                cptQuery.mainType = mainType;\r\n                cptQuery[propSuffix.toLowerCase()] = val;\r\n                reserved = true;\r\n              }\r\n            }\r\n          }\r\n\r\n          if (dataKeys_1.hasOwnProperty(key)) {\r\n            dataQuery[key] = val;\r\n            reserved = true;\r\n          }\r\n\r\n          if (!reserved) {\r\n            otherQuery[key] = val;\r\n          }\r\n        });\r\n      }\r\n\r\n    return {\r\n      cptQuery: cptQuery,\r\n      dataQuery: dataQuery,\r\n      otherQuery: otherQuery\r\n    };\r\n  };\r\n\r\n  ECEventProcessor.prototype.filter = function (eventType, query) {\r\n    // They should be assigned before each trigger call.\r\n    var eventInfo = this.eventInfo;\r\n\r\n    if (!eventInfo) {\r\n      return true;\r\n    }\r\n\r\n    var targetEl = eventInfo.targetEl;\r\n    var packedEvent = eventInfo.packedEvent;\r\n    var model = eventInfo.model;\r\n    var view = eventInfo.view; // For event like 'globalout'.\r\n\r\n    if (!model || !view) {\r\n      return true;\r\n    }\r\n\r\n    var cptQuery = query.cptQuery;\r\n    var dataQuery = query.dataQuery;\r\n    return check(cptQuery, model, 'mainType') && check(cptQuery, model, 'subType') && check(cptQuery, model, 'index', 'componentIndex') && check(cptQuery, model, 'name') && check(cptQuery, model, 'id') && check(dataQuery, packedEvent, 'name') && check(dataQuery, packedEvent, 'dataIndex') && check(dataQuery, packedEvent, 'dataType') && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));\r\n\r\n    function check(query, host, prop, propOnHost) {\r\n      return query[prop] == null || host[propOnHost || prop] === query[prop];\r\n    }\r\n  };\r\n\r\n  ECEventProcessor.prototype.afterTrigger = function () {\r\n    // Make sure the eventInfo won't be used in next trigger.\r\n    this.eventInfo = null;\r\n  };\r\n\r\n  return ECEventProcessor;\r\n}();\r\n\r\nexport { ECEventProcessor };\r\n;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { extend, isFunction, keys } from 'zrender/lib/core/util.js';\r\nvar SYMBOL_PROPS_WITH_CB = ['symbol', 'symbolSize', 'symbolRotate', 'symbolOffset'];\r\nvar SYMBOL_PROPS = SYMBOL_PROPS_WITH_CB.concat(['symbolKeepAspect']); // Encoding visual for all series include which is filtered for legend drawing\r\n\r\nvar seriesSymbolTask = {\r\n  createOnAllSeries: true,\r\n  // For legend.\r\n  performRawSeries: true,\r\n  reset: function (seriesModel, ecModel) {\r\n    var data = seriesModel.getData();\r\n\r\n    if (seriesModel.legendIcon) {\r\n      data.setVisual('legendIcon', seriesModel.legendIcon);\r\n    }\r\n\r\n    if (!seriesModel.hasSymbolVisual) {\r\n      return;\r\n    }\r\n\r\n    var symbolOptions = {};\r\n    var symbolOptionsCb = {};\r\n    var hasCallback = false;\r\n\r\n    for (var i = 0; i < SYMBOL_PROPS_WITH_CB.length; i++) {\r\n      var symbolPropName = SYMBOL_PROPS_WITH_CB[i];\r\n      var val = seriesModel.get(symbolPropName);\r\n\r\n      if (isFunction(val)) {\r\n        hasCallback = true;\r\n        symbolOptionsCb[symbolPropName] = val;\r\n      } else {\r\n        symbolOptions[symbolPropName] = val;\r\n      }\r\n    }\r\n\r\n    symbolOptions.symbol = symbolOptions.symbol || seriesModel.defaultSymbol;\r\n    data.setVisual(extend({\r\n      legendIcon: seriesModel.legendIcon || symbolOptions.symbol,\r\n      symbolKeepAspect: seriesModel.get('symbolKeepAspect')\r\n    }, symbolOptions)); // Only visible series has each data be visual encoded\r\n\r\n    if (ecModel.isSeriesFiltered(seriesModel)) {\r\n      return;\r\n    }\r\n\r\n    var symbolPropsCb = keys(symbolOptionsCb);\r\n\r\n    function dataEach(data, idx) {\r\n      var rawValue = seriesModel.getRawValue(idx);\r\n      var params = seriesModel.getDataParams(idx);\r\n\r\n      for (var i = 0; i < symbolPropsCb.length; i++) {\r\n        var symbolPropName = symbolPropsCb[i];\r\n        data.setItemVisual(idx, symbolPropName, symbolOptionsCb[symbolPropName](rawValue, params));\r\n      }\r\n    }\r\n\r\n    return {\r\n      dataEach: hasCallback ? dataEach : null\r\n    };\r\n  }\r\n};\r\nvar dataSymbolTask = {\r\n  createOnAllSeries: true,\r\n  // For legend.\r\n  performRawSeries: true,\r\n  reset: function (seriesModel, ecModel) {\r\n    if (!seriesModel.hasSymbolVisual) {\r\n      return;\r\n    } // Only visible series has each data be visual encoded\r\n\r\n\r\n    if (ecModel.isSeriesFiltered(seriesModel)) {\r\n      return;\r\n    }\r\n\r\n    var data = seriesModel.getData();\r\n\r\n    function dataEach(data, idx) {\r\n      var itemModel = data.getItemModel(idx);\r\n\r\n      for (var i = 0; i < SYMBOL_PROPS.length; i++) {\r\n        var symbolPropName = SYMBOL_PROPS[i];\r\n        var val = itemModel.getShallow(symbolPropName, true);\r\n\r\n        if (val != null) {\r\n          data.setItemVisual(idx, symbolPropName, val);\r\n        }\r\n      }\r\n    }\r\n\r\n    return {\r\n      dataEach: data.hasItemOption ? dataEach : null\r\n    };\r\n  }\r\n};\r\nexport { seriesSymbolTask, dataSymbolTask };", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nexport function getItemVisualFromData(data, dataIndex, key) {\r\n  switch (key) {\r\n    case 'color':\r\n      var style = data.getItemVisual(dataIndex, 'style');\r\n      return style[data.getVisual('drawType')];\r\n\r\n    case 'opacity':\r\n      return data.getItemVisual(dataIndex, 'style').opacity;\r\n\r\n    case 'symbol':\r\n    case 'symbolSize':\r\n    case 'liftZ':\r\n      return data.getItemVisual(dataIndex, key);\r\n\r\n    default:\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.warn(\"Unknown visual type \" + key);\r\n      }\r\n\r\n  }\r\n}\r\nexport function getVisualFromData(data, key) {\r\n  switch (key) {\r\n    case 'color':\r\n      var style = data.getVisual('style');\r\n      return style[data.getVisual('drawType')];\r\n\r\n    case 'opacity':\r\n      return data.getVisual('style').opacity;\r\n\r\n    case 'symbol':\r\n    case 'symbolSize':\r\n    case 'liftZ':\r\n      return data.getVisual(key);\r\n\r\n    default:\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.warn(\"Unknown visual type \" + key);\r\n      }\r\n\r\n  }\r\n}\r\nexport function setItemVisualFromData(data, dataIndex, key, value) {\r\n  switch (key) {\r\n    case 'color':\r\n      // Make sure not sharing style object.\r\n      var style = data.ensureUniqueItemVisual(dataIndex, 'style');\r\n      style[data.getVisual('drawType')] = value; // Mark the color has been changed, not from palette anymore\r\n\r\n      data.setItemVisual(dataIndex, 'colorFromPalette', false);\r\n      break;\r\n\r\n    case 'opacity':\r\n      data.ensureUniqueItemVisual(dataIndex, 'style').opacity = value;\r\n      break;\r\n\r\n    case 'symbol':\r\n    case 'symbolSize':\r\n    case 'liftZ':\r\n      data.setItemVisual(dataIndex, key, value);\r\n      break;\r\n\r\n    default:\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        console.warn(\"Unknown visual type \" + key);\r\n      }\r\n\r\n  }\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { extend, each, isArray, isString } from 'zrender/lib/core/util.js';\r\nimport { deprecateReplaceLog, deprecateLog } from '../util/log.js';\r\nimport { queryDataIndex } from '../util/model.js'; // Legacy data selection action.\r\n// Includes: pieSelect, pieUnSelect, pieToggleSelect, mapSelect, mapUnSelect, mapToggleSelect\r\n\r\nexport function createLegacyDataSelectAction(seriesType, ecRegisterAction) {\r\n  function getSeriesIndices(ecModel, payload) {\r\n    var seriesIndices = [];\r\n    ecModel.eachComponent({\r\n      mainType: 'series',\r\n      subType: seriesType,\r\n      query: payload\r\n    }, function (seriesModel) {\r\n      seriesIndices.push(seriesModel.seriesIndex);\r\n    });\r\n    return seriesIndices;\r\n  }\r\n\r\n  each([[seriesType + 'ToggleSelect', 'toggleSelect'], [seriesType + 'Select', 'select'], [seriesType + 'UnSelect', 'unselect']], function (eventsMap) {\r\n    ecRegisterAction(eventsMap[0], function (payload, ecModel, api) {\r\n      payload = extend({}, payload);\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        deprecateReplaceLog(payload.type, eventsMap[1]);\r\n      }\r\n\r\n      api.dispatchAction(extend(payload, {\r\n        type: eventsMap[1],\r\n        seriesIndex: getSeriesIndices(ecModel, payload)\r\n      }));\r\n    });\r\n  });\r\n}\r\n\r\nfunction handleSeriesLegacySelectEvents(type, eventPostfix, ecIns, ecModel, payload) {\r\n  var legacyEventName = type + eventPostfix;\r\n\r\n  if (!ecIns.isSilent(legacyEventName)) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      deprecateLog(\"event \" + legacyEventName + \" is deprecated.\");\r\n    }\r\n\r\n    ecModel.eachComponent({\r\n      mainType: 'series',\r\n      subType: 'pie'\r\n    }, function (seriesModel) {\r\n      var seriesIndex = seriesModel.seriesIndex;\r\n      var selectedMap = seriesModel.option.selectedMap;\r\n      var selected = payload.selected;\r\n\r\n      for (var i = 0; i < selected.length; i++) {\r\n        if (selected[i].seriesIndex === seriesIndex) {\r\n          var data = seriesModel.getData();\r\n          var dataIndex = queryDataIndex(data, payload.fromActionPayload);\r\n          ecIns.trigger(legacyEventName, {\r\n            type: legacyEventName,\r\n            seriesId: seriesModel.id,\r\n            name: isArray(dataIndex) ? data.getName(dataIndex[0]) : data.getName(dataIndex),\r\n            selected: isString(selectedMap) ? selectedMap : extend({}, selectedMap)\r\n          });\r\n        }\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport function handleLegacySelectEvents(messageCenter, ecIns, api) {\r\n  messageCenter.on('selectchanged', function (params) {\r\n    var ecModel = api.getModel();\r\n\r\n    if (params.isFromClick) {\r\n      handleSeriesLegacySelectEvents('map', 'selectchanged', ecIns, ecModel, params);\r\n      handleSeriesLegacySelectEvents('pie', 'selectchanged', ecIns, ecModel, params);\r\n    } else if (params.fromAction === 'select') {\r\n      handleSeriesLegacySelectEvents('map', 'selected', ecIns, ecModel, params);\r\n      handleSeriesLegacySelectEvents('pie', 'selected', ecIns, ecModel, params);\r\n    } else if (params.fromAction === 'unselect') {\r\n      handleSeriesLegacySelectEvents('map', 'unselected', ecIns, ecModel, params);\r\n      handleSeriesLegacySelectEvents('pie', 'unselected', ecIns, ecModel, params);\r\n    }\r\n  });\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nexport function findEventDispatcher(target, det, returnFirstMatch) {\r\n  var found;\r\n\r\n  while (target) {\r\n    if (det(target)) {\r\n      found = target;\r\n\r\n      if (returnFirstMatch) {\r\n        break;\r\n      }\r\n    }\r\n\r\n    target = target.__hostTarget || target.parent;\r\n  }\r\n\r\n  return found;\r\n}", "var wmUniqueIndex = Math.round(Math.random() * 9);\r\nvar supportDefineProperty = typeof Object.defineProperty === 'function';\r\nvar WeakMap = (function () {\r\n    function WeakMap() {\r\n        this._id = '__ec_inner_' + wmUniqueIndex++;\r\n    }\r\n    WeakMap.prototype.get = function (key) {\r\n        return this._guard(key)[this._id];\r\n    };\r\n    WeakMap.prototype.set = function (key, value) {\r\n        var target = this._guard(key);\r\n        if (supportDefineProperty) {\r\n            Object.defineProperty(target, this._id, {\r\n                value: value,\r\n                enumerable: false,\r\n                configurable: true\r\n            });\r\n        }\r\n        else {\r\n            target[this._id] = value;\r\n        }\r\n        return this;\r\n    };\r\n    WeakMap.prototype[\"delete\"] = function (key) {\r\n        if (this.has(key)) {\r\n            delete this._guard(key)[this._id];\r\n            return true;\r\n        }\r\n        return false;\r\n    };\r\n    WeakMap.prototype.has = function (key) {\r\n        return !!this._guard(key)[this._id];\r\n    };\r\n    WeakMap.prototype._guard = function (key) {\r\n        if (key !== Object(key)) {\r\n            throw TypeError('Value of WeakMap is not a non-null object.');\r\n        }\r\n        return key;\r\n    };\r\n    return WeakMap;\r\n}());\r\nexport default WeakMap;\r\n", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n// Symbol factory\r\nimport { each, isArray, retrieve2 } from 'zrender/lib/core/util.js';\r\nimport * as graphic from './graphic.js';\r\nimport BoundingRect from 'zrender/lib/core/BoundingRect.js';\r\nimport { calculateTextPosition } from 'zrender/lib/contain/text.js';\r\nimport { parsePercent } from './number.js';\r\n/**\r\n * Triangle shape\r\n * @inner\r\n */\r\n\r\nvar Triangle = graphic.Path.extend({\r\n  type: 'triangle',\r\n  shape: {\r\n    cx: 0,\r\n    cy: 0,\r\n    width: 0,\r\n    height: 0\r\n  },\r\n  buildPath: function (path, shape) {\r\n    var cx = shape.cx;\r\n    var cy = shape.cy;\r\n    var width = shape.width / 2;\r\n    var height = shape.height / 2;\r\n    path.moveTo(cx, cy - height);\r\n    path.lineTo(cx + width, cy + height);\r\n    path.lineTo(cx - width, cy + height);\r\n    path.closePath();\r\n  }\r\n});\r\n/**\r\n * Diamond shape\r\n * @inner\r\n */\r\n\r\nvar Diamond = graphic.Path.extend({\r\n  type: 'diamond',\r\n  shape: {\r\n    cx: 0,\r\n    cy: 0,\r\n    width: 0,\r\n    height: 0\r\n  },\r\n  buildPath: function (path, shape) {\r\n    var cx = shape.cx;\r\n    var cy = shape.cy;\r\n    var width = shape.width / 2;\r\n    var height = shape.height / 2;\r\n    path.moveTo(cx, cy - height);\r\n    path.lineTo(cx + width, cy);\r\n    path.lineTo(cx, cy + height);\r\n    path.lineTo(cx - width, cy);\r\n    path.closePath();\r\n  }\r\n});\r\n/**\r\n * Pin shape\r\n * @inner\r\n */\r\n\r\nvar Pin = graphic.Path.extend({\r\n  type: 'pin',\r\n  shape: {\r\n    // x, y on the cusp\r\n    x: 0,\r\n    y: 0,\r\n    width: 0,\r\n    height: 0\r\n  },\r\n  buildPath: function (path, shape) {\r\n    var x = shape.x;\r\n    var y = shape.y;\r\n    var w = shape.width / 5 * 3; // Height must be larger than width\r\n\r\n    var h = Math.max(w, shape.height);\r\n    var r = w / 2; // Dist on y with tangent point and circle center\r\n\r\n    var dy = r * r / (h - r);\r\n    var cy = y - h + r + dy;\r\n    var angle = Math.asin(dy / r); // Dist on x with tangent point and circle center\r\n\r\n    var dx = Math.cos(angle) * r;\r\n    var tanX = Math.sin(angle);\r\n    var tanY = Math.cos(angle);\r\n    var cpLen = r * 0.6;\r\n    var cpLen2 = r * 0.7;\r\n    path.moveTo(x - dx, cy + dy);\r\n    path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\r\n    path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\r\n    path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\r\n    path.closePath();\r\n  }\r\n});\r\n/**\r\n * Arrow shape\r\n * @inner\r\n */\r\n\r\nvar Arrow = graphic.Path.extend({\r\n  type: 'arrow',\r\n  shape: {\r\n    x: 0,\r\n    y: 0,\r\n    width: 0,\r\n    height: 0\r\n  },\r\n  buildPath: function (ctx, shape) {\r\n    var height = shape.height;\r\n    var width = shape.width;\r\n    var x = shape.x;\r\n    var y = shape.y;\r\n    var dx = width / 3 * 2;\r\n    ctx.moveTo(x, y);\r\n    ctx.lineTo(x + dx, y + height);\r\n    ctx.lineTo(x, y + height / 4 * 3);\r\n    ctx.lineTo(x - dx, y + height);\r\n    ctx.lineTo(x, y);\r\n    ctx.closePath();\r\n  }\r\n});\r\n/**\r\n * Map of path constructors\r\n */\r\n// TODO Use function to build symbol path.\r\n\r\nvar symbolCtors = {\r\n  line: graphic.Line,\r\n  rect: graphic.Rect,\r\n  roundRect: graphic.Rect,\r\n  square: graphic.Rect,\r\n  circle: graphic.Circle,\r\n  diamond: Diamond,\r\n  pin: Pin,\r\n  arrow: Arrow,\r\n  triangle: Triangle\r\n};\r\nvar symbolShapeMakers = {\r\n  line: function (x, y, w, h, shape) {\r\n    shape.x1 = x;\r\n    shape.y1 = y + h / 2;\r\n    shape.x2 = x + w;\r\n    shape.y2 = y + h / 2;\r\n  },\r\n  rect: function (x, y, w, h, shape) {\r\n    shape.x = x;\r\n    shape.y = y;\r\n    shape.width = w;\r\n    shape.height = h;\r\n  },\r\n  roundRect: function (x, y, w, h, shape) {\r\n    shape.x = x;\r\n    shape.y = y;\r\n    shape.width = w;\r\n    shape.height = h;\r\n    shape.r = Math.min(w, h) / 4;\r\n  },\r\n  square: function (x, y, w, h, shape) {\r\n    var size = Math.min(w, h);\r\n    shape.x = x;\r\n    shape.y = y;\r\n    shape.width = size;\r\n    shape.height = size;\r\n  },\r\n  circle: function (x, y, w, h, shape) {\r\n    // Put circle in the center of square\r\n    shape.cx = x + w / 2;\r\n    shape.cy = y + h / 2;\r\n    shape.r = Math.min(w, h) / 2;\r\n  },\r\n  diamond: function (x, y, w, h, shape) {\r\n    shape.cx = x + w / 2;\r\n    shape.cy = y + h / 2;\r\n    shape.width = w;\r\n    shape.height = h;\r\n  },\r\n  pin: function (x, y, w, h, shape) {\r\n    shape.x = x + w / 2;\r\n    shape.y = y + h / 2;\r\n    shape.width = w;\r\n    shape.height = h;\r\n  },\r\n  arrow: function (x, y, w, h, shape) {\r\n    shape.x = x + w / 2;\r\n    shape.y = y + h / 2;\r\n    shape.width = w;\r\n    shape.height = h;\r\n  },\r\n  triangle: function (x, y, w, h, shape) {\r\n    shape.cx = x + w / 2;\r\n    shape.cy = y + h / 2;\r\n    shape.width = w;\r\n    shape.height = h;\r\n  }\r\n};\r\nexport var symbolBuildProxies = {};\r\neach(symbolCtors, function (Ctor, name) {\r\n  symbolBuildProxies[name] = new Ctor();\r\n});\r\nvar SymbolClz = graphic.Path.extend({\r\n  type: 'symbol',\r\n  shape: {\r\n    symbolType: '',\r\n    x: 0,\r\n    y: 0,\r\n    width: 0,\r\n    height: 0\r\n  },\r\n  calculateTextPosition: function (out, config, rect) {\r\n    var res = calculateTextPosition(out, config, rect);\r\n    var shape = this.shape;\r\n\r\n    if (shape && shape.symbolType === 'pin' && config.position === 'inside') {\r\n      res.y = rect.y + rect.height * 0.4;\r\n    }\r\n\r\n    return res;\r\n  },\r\n  buildPath: function (ctx, shape, inBundle) {\r\n    var symbolType = shape.symbolType;\r\n\r\n    if (symbolType !== 'none') {\r\n      var proxySymbol = symbolBuildProxies[symbolType];\r\n\r\n      if (!proxySymbol) {\r\n        // Default rect\r\n        symbolType = 'rect';\r\n        proxySymbol = symbolBuildProxies[symbolType];\r\n      }\r\n\r\n      symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\r\n      proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\r\n    }\r\n  }\r\n}); // Provide setColor helper method to avoid determine if set the fill or stroke outside\r\n\r\nfunction symbolPathSetColor(color, innerColor) {\r\n  if (this.type !== 'image') {\r\n    var symbolStyle = this.style;\r\n\r\n    if (this.__isEmptyBrush) {\r\n      symbolStyle.stroke = color;\r\n      symbolStyle.fill = innerColor || '#fff'; // TODO Same width with lineStyle in LineView\r\n\r\n      symbolStyle.lineWidth = 2;\r\n    } else if (this.shape.symbolType === 'line') {\r\n      symbolStyle.stroke = color;\r\n    } else {\r\n      symbolStyle.fill = color;\r\n    }\r\n\r\n    this.markRedraw();\r\n  }\r\n}\r\n/**\r\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\r\n */\r\n\r\n\r\nexport function createSymbol(symbolType, x, y, w, h, color, // whether to keep the ratio of w/h,\r\nkeepAspect) {\r\n  // TODO Support image object, DynamicImage.\r\n  var isEmpty = symbolType.indexOf('empty') === 0;\r\n\r\n  if (isEmpty) {\r\n    symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\r\n  }\r\n\r\n  var symbolPath;\r\n\r\n  if (symbolType.indexOf('image://') === 0) {\r\n    symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\r\n  } else if (symbolType.indexOf('path://') === 0) {\r\n    symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\r\n  } else {\r\n    symbolPath = new SymbolClz({\r\n      shape: {\r\n        symbolType: symbolType,\r\n        x: x,\r\n        y: y,\r\n        width: w,\r\n        height: h\r\n      }\r\n    });\r\n  }\r\n\r\n  symbolPath.__isEmptyBrush = isEmpty; // TODO Should deprecate setColor\r\n\r\n  symbolPath.setColor = symbolPathSetColor;\r\n\r\n  if (color) {\r\n    symbolPath.setColor(color);\r\n  }\r\n\r\n  return symbolPath;\r\n}\r\nexport function normalizeSymbolSize(symbolSize) {\r\n  if (!isArray(symbolSize)) {\r\n    symbolSize = [+symbolSize, +symbolSize];\r\n  }\r\n\r\n  return [symbolSize[0] || 0, symbolSize[1] || 0];\r\n}\r\nexport function normalizeSymbolOffset(symbolOffset, symbolSize) {\r\n  if (symbolOffset == null) {\r\n    return;\r\n  }\r\n\r\n  if (!isArray(symbolOffset)) {\r\n    symbolOffset = [symbolOffset, symbolOffset];\r\n  }\r\n\r\n  return [parsePercent(symbolOffset[0], symbolSize[0]) || 0, parsePercent(retrieve2(symbolOffset[1], symbolOffset[0]), symbolSize[1]) || 0];\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport WeakMap from 'zrender/lib/core/WeakMap.js';\r\nimport LRU from 'zrender/lib/core/LRU.js';\r\nimport { defaults, map, isArray, isString, isNumber } from 'zrender/lib/core/util.js';\r\nimport { getLeastCommonMultiple } from './number.js';\r\nimport { createSymbol } from './symbol.js';\r\nimport { brushSingle } from 'zrender/lib/canvas/graphic.js';\r\nimport { platformApi } from 'zrender/lib/core/platform.js';\r\nvar decalMap = new WeakMap();\r\nvar decalCache = new LRU(100);\r\nvar decalKeys = ['symbol', 'symbolSize', 'symbolKeepAspect', 'color', 'backgroundColor', 'dashArrayX', 'dashArrayY', 'maxTileWidth', 'maxTileHeight'];\r\n/**\r\n * Create or update pattern image from decal options\r\n *\r\n * @param {InnerDecalObject | 'none'} decalObject decal options, 'none' if no decal\r\n * @return {Pattern} pattern with generated image, null if no decal\r\n */\r\n\r\nexport function createOrUpdatePatternFromDecal(decalObject, api) {\r\n  if (decalObject === 'none') {\r\n    return null;\r\n  }\r\n\r\n  var dpr = api.getDevicePixelRatio();\r\n  var zr = api.getZr();\r\n  var isSVG = zr.painter.type === 'svg';\r\n\r\n  if (decalObject.dirty) {\r\n    decalMap[\"delete\"](decalObject);\r\n  }\r\n\r\n  var oldPattern = decalMap.get(decalObject);\r\n\r\n  if (oldPattern) {\r\n    return oldPattern;\r\n  }\r\n\r\n  var decalOpt = defaults(decalObject, {\r\n    symbol: 'rect',\r\n    symbolSize: 1,\r\n    symbolKeepAspect: true,\r\n    color: 'rgba(0, 0, 0, 0.2)',\r\n    backgroundColor: null,\r\n    dashArrayX: 5,\r\n    dashArrayY: 5,\r\n    rotation: 0,\r\n    maxTileWidth: 512,\r\n    maxTileHeight: 512\r\n  });\r\n\r\n  if (decalOpt.backgroundColor === 'none') {\r\n    decalOpt.backgroundColor = null;\r\n  }\r\n\r\n  var pattern = {\r\n    repeat: 'repeat'\r\n  };\r\n  setPatternnSource(pattern);\r\n  pattern.rotation = decalOpt.rotation;\r\n  pattern.scaleX = pattern.scaleY = isSVG ? 1 : 1 / dpr;\r\n  decalMap.set(decalObject, pattern);\r\n  decalObject.dirty = false;\r\n  return pattern;\r\n\r\n  function setPatternnSource(pattern) {\r\n    var keys = [dpr];\r\n    var isValidKey = true;\r\n\r\n    for (var i = 0; i < decalKeys.length; ++i) {\r\n      var value = decalOpt[decalKeys[i]];\r\n\r\n      if (value != null && !isArray(value) && !isString(value) && !isNumber(value) && typeof value !== 'boolean') {\r\n        isValidKey = false;\r\n        break;\r\n      }\r\n\r\n      keys.push(value);\r\n    }\r\n\r\n    var cacheKey;\r\n\r\n    if (isValidKey) {\r\n      cacheKey = keys.join(',') + (isSVG ? '-svg' : '');\r\n      var cache = decalCache.get(cacheKey);\r\n\r\n      if (cache) {\r\n        isSVG ? pattern.svgElement = cache : pattern.image = cache;\r\n      }\r\n    }\r\n\r\n    var dashArrayX = normalizeDashArrayX(decalOpt.dashArrayX);\r\n    var dashArrayY = normalizeDashArrayY(decalOpt.dashArrayY);\r\n    var symbolArray = normalizeSymbolArray(decalOpt.symbol);\r\n    var lineBlockLengthsX = getLineBlockLengthX(dashArrayX);\r\n    var lineBlockLengthY = getLineBlockLengthY(dashArrayY);\r\n    var canvas = !isSVG && platformApi.createCanvas();\r\n    var svgRoot = isSVG && {\r\n      tag: 'g',\r\n      attrs: {},\r\n      key: 'dcl',\r\n      children: []\r\n    };\r\n    var pSize = getPatternSize();\r\n    var ctx;\r\n\r\n    if (canvas) {\r\n      canvas.width = pSize.width * dpr;\r\n      canvas.height = pSize.height * dpr;\r\n      ctx = canvas.getContext('2d');\r\n    }\r\n\r\n    brushDecal();\r\n\r\n    if (isValidKey) {\r\n      decalCache.put(cacheKey, canvas || svgRoot);\r\n    }\r\n\r\n    pattern.image = canvas;\r\n    pattern.svgElement = svgRoot;\r\n    pattern.svgWidth = pSize.width;\r\n    pattern.svgHeight = pSize.height;\r\n    /**\r\n     * Get minimum length that can make a repeatable pattern.\r\n     *\r\n     * @return {Object} pattern width and height\r\n     */\r\n\r\n    function getPatternSize() {\r\n      /**\r\n       * For example, if dash is [[3, 2], [2, 1]] for X, it looks like\r\n       * |---  ---  ---  ---  --- ...\r\n       * |-- -- -- -- -- -- -- -- ...\r\n       * |---  ---  ---  ---  --- ...\r\n       * |-- -- -- -- -- -- -- -- ...\r\n       * So the minimum length of X is 15,\r\n       * which is the least common multiple of `3 + 2` and `2 + 1`\r\n       * |---  ---  ---  |---  --- ...\r\n       * |-- -- -- -- -- |-- -- -- ...\r\n       */\r\n      var width = 1;\r\n\r\n      for (var i = 0, xlen = lineBlockLengthsX.length; i < xlen; ++i) {\r\n        width = getLeastCommonMultiple(width, lineBlockLengthsX[i]);\r\n      }\r\n\r\n      var symbolRepeats = 1;\r\n\r\n      for (var i = 0, xlen = symbolArray.length; i < xlen; ++i) {\r\n        symbolRepeats = getLeastCommonMultiple(symbolRepeats, symbolArray[i].length);\r\n      }\r\n\r\n      width *= symbolRepeats;\r\n      var height = lineBlockLengthY * lineBlockLengthsX.length * symbolArray.length;\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        var warn = function (attrName) {\r\n          /* eslint-disable-next-line */\r\n          console.warn(\"Calculated decal size is greater than \" + attrName + \" due to decal option settings so \" + attrName + \" is used for the decal size. Please consider changing the decal option to make a smaller decal or set \" + attrName + \" to be larger to avoid incontinuity.\");\r\n        };\r\n\r\n        if (width > decalOpt.maxTileWidth) {\r\n          warn('maxTileWidth');\r\n        }\r\n\r\n        if (height > decalOpt.maxTileHeight) {\r\n          warn('maxTileHeight');\r\n        }\r\n      }\r\n\r\n      return {\r\n        width: Math.max(1, Math.min(width, decalOpt.maxTileWidth)),\r\n        height: Math.max(1, Math.min(height, decalOpt.maxTileHeight))\r\n      };\r\n    }\r\n\r\n    function brushDecal() {\r\n      if (ctx) {\r\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n\r\n        if (decalOpt.backgroundColor) {\r\n          ctx.fillStyle = decalOpt.backgroundColor;\r\n          ctx.fillRect(0, 0, canvas.width, canvas.height);\r\n        }\r\n      }\r\n\r\n      var ySum = 0;\r\n\r\n      for (var i = 0; i < dashArrayY.length; ++i) {\r\n        ySum += dashArrayY[i];\r\n      }\r\n\r\n      if (ySum <= 0) {\r\n        // dashArrayY is 0, draw nothing\r\n        return;\r\n      }\r\n\r\n      var y = -lineBlockLengthY;\r\n      var yId = 0;\r\n      var yIdTotal = 0;\r\n      var xId0 = 0;\r\n\r\n      while (y < pSize.height) {\r\n        if (yId % 2 === 0) {\r\n          var symbolYId = yIdTotal / 2 % symbolArray.length;\r\n          var x = 0;\r\n          var xId1 = 0;\r\n          var xId1Total = 0;\r\n\r\n          while (x < pSize.width * 2) {\r\n            var xSum = 0;\r\n\r\n            for (var i = 0; i < dashArrayX[xId0].length; ++i) {\r\n              xSum += dashArrayX[xId0][i];\r\n            }\r\n\r\n            if (xSum <= 0) {\r\n              // Skip empty line\r\n              break;\r\n            } // E.g., [15, 5, 20, 5] draws only for 15 and 20\r\n\r\n\r\n            if (xId1 % 2 === 0) {\r\n              var size = (1 - decalOpt.symbolSize) * 0.5;\r\n              var left = x + dashArrayX[xId0][xId1] * size;\r\n              var top_1 = y + dashArrayY[yId] * size;\r\n              var width = dashArrayX[xId0][xId1] * decalOpt.symbolSize;\r\n              var height = dashArrayY[yId] * decalOpt.symbolSize;\r\n              var symbolXId = xId1Total / 2 % symbolArray[symbolYId].length;\r\n              brushSymbol(left, top_1, width, height, symbolArray[symbolYId][symbolXId]);\r\n            }\r\n\r\n            x += dashArrayX[xId0][xId1];\r\n            ++xId1Total;\r\n            ++xId1;\r\n\r\n            if (xId1 === dashArrayX[xId0].length) {\r\n              xId1 = 0;\r\n            }\r\n          }\r\n\r\n          ++xId0;\r\n\r\n          if (xId0 === dashArrayX.length) {\r\n            xId0 = 0;\r\n          }\r\n        }\r\n\r\n        y += dashArrayY[yId];\r\n        ++yIdTotal;\r\n        ++yId;\r\n\r\n        if (yId === dashArrayY.length) {\r\n          yId = 0;\r\n        }\r\n      }\r\n\r\n      function brushSymbol(x, y, width, height, symbolType) {\r\n        var scale = isSVG ? 1 : dpr;\r\n        var symbol = createSymbol(symbolType, x * scale, y * scale, width * scale, height * scale, decalOpt.color, decalOpt.symbolKeepAspect);\r\n\r\n        if (isSVG) {\r\n          var symbolVNode = zr.painter.renderOneToVNode(symbol);\r\n\r\n          if (symbolVNode) {\r\n            svgRoot.children.push(symbolVNode);\r\n          }\r\n        } else {\r\n          // Paint to canvas for all other renderers.\r\n          brushSingle(ctx, symbol);\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n/**\r\n * Convert symbol array into normalized array\r\n *\r\n * @param {string | (string | string[])[]} symbol symbol input\r\n * @return {string[][]} normolized symbol array\r\n */\r\n\r\nfunction normalizeSymbolArray(symbol) {\r\n  if (!symbol || symbol.length === 0) {\r\n    return [['rect']];\r\n  }\r\n\r\n  if (isString(symbol)) {\r\n    return [[symbol]];\r\n  }\r\n\r\n  var isAllString = true;\r\n\r\n  for (var i = 0; i < symbol.length; ++i) {\r\n    if (!isString(symbol[i])) {\r\n      isAllString = false;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (isAllString) {\r\n    return normalizeSymbolArray([symbol]);\r\n  }\r\n\r\n  var result = [];\r\n\r\n  for (var i = 0; i < symbol.length; ++i) {\r\n    if (isString(symbol[i])) {\r\n      result.push([symbol[i]]);\r\n    } else {\r\n      result.push(symbol[i]);\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n/**\r\n * Convert dash input into dashArray\r\n *\r\n * @param {DecalDashArrayX} dash dash input\r\n * @return {number[][]} normolized dash array\r\n */\r\n\r\n\r\nfunction normalizeDashArrayX(dash) {\r\n  if (!dash || dash.length === 0) {\r\n    return [[0, 0]];\r\n  }\r\n\r\n  if (isNumber(dash)) {\r\n    var dashValue = Math.ceil(dash);\r\n    return [[dashValue, dashValue]];\r\n  }\r\n  /**\r\n   * [20, 5] should be normalized into [[20, 5]],\r\n   * while [20, [5, 10]] should be normalized into [[20, 20], [5, 10]]\r\n   */\r\n\r\n\r\n  var isAllNumber = true;\r\n\r\n  for (var i = 0; i < dash.length; ++i) {\r\n    if (!isNumber(dash[i])) {\r\n      isAllNumber = false;\r\n      break;\r\n    }\r\n  }\r\n\r\n  if (isAllNumber) {\r\n    return normalizeDashArrayX([dash]);\r\n  }\r\n\r\n  var result = [];\r\n\r\n  for (var i = 0; i < dash.length; ++i) {\r\n    if (isNumber(dash[i])) {\r\n      var dashValue = Math.ceil(dash[i]);\r\n      result.push([dashValue, dashValue]);\r\n    } else {\r\n      var dashValue = map(dash[i], function (n) {\r\n        return Math.ceil(n);\r\n      });\r\n\r\n      if (dashValue.length % 2 === 1) {\r\n        // [4, 2, 1] means |----  -    -- |----  -    -- |\r\n        // so normalize it to be [4, 2, 1, 4, 2, 1]\r\n        result.push(dashValue.concat(dashValue));\r\n      } else {\r\n        result.push(dashValue);\r\n      }\r\n    }\r\n  }\r\n\r\n  return result;\r\n}\r\n/**\r\n * Convert dash input into dashArray\r\n *\r\n * @param {DecalDashArrayY} dash dash input\r\n * @return {number[]} normolized dash array\r\n */\r\n\r\n\r\nfunction normalizeDashArrayY(dash) {\r\n  if (!dash || typeof dash === 'object' && dash.length === 0) {\r\n    return [0, 0];\r\n  }\r\n\r\n  if (isNumber(dash)) {\r\n    var dashValue_1 = Math.ceil(dash);\r\n    return [dashValue_1, dashValue_1];\r\n  }\r\n\r\n  var dashValue = map(dash, function (n) {\r\n    return Math.ceil(n);\r\n  });\r\n  return dash.length % 2 ? dashValue.concat(dashValue) : dashValue;\r\n}\r\n/**\r\n * Get block length of each line. A block is the length of dash line and space.\r\n * For example, a line with [4, 1] has a dash line of 4 and a space of 1 after\r\n * that, so the block length of this line is 5.\r\n *\r\n * @param {number[][]} dash dash array of X or Y\r\n * @return {number[]} block length of each line\r\n */\r\n\r\n\r\nfunction getLineBlockLengthX(dash) {\r\n  return map(dash, function (line) {\r\n    return getLineBlockLengthY(line);\r\n  });\r\n}\r\n\r\nfunction getLineBlockLengthY(dash) {\r\n  var blockLength = 0;\r\n\r\n  for (var i = 0; i < dash.length; ++i) {\r\n    blockLength += dash[i];\r\n  }\r\n\r\n  if (dash.length % 2 === 1) {\r\n    // [4, 2, 1] means |----  -    -- |----  -    -- |\r\n    // So total length is (4 + 2 + 1) * 2\r\n    return blockLength * 2;\r\n  }\r\n\r\n  return blockLength;\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { createOrUpdatePatternFromDecal } from '../util/decal.js';\r\nexport default function decalVisual(ecModel, api) {\r\n  ecModel.eachRawSeries(function (seriesModel) {\r\n    if (ecModel.isSeriesFiltered(seriesModel)) {\r\n      return;\r\n    }\r\n\r\n    var data = seriesModel.getData();\r\n\r\n    if (data.hasItemVisual()) {\r\n      data.each(function (idx) {\r\n        var decal = data.getItemVisual(idx, 'decal');\r\n\r\n        if (decal) {\r\n          var itemStyle = data.ensureUniqueItemVisual(idx, 'style');\r\n          itemStyle.decal = createOrUpdatePatternFromDecal(decal, api);\r\n        }\r\n      });\r\n    }\r\n\r\n    var decal = data.getVisual('decal');\r\n\r\n    if (decal) {\r\n      var style = data.getVisual('style');\r\n      style.decal = createOrUpdatePatternFromDecal(decal, api);\r\n    }\r\n  });\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport Eventful from 'zrender/lib/core/Eventful.js';\r\n;\r\nvar lifecycle = new Eventful();\r\nexport default lifecycle;", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { error } from '../util/log.js'; // Implementation of exported APIs. For example registerMap, getMap.\r\n// The implementations will be registered when installing the component.\r\n// Avoid these code being bundled to the core module.\r\n\r\nvar implsStore = {}; // TODO Type\r\n\r\nexport function registerImpl(name, impl) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (implsStore[name]) {\r\n      error(\"Already has an implementation of \" + name + \".\");\r\n    }\r\n  }\r\n\r\n  implsStore[name] = impl;\r\n}\r\nexport function getImpl(name) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (!implsStore[name]) {\r\n      error(\"Implementation of \" + name + \" doesn't exists.\");\r\n    }\r\n  }\r\n\r\n  return implsStore[name];\r\n}", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\nimport { __extends } from \"tslib\";\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\nimport * as zrender from 'zrender/lib/zrender.js';\r\nimport { assert, each, isFunction, isObject, indexOf, bind, clone, setAsPrimitive, extend, createHashMap, map, defaults, isDom, isArray, noop, isString, retrieve2 } from 'zrender/lib/core/util.js';\r\nimport env from 'zrender/lib/core/env.js';\r\nimport timsort from 'zrender/lib/core/timsort.js';\r\nimport Eventful from 'zrender/lib/core/Eventful.js';\r\nimport GlobalModel from '../model/Global.js';\r\nimport ExtensionAPI from './ExtensionAPI.js';\r\nimport CoordinateSystemManager from './CoordinateSystem.js';\r\nimport OptionManager from '../model/OptionManager.js';\r\nimport backwardCompat from '../preprocessor/backwardCompat.js';\r\nimport dataStack from '../processor/dataStack.js';\r\nimport SeriesModel from '../model/Series.js';\r\nimport ComponentView from '../view/Component.js';\r\nimport ChartView from '../view/Chart.js';\r\nimport * as graphic from '../util/graphic.js';\r\nimport { getECData } from '../util/innerStore.js';\r\nimport { isHighDownDispatcher, HOVER_STATE_EMPHASIS, HOVER_STATE_BLUR, blurSeriesFromHighlightPayload, toggleSelectionFromPayload, updateSeriesElementSelection, getAllSelectedIndices, isSelectChangePayload, isHighDownPayload, HIGHLIGHT_ACTION_TYPE, DOWNPLAY_ACTION_TYPE, SELECT_ACTION_TYPE, UNSELECT_ACTION_TYPE, TOGGLE_SELECT_ACTION_TYPE, savePathStates, enterEmphasis, leaveEmphasis, leaveBlur, enterSelect, leaveSelect, enterBlur, allLeaveBlur, findComponentHighDownDispatchers, blurComponent, handleGlobalMouseOverForHighDown, handleGlobalMouseOutForHighDown } from '../util/states.js';\r\nimport * as modelUtil from '../util/model.js';\r\nimport { throttle } from '../util/throttle.js';\r\nimport { seriesStyleTask, dataStyleTask, dataColorPaletteTask } from '../visual/style.js';\r\nimport loadingDefault from '../loading/default.js';\r\nimport Scheduler from './Scheduler.js';\r\nimport lightTheme from '../theme/light.js';\r\nimport darkTheme from '../theme/dark.js';\r\nimport { parseClassType } from '../util/clazz.js';\r\nimport { ECEventProcessor } from '../util/ECEventProcessor.js';\r\nimport { seriesSymbolTask, dataSymbolTask } from '../visual/symbol.js';\r\nimport { getVisualFromData, getItemVisualFromData } from '../visual/helper.js';\r\nimport { deprecateLog, deprecateReplaceLog, error, warn } from '../util/log.js';\r\nimport { handleLegacySelectEvents } from '../legacy/dataSelectAction.js';\r\nimport { registerExternalTransform } from '../data/helper/transform.js';\r\nimport { createLocaleObject, SYSTEM_LANG } from './locale.js';\r\nimport { findEventDispatcher } from '../util/event.js';\r\nimport decal from '../visual/decal.js';\r\nimport lifecycle from './lifecycle.js';\r\nimport { platformApi, setPlatformAPI } from 'zrender/lib/core/platform.js';\r\nimport { getImpl } from './impl.js';\r\nexport var version = '5.4.2';\r\nexport var dependencies = {\r\n  zrender: '5.4.3'\r\n};\r\nvar TEST_FRAME_REMAIN_TIME = 1;\r\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800; // Some data processors depends on the stack result dimension (to calculate data extent).\r\n// So data stack stage should be in front of data processing stage.\r\n\r\nvar PRIORITY_PROCESSOR_DATASTACK = 900; // \"Data filter\" will block the stream, so it should be\r\n// put at the beginning of data processing.\r\n\r\nvar PRIORITY_PROCESSOR_FILTER = 1000;\r\nvar PRIORITY_PROCESSOR_DEFAULT = 2000;\r\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\r\nvar PRIORITY_VISUAL_LAYOUT = 1000;\r\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\r\nvar PRIORITY_VISUAL_GLOBAL = 2000;\r\nvar PRIORITY_VISUAL_CHART = 3000;\r\nvar PRIORITY_VISUAL_COMPONENT = 4000; // Visual property in data. Greater than `PRIORITY_VISUAL_COMPONENT` to enable to\r\n// overwrite the viusal result of component (like `visualMap`)\r\n// using data item specific setting (like itemStyle.xxx on data item)\r\n\r\nvar PRIORITY_VISUAL_CHART_DATA_CUSTOM = 4500; // Greater than `PRIORITY_VISUAL_CHART_DATA_CUSTOM` to enable to layout based on\r\n// visual result like `symbolSize`.\r\n\r\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 4600;\r\nvar PRIORITY_VISUAL_BRUSH = 5000;\r\nvar PRIORITY_VISUAL_ARIA = 6000;\r\nvar PRIORITY_VISUAL_DECAL = 7000;\r\nexport var PRIORITY = {\r\n  PROCESSOR: {\r\n    FILTER: PRIORITY_PROCESSOR_FILTER,\r\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\r\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\r\n  },\r\n  VISUAL: {\r\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\r\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\r\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\r\n    CHART: PRIORITY_VISUAL_CHART,\r\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\r\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\r\n    BRUSH: PRIORITY_VISUAL_BRUSH,\r\n    CHART_ITEM: PRIORITY_VISUAL_CHART_DATA_CUSTOM,\r\n    ARIA: PRIORITY_VISUAL_ARIA,\r\n    DECAL: PRIORITY_VISUAL_DECAL\r\n  }\r\n}; // Main process have three entries: `setOption`, `dispatchAction` and `resize`,\r\n// where they must not be invoked nestedly, except the only case: invoke\r\n// dispatchAction with updateMethod \"none\" in main process.\r\n// This flag is used to carry out this rule.\r\n// All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\r\n\r\nvar IN_MAIN_PROCESS_KEY = '__flagInMainProcess';\r\nvar PENDING_UPDATE = '__pendingUpdate';\r\nvar STATUS_NEEDS_UPDATE_KEY = '__needsUpdateStatus';\r\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\r\nvar CONNECT_STATUS_KEY = '__connectUpdateStatus';\r\nvar CONNECT_STATUS_PENDING = 0;\r\nvar CONNECT_STATUS_UPDATING = 1;\r\nvar CONNECT_STATUS_UPDATED = 2;\r\n;\r\n;\r\n\r\nfunction createRegisterEventWithLowercaseECharts(method) {\r\n  return function () {\r\n    var args = [];\r\n\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n      args[_i] = arguments[_i];\r\n    }\r\n\r\n    if (this.isDisposed()) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    return toLowercaseNameAndCallEventful(this, method, args);\r\n  };\r\n}\r\n\r\nfunction createRegisterEventWithLowercaseMessageCenter(method) {\r\n  return function () {\r\n    var args = [];\r\n\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n      args[_i] = arguments[_i];\r\n    }\r\n\r\n    return toLowercaseNameAndCallEventful(this, method, args);\r\n  };\r\n}\r\n\r\nfunction toLowercaseNameAndCallEventful(host, method, args) {\r\n  // `args[0]` is event name. Event name is all lowercase.\r\n  args[0] = args[0] && args[0].toLowerCase();\r\n  return Eventful.prototype[method].apply(host, args);\r\n}\r\n\r\nvar MessageCenter =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(MessageCenter, _super);\r\n\r\n  function MessageCenter() {\r\n    return _super !== null && _super.apply(this, arguments) || this;\r\n  }\r\n\r\n  return MessageCenter;\r\n}(Eventful);\r\n\r\nvar messageCenterProto = MessageCenter.prototype;\r\nmessageCenterProto.on = createRegisterEventWithLowercaseMessageCenter('on');\r\nmessageCenterProto.off = createRegisterEventWithLowercaseMessageCenter('off'); // ---------------------------------------\r\n// Internal method names for class ECharts\r\n// ---------------------------------------\r\n\r\nvar prepare;\r\nvar prepareView;\r\nvar updateDirectly;\r\nvar updateMethods;\r\nvar doConvertPixel;\r\nvar updateStreamModes;\r\nvar doDispatchAction;\r\nvar flushPendingActions;\r\nvar triggerUpdatedEvent;\r\nvar bindRenderedEvent;\r\nvar bindMouseEvent;\r\nvar render;\r\nvar renderComponents;\r\nvar renderSeries;\r\nvar createExtensionAPI;\r\nvar enableConnect;\r\nvar markStatusToUpdate;\r\nvar applyChangedStates;\r\n\r\nvar ECharts =\r\n/** @class */\r\nfunction (_super) {\r\n  __extends(ECharts, _super);\r\n\r\n  function ECharts(dom, // Theme name or themeOption.\r\n  theme, opts) {\r\n    var _this = _super.call(this, new ECEventProcessor()) || this;\r\n\r\n    _this._chartsViews = [];\r\n    _this._chartsMap = {};\r\n    _this._componentsViews = [];\r\n    _this._componentsMap = {}; // Can't dispatch action during rendering procedure\r\n\r\n    _this._pendingActions = [];\r\n    opts = opts || {}; // Get theme by name\r\n\r\n    if (isString(theme)) {\r\n      theme = themeStorage[theme];\r\n    }\r\n\r\n    _this._dom = dom;\r\n    var defaultRenderer = 'canvas';\r\n    var defaultCoarsePointer = 'auto';\r\n    var defaultUseDirtyRect = false;\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      var root =\r\n      /* eslint-disable-next-line */\r\n      env.hasGlobalWindow ? window : global;\r\n      defaultRenderer = root.__ECHARTS__DEFAULT__RENDERER__ || defaultRenderer;\r\n      defaultCoarsePointer = retrieve2(root.__ECHARTS__DEFAULT__COARSE_POINTER, defaultCoarsePointer);\r\n      var devUseDirtyRect = root.__ECHARTS__DEFAULT__USE_DIRTY_RECT__;\r\n      defaultUseDirtyRect = devUseDirtyRect == null ? defaultUseDirtyRect : devUseDirtyRect;\r\n    }\r\n\r\n    var zr = _this._zr = zrender.init(dom, {\r\n      renderer: opts.renderer || defaultRenderer,\r\n      devicePixelRatio: opts.devicePixelRatio,\r\n      width: opts.width,\r\n      height: opts.height,\r\n      ssr: opts.ssr,\r\n      useDirtyRect: retrieve2(opts.useDirtyRect, defaultUseDirtyRect),\r\n      useCoarsePointer: retrieve2(opts.useCoarsePointer, defaultCoarsePointer),\r\n      pointerSize: opts.pointerSize\r\n    });\r\n    _this._ssr = opts.ssr; // Expect 60 fps.\r\n\r\n    _this._throttledZrFlush = throttle(bind(zr.flush, zr), 17);\r\n    theme = clone(theme);\r\n    theme && backwardCompat(theme, true);\r\n    _this._theme = theme;\r\n    _this._locale = createLocaleObject(opts.locale || SYSTEM_LANG);\r\n    _this._coordSysMgr = new CoordinateSystemManager();\r\n    var api = _this._api = createExtensionAPI(_this); // Sort on demand\r\n\r\n    function prioritySortFunc(a, b) {\r\n      return a.__prio - b.__prio;\r\n    }\r\n\r\n    timsort(visualFuncs, prioritySortFunc);\r\n    timsort(dataProcessorFuncs, prioritySortFunc);\r\n    _this._scheduler = new Scheduler(_this, api, dataProcessorFuncs, visualFuncs);\r\n    _this._messageCenter = new MessageCenter(); // Init mouse events\r\n\r\n    _this._initEvents(); // In case some people write `window.onresize = chart.resize`\r\n\r\n\r\n    _this.resize = bind(_this.resize, _this);\r\n    zr.animation.on('frame', _this._onframe, _this);\r\n    bindRenderedEvent(zr, _this);\r\n    bindMouseEvent(zr, _this); // ECharts instance can be used as value.\r\n\r\n    setAsPrimitive(_this);\r\n    return _this;\r\n  }\r\n\r\n  ECharts.prototype._onframe = function () {\r\n    if (this._disposed) {\r\n      return;\r\n    }\r\n\r\n    applyChangedStates(this);\r\n    var scheduler = this._scheduler; // Lazy update\r\n\r\n    if (this[PENDING_UPDATE]) {\r\n      var silent = this[PENDING_UPDATE].silent;\r\n      this[IN_MAIN_PROCESS_KEY] = true;\r\n\r\n      try {\r\n        prepare(this);\r\n        updateMethods.update.call(this, null, this[PENDING_UPDATE].updateParams);\r\n      } catch (e) {\r\n        this[IN_MAIN_PROCESS_KEY] = false;\r\n        this[PENDING_UPDATE] = null;\r\n        throw e;\r\n      } // At present, in each frame, zrender performs:\r\n      //   (1) animation step forward.\r\n      //   (2) trigger('frame') (where this `_onframe` is called)\r\n      //   (3) zrender flush (render).\r\n      // If we do nothing here, since we use `setToFinal: true`, the step (3) above\r\n      // will render the final state of the elements before the real animation started.\r\n\r\n\r\n      this._zr.flush();\r\n\r\n      this[IN_MAIN_PROCESS_KEY] = false;\r\n      this[PENDING_UPDATE] = null;\r\n      flushPendingActions.call(this, silent);\r\n      triggerUpdatedEvent.call(this, silent);\r\n    } // Avoid do both lazy update and progress in one frame.\r\n    else if (scheduler.unfinished) {\r\n        // Stream progress.\r\n        var remainTime = TEST_FRAME_REMAIN_TIME;\r\n        var ecModel = this._model;\r\n        var api = this._api;\r\n        scheduler.unfinished = false;\r\n\r\n        do {\r\n          var startTime = +new Date();\r\n          scheduler.performSeriesTasks(ecModel); // Currently dataProcessorFuncs do not check threshold.\r\n\r\n          scheduler.performDataProcessorTasks(ecModel);\r\n          updateStreamModes(this, ecModel); // Do not update coordinate system here. Because that coord system update in\r\n          // each frame is not a good user experience. So we follow the rule that\r\n          // the extent of the coordinate system is determined in the first frame (the\r\n          // frame is executed immediately after task reset.\r\n          // this._coordSysMgr.update(ecModel, api);\r\n          // console.log('--- ec frame visual ---', remainTime);\r\n\r\n          scheduler.performVisualTasks(ecModel);\r\n          renderSeries(this, this._model, api, 'remain', {});\r\n          remainTime -= +new Date() - startTime;\r\n        } while (remainTime > 0 && scheduler.unfinished); // Call flush explicitly for trigger finished event.\r\n\r\n\r\n        if (!scheduler.unfinished) {\r\n          this._zr.flush();\r\n        } // Else, zr flushing be ensue within the same frame,\r\n        // because zr flushing is after onframe event.\r\n\r\n      }\r\n  };\r\n\r\n  ECharts.prototype.getDom = function () {\r\n    return this._dom;\r\n  };\r\n\r\n  ECharts.prototype.getId = function () {\r\n    return this.id;\r\n  };\r\n\r\n  ECharts.prototype.getZr = function () {\r\n    return this._zr;\r\n  };\r\n\r\n  ECharts.prototype.isSSR = function () {\r\n    return this._ssr;\r\n  };\r\n  /* eslint-disable-next-line */\r\n\r\n\r\n  ECharts.prototype.setOption = function (option, notMerge, lazyUpdate) {\r\n    if (this[IN_MAIN_PROCESS_KEY]) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        error('`setOption` should not be called during main process.');\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    var silent;\r\n    var replaceMerge;\r\n    var transitionOpt;\r\n\r\n    if (isObject(notMerge)) {\r\n      lazyUpdate = notMerge.lazyUpdate;\r\n      silent = notMerge.silent;\r\n      replaceMerge = notMerge.replaceMerge;\r\n      transitionOpt = notMerge.transition;\r\n      notMerge = notMerge.notMerge;\r\n    }\r\n\r\n    this[IN_MAIN_PROCESS_KEY] = true;\r\n\r\n    if (!this._model || notMerge) {\r\n      var optionManager = new OptionManager(this._api);\r\n      var theme = this._theme;\r\n      var ecModel = this._model = new GlobalModel();\r\n      ecModel.scheduler = this._scheduler;\r\n      ecModel.ssr = this._ssr;\r\n      ecModel.init(null, null, null, theme, this._locale, optionManager);\r\n    }\r\n\r\n    this._model.setOption(option, {\r\n      replaceMerge: replaceMerge\r\n    }, optionPreprocessorFuncs);\r\n\r\n    var updateParams = {\r\n      seriesTransition: transitionOpt,\r\n      optionChanged: true\r\n    };\r\n\r\n    if (lazyUpdate) {\r\n      this[PENDING_UPDATE] = {\r\n        silent: silent,\r\n        updateParams: updateParams\r\n      };\r\n      this[IN_MAIN_PROCESS_KEY] = false; // `setOption(option, {lazyMode: true})` may be called when zrender has been slept.\r\n      // It should wake it up to make sure zrender start to render at the next frame.\r\n\r\n      this.getZr().wakeUp();\r\n    } else {\r\n      try {\r\n        prepare(this);\r\n        updateMethods.update.call(this, null, updateParams);\r\n      } catch (e) {\r\n        this[PENDING_UPDATE] = null;\r\n        this[IN_MAIN_PROCESS_KEY] = false;\r\n        throw e;\r\n      } // Ensure zr refresh sychronously, and then pixel in canvas can be\r\n      // fetched after `setOption`.\r\n\r\n\r\n      if (!this._ssr) {\r\n        // not use flush when using ssr mode.\r\n        this._zr.flush();\r\n      }\r\n\r\n      this[PENDING_UPDATE] = null;\r\n      this[IN_MAIN_PROCESS_KEY] = false;\r\n      flushPendingActions.call(this, silent);\r\n      triggerUpdatedEvent.call(this, silent);\r\n    }\r\n  };\r\n  /**\r\n   * @deprecated\r\n   */\r\n\r\n\r\n  ECharts.prototype.setTheme = function () {\r\n    deprecateLog('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\r\n  }; // We don't want developers to use getModel directly.\r\n\r\n\r\n  ECharts.prototype.getModel = function () {\r\n    return this._model;\r\n  };\r\n\r\n  ECharts.prototype.getOption = function () {\r\n    return this._model && this._model.getOption();\r\n  };\r\n\r\n  ECharts.prototype.getWidth = function () {\r\n    return this._zr.getWidth();\r\n  };\r\n\r\n  ECharts.prototype.getHeight = function () {\r\n    return this._zr.getHeight();\r\n  };\r\n\r\n  ECharts.prototype.getDevicePixelRatio = function () {\r\n    return this._zr.painter.dpr\r\n    /* eslint-disable-next-line */\r\n    || env.hasGlobalWindow && window.devicePixelRatio || 1;\r\n  };\r\n  /**\r\n   * Get canvas which has all thing rendered\r\n   * @deprecated Use renderToCanvas instead.\r\n   */\r\n\r\n\r\n  ECharts.prototype.getRenderedCanvas = function (opts) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      deprecateReplaceLog('getRenderedCanvas', 'renderToCanvas');\r\n    }\r\n\r\n    return this.renderToCanvas(opts);\r\n  };\r\n\r\n  ECharts.prototype.renderToCanvas = function (opts) {\r\n    opts = opts || {};\r\n    var painter = this._zr.painter;\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (painter.type !== 'canvas') {\r\n        throw new Error('renderToCanvas can only be used in the canvas renderer.');\r\n      }\r\n    }\r\n\r\n    return painter.getRenderedCanvas({\r\n      backgroundColor: opts.backgroundColor || this._model.get('backgroundColor'),\r\n      pixelRatio: opts.pixelRatio || this.getDevicePixelRatio()\r\n    });\r\n  };\r\n\r\n  ECharts.prototype.renderToSVGString = function (opts) {\r\n    opts = opts || {};\r\n    var painter = this._zr.painter;\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (painter.type !== 'svg') {\r\n        throw new Error('renderToSVGString can only be used in the svg renderer.');\r\n      }\r\n    }\r\n\r\n    return painter.renderToString({\r\n      useViewBox: opts.useViewBox\r\n    });\r\n  };\r\n  /**\r\n   * Get svg data url\r\n   */\r\n\r\n\r\n  ECharts.prototype.getSvgDataURL = function () {\r\n    if (!env.svgSupported) {\r\n      return;\r\n    }\r\n\r\n    var zr = this._zr;\r\n    var list = zr.storage.getDisplayList(); // Stop animations\r\n\r\n    each(list, function (el) {\r\n      el.stopAnimation(null, true);\r\n    });\r\n    return zr.painter.toDataURL();\r\n  };\r\n\r\n  ECharts.prototype.getDataURL = function (opts) {\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    opts = opts || {};\r\n    var excludeComponents = opts.excludeComponents;\r\n    var ecModel = this._model;\r\n    var excludesComponentViews = [];\r\n    var self = this;\r\n    each(excludeComponents, function (componentType) {\r\n      ecModel.eachComponent({\r\n        mainType: componentType\r\n      }, function (component) {\r\n        var view = self._componentsMap[component.__viewId];\r\n\r\n        if (!view.group.ignore) {\r\n          excludesComponentViews.push(view);\r\n          view.group.ignore = true;\r\n        }\r\n      });\r\n    });\r\n    var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.renderToCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\r\n    each(excludesComponentViews, function (view) {\r\n      view.group.ignore = false;\r\n    });\r\n    return url;\r\n  };\r\n\r\n  ECharts.prototype.getConnectedDataURL = function (opts) {\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    var isSvg = opts.type === 'svg';\r\n    var groupId = this.group;\r\n    var mathMin = Math.min;\r\n    var mathMax = Math.max;\r\n    var MAX_NUMBER = Infinity;\r\n\r\n    if (connectedGroups[groupId]) {\r\n      var left_1 = MAX_NUMBER;\r\n      var top_1 = MAX_NUMBER;\r\n      var right_1 = -MAX_NUMBER;\r\n      var bottom_1 = -MAX_NUMBER;\r\n      var canvasList_1 = [];\r\n      var dpr_1 = opts && opts.pixelRatio || this.getDevicePixelRatio();\r\n      each(instances, function (chart, id) {\r\n        if (chart.group === groupId) {\r\n          var canvas = isSvg ? chart.getZr().painter.getSvgDom().innerHTML : chart.renderToCanvas(clone(opts));\r\n          var boundingRect = chart.getDom().getBoundingClientRect();\r\n          left_1 = mathMin(boundingRect.left, left_1);\r\n          top_1 = mathMin(boundingRect.top, top_1);\r\n          right_1 = mathMax(boundingRect.right, right_1);\r\n          bottom_1 = mathMax(boundingRect.bottom, bottom_1);\r\n          canvasList_1.push({\r\n            dom: canvas,\r\n            left: boundingRect.left,\r\n            top: boundingRect.top\r\n          });\r\n        }\r\n      });\r\n      left_1 *= dpr_1;\r\n      top_1 *= dpr_1;\r\n      right_1 *= dpr_1;\r\n      bottom_1 *= dpr_1;\r\n      var width = right_1 - left_1;\r\n      var height = bottom_1 - top_1;\r\n      var targetCanvas = platformApi.createCanvas();\r\n      var zr_1 = zrender.init(targetCanvas, {\r\n        renderer: isSvg ? 'svg' : 'canvas'\r\n      });\r\n      zr_1.resize({\r\n        width: width,\r\n        height: height\r\n      });\r\n\r\n      if (isSvg) {\r\n        var content_1 = '';\r\n        each(canvasList_1, function (item) {\r\n          var x = item.left - left_1;\r\n          var y = item.top - top_1;\r\n          content_1 += '<g transform=\"translate(' + x + ',' + y + ')\">' + item.dom + '</g>';\r\n        });\r\n        zr_1.painter.getSvgRoot().innerHTML = content_1;\r\n\r\n        if (opts.connectedBackgroundColor) {\r\n          zr_1.painter.setBackgroundColor(opts.connectedBackgroundColor);\r\n        }\r\n\r\n        zr_1.refreshImmediately();\r\n        return zr_1.painter.toDataURL();\r\n      } else {\r\n        // Background between the charts\r\n        if (opts.connectedBackgroundColor) {\r\n          zr_1.add(new graphic.Rect({\r\n            shape: {\r\n              x: 0,\r\n              y: 0,\r\n              width: width,\r\n              height: height\r\n            },\r\n            style: {\r\n              fill: opts.connectedBackgroundColor\r\n            }\r\n          }));\r\n        }\r\n\r\n        each(canvasList_1, function (item) {\r\n          var img = new graphic.Image({\r\n            style: {\r\n              x: item.left * dpr_1 - left_1,\r\n              y: item.top * dpr_1 - top_1,\r\n              image: item.dom\r\n            }\r\n          });\r\n          zr_1.add(img);\r\n        });\r\n        zr_1.refreshImmediately();\r\n        return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\r\n      }\r\n    } else {\r\n      return this.getDataURL(opts);\r\n    }\r\n  };\r\n\r\n  ECharts.prototype.convertToPixel = function (finder, value) {\r\n    return doConvertPixel(this, 'convertToPixel', finder, value);\r\n  };\r\n\r\n  ECharts.prototype.convertFromPixel = function (finder, value) {\r\n    return doConvertPixel(this, 'convertFromPixel', finder, value);\r\n  };\r\n  /**\r\n   * Is the specified coordinate systems or components contain the given pixel point.\r\n   * @param {Array|number} value\r\n   * @return {boolean} result\r\n   */\r\n\r\n\r\n  ECharts.prototype.containPixel = function (finder, value) {\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    var ecModel = this._model;\r\n    var result;\r\n    var findResult = modelUtil.parseFinder(ecModel, finder);\r\n    each(findResult, function (models, key) {\r\n      key.indexOf('Models') >= 0 && each(models, function (model) {\r\n        var coordSys = model.coordinateSystem;\r\n\r\n        if (coordSys && coordSys.containPoint) {\r\n          result = result || !!coordSys.containPoint(value);\r\n        } else if (key === 'seriesModels') {\r\n          var view = this._chartsMap[model.__viewId];\r\n\r\n          if (view && view.containPoint) {\r\n            result = result || view.containPoint(value, model);\r\n          } else {\r\n            if (process.env.NODE_ENV !== 'production') {\r\n              warn(key + ': ' + (view ? 'The found component do not support containPoint.' : 'No view mapping to the found component.'));\r\n            }\r\n          }\r\n        } else {\r\n          if (process.env.NODE_ENV !== 'production') {\r\n            warn(key + ': containPoint is not supported');\r\n          }\r\n        }\r\n      }, this);\r\n    }, this);\r\n    return !!result;\r\n  };\r\n  /**\r\n   * Get visual from series or data.\r\n   * @param finder\r\n   *        If string, e.g., 'series', means {seriesIndex: 0}.\r\n   *        If Object, could contain some of these properties below:\r\n   *        {\r\n   *            seriesIndex / seriesId / seriesName,\r\n   *            dataIndex / dataIndexInside\r\n   *        }\r\n   *        If dataIndex is not specified, series visual will be fetched,\r\n   *        but not data item visual.\r\n   *        If all of seriesIndex, seriesId, seriesName are not specified,\r\n   *        visual will be fetched from first series.\r\n   * @param visualType 'color', 'symbol', 'symbolSize'\r\n   */\r\n\r\n\r\n  ECharts.prototype.getVisual = function (finder, visualType) {\r\n    var ecModel = this._model;\r\n    var parsedFinder = modelUtil.parseFinder(ecModel, finder, {\r\n      defaultMainType: 'series'\r\n    });\r\n    var seriesModel = parsedFinder.seriesModel;\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (!seriesModel) {\r\n        warn('There is no specified series model');\r\n      }\r\n    }\r\n\r\n    var data = seriesModel.getData();\r\n    var dataIndexInside = parsedFinder.hasOwnProperty('dataIndexInside') ? parsedFinder.dataIndexInside : parsedFinder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(parsedFinder.dataIndex) : null;\r\n    return dataIndexInside != null ? getItemVisualFromData(data, dataIndexInside, visualType) : getVisualFromData(data, visualType);\r\n  };\r\n  /**\r\n   * Get view of corresponding component model\r\n   */\r\n\r\n\r\n  ECharts.prototype.getViewOfComponentModel = function (componentModel) {\r\n    return this._componentsMap[componentModel.__viewId];\r\n  };\r\n  /**\r\n   * Get view of corresponding series model\r\n   */\r\n\r\n\r\n  ECharts.prototype.getViewOfSeriesModel = function (seriesModel) {\r\n    return this._chartsMap[seriesModel.__viewId];\r\n  };\r\n\r\n  ECharts.prototype._initEvents = function () {\r\n    var _this = this;\r\n\r\n    each(MOUSE_EVENT_NAMES, function (eveName) {\r\n      var handler = function (e) {\r\n        var ecModel = _this.getModel();\r\n\r\n        var el = e.target;\r\n        var params;\r\n        var isGlobalOut = eveName === 'globalout'; // no e.target when 'globalout'.\r\n\r\n        if (isGlobalOut) {\r\n          params = {};\r\n        } else {\r\n          el && findEventDispatcher(el, function (parent) {\r\n            var ecData = getECData(parent);\r\n\r\n            if (ecData && ecData.dataIndex != null) {\r\n              var dataModel = ecData.dataModel || ecModel.getSeriesByIndex(ecData.seriesIndex);\r\n              params = dataModel && dataModel.getDataParams(ecData.dataIndex, ecData.dataType) || {};\r\n              return true;\r\n            } // If element has custom eventData of components\r\n            else if (ecData.eventData) {\r\n                params = extend({}, ecData.eventData);\r\n                return true;\r\n              }\r\n          }, true);\r\n        } // Contract: if params prepared in mouse event,\r\n        // these properties must be specified:\r\n        // {\r\n        //    componentType: string (component main type)\r\n        //    componentIndex: number\r\n        // }\r\n        // Otherwise event query can not work.\r\n\r\n\r\n        if (params) {\r\n          var componentType = params.componentType;\r\n          var componentIndex = params.componentIndex; // Special handling for historic reason: when trigger by\r\n          // markLine/markPoint/markArea, the componentType is\r\n          // 'markLine'/'markPoint'/'markArea', but we should better\r\n          // enable them to be queried by seriesIndex, since their\r\n          // option is set in each series.\r\n\r\n          if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\r\n            componentType = 'series';\r\n            componentIndex = params.seriesIndex;\r\n          }\r\n\r\n          var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\r\n          var view = model && _this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\r\n\r\n          if (process.env.NODE_ENV !== 'production') {\r\n            // `event.componentType` and `event[componentTpype + 'Index']` must not\r\n            // be missed, otherwise there is no way to distinguish source component.\r\n            // See `dataFormat.getDataParams`.\r\n            if (!isGlobalOut && !(model && view)) {\r\n              warn('model or view can not be found by params');\r\n            }\r\n          }\r\n\r\n          params.event = e;\r\n          params.type = eveName;\r\n          _this._$eventProcessor.eventInfo = {\r\n            targetEl: el,\r\n            packedEvent: params,\r\n            model: model,\r\n            view: view\r\n          };\r\n\r\n          _this.trigger(eveName, params);\r\n        }\r\n      }; // Consider that some component (like tooltip, brush, ...)\r\n      // register zr event handler, but user event handler might\r\n      // do anything, such as call `setOption` or `dispatchAction`,\r\n      // which probably update any of the content and probably\r\n      // cause problem if it is called previous other inner handlers.\r\n\r\n\r\n      handler.zrEventfulCallAtLast = true;\r\n\r\n      _this._zr.on(eveName, handler, _this);\r\n    });\r\n    each(eventActionMap, function (actionType, eventType) {\r\n      _this._messageCenter.on(eventType, function (event) {\r\n        this.trigger(eventType, event);\r\n      }, _this);\r\n    }); // Extra events\r\n    // TODO register?\r\n\r\n    each(['selectchanged'], function (eventType) {\r\n      _this._messageCenter.on(eventType, function (event) {\r\n        this.trigger(eventType, event);\r\n      }, _this);\r\n    });\r\n    handleLegacySelectEvents(this._messageCenter, this, this._api);\r\n  };\r\n\r\n  ECharts.prototype.isDisposed = function () {\r\n    return this._disposed;\r\n  };\r\n\r\n  ECharts.prototype.clear = function () {\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    this.setOption({\r\n      series: []\r\n    }, true);\r\n  };\r\n\r\n  ECharts.prototype.dispose = function () {\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    this._disposed = true;\r\n    var dom = this.getDom();\r\n\r\n    if (dom) {\r\n      modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\r\n    }\r\n\r\n    var chart = this;\r\n    var api = chart._api;\r\n    var ecModel = chart._model;\r\n    each(chart._componentsViews, function (component) {\r\n      component.dispose(ecModel, api);\r\n    });\r\n    each(chart._chartsViews, function (chart) {\r\n      chart.dispose(ecModel, api);\r\n    }); // Dispose after all views disposed\r\n\r\n    chart._zr.dispose(); // Set properties to null.\r\n    // To reduce the memory cost in case the top code still holds this instance unexpectedly.\r\n\r\n\r\n    chart._dom = chart._model = chart._chartsMap = chart._componentsMap = chart._chartsViews = chart._componentsViews = chart._scheduler = chart._api = chart._zr = chart._throttledZrFlush = chart._theme = chart._coordSysMgr = chart._messageCenter = null;\r\n    delete instances[chart.id];\r\n  };\r\n  /**\r\n   * Resize the chart\r\n   */\r\n\r\n\r\n  ECharts.prototype.resize = function (opts) {\r\n    if (this[IN_MAIN_PROCESS_KEY]) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        error('`resize` should not be called during main process.');\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    this._zr.resize(opts);\r\n\r\n    var ecModel = this._model; // Resize loading effect\r\n\r\n    this._loadingFX && this._loadingFX.resize();\r\n\r\n    if (!ecModel) {\r\n      return;\r\n    }\r\n\r\n    var needPrepare = ecModel.resetOption('media');\r\n    var silent = opts && opts.silent; // There is some real cases that:\r\n    // chart.setOption(option, { lazyUpdate: true });\r\n    // chart.resize();\r\n\r\n    if (this[PENDING_UPDATE]) {\r\n      if (silent == null) {\r\n        silent = this[PENDING_UPDATE].silent;\r\n      }\r\n\r\n      needPrepare = true;\r\n      this[PENDING_UPDATE] = null;\r\n    }\r\n\r\n    this[IN_MAIN_PROCESS_KEY] = true;\r\n\r\n    try {\r\n      needPrepare && prepare(this);\r\n      updateMethods.update.call(this, {\r\n        type: 'resize',\r\n        animation: extend({\r\n          // Disable animation\r\n          duration: 0\r\n        }, opts && opts.animation)\r\n      });\r\n    } catch (e) {\r\n      this[IN_MAIN_PROCESS_KEY] = false;\r\n      throw e;\r\n    }\r\n\r\n    this[IN_MAIN_PROCESS_KEY] = false;\r\n    flushPendingActions.call(this, silent);\r\n    triggerUpdatedEvent.call(this, silent);\r\n  };\r\n\r\n  ECharts.prototype.showLoading = function (name, cfg) {\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    if (isObject(name)) {\r\n      cfg = name;\r\n      name = '';\r\n    }\r\n\r\n    name = name || 'default';\r\n    this.hideLoading();\r\n\r\n    if (!loadingEffects[name]) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        warn('Loading effects ' + name + ' not exists.');\r\n      }\r\n\r\n      return;\r\n    }\r\n\r\n    var el = loadingEffects[name](this._api, cfg);\r\n    var zr = this._zr;\r\n    this._loadingFX = el;\r\n    zr.add(el);\r\n  };\r\n  /**\r\n   * Hide loading effect\r\n   */\r\n\r\n\r\n  ECharts.prototype.hideLoading = function () {\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    this._loadingFX && this._zr.remove(this._loadingFX);\r\n    this._loadingFX = null;\r\n  };\r\n\r\n  ECharts.prototype.makeActionFromEvent = function (eventObj) {\r\n    var payload = extend({}, eventObj);\r\n    payload.type = eventActionMap[eventObj.type];\r\n    return payload;\r\n  };\r\n  /**\r\n   * @param opt If pass boolean, means opt.silent\r\n   * @param opt.silent Default `false`. Whether trigger events.\r\n   * @param opt.flush Default `undefined`.\r\n   *        true: Flush immediately, and then pixel in canvas can be fetched\r\n   *            immediately. Caution: it might affect performance.\r\n   *        false: Not flush.\r\n   *        undefined: Auto decide whether perform flush.\r\n   */\r\n\r\n\r\n  ECharts.prototype.dispatchAction = function (payload, opt) {\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    if (!isObject(opt)) {\r\n      opt = {\r\n        silent: !!opt\r\n      };\r\n    }\r\n\r\n    if (!actions[payload.type]) {\r\n      return;\r\n    } // Avoid dispatch action before setOption. Especially in `connect`.\r\n\r\n\r\n    if (!this._model) {\r\n      return;\r\n    } // May dispatchAction in rendering procedure\r\n\r\n\r\n    if (this[IN_MAIN_PROCESS_KEY]) {\r\n      this._pendingActions.push(payload);\r\n\r\n      return;\r\n    }\r\n\r\n    var silent = opt.silent;\r\n    doDispatchAction.call(this, payload, silent);\r\n    var flush = opt.flush;\r\n\r\n    if (flush) {\r\n      this._zr.flush();\r\n    } else if (flush !== false && env.browser.weChat) {\r\n      // In WeChat embedded browser, `requestAnimationFrame` and `setInterval`\r\n      // hang when sliding page (on touch event), which cause that zr does not\r\n      // refresh until user interaction finished, which is not expected.\r\n      // But `dispatchAction` may be called too frequently when pan on touch\r\n      // screen, which impacts performance if do not throttle them.\r\n      this._throttledZrFlush();\r\n    }\r\n\r\n    flushPendingActions.call(this, silent);\r\n    triggerUpdatedEvent.call(this, silent);\r\n  };\r\n\r\n  ECharts.prototype.updateLabelLayout = function () {\r\n    lifecycle.trigger('series:layoutlabels', this._model, this._api, {\r\n      // Not adding series labels.\r\n      // TODO\r\n      updatedSeries: []\r\n    });\r\n  };\r\n\r\n  ECharts.prototype.appendData = function (params) {\r\n    if (this._disposed) {\r\n      disposedWarning(this.id);\r\n      return;\r\n    }\r\n\r\n    var seriesIndex = params.seriesIndex;\r\n    var ecModel = this.getModel();\r\n    var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      assert(params.data && seriesModel);\r\n    }\r\n\r\n    seriesModel.appendData(params); // Note: `appendData` does not support that update extent of coordinate\r\n    // system, util some scenario require that. In the expected usage of\r\n    // `appendData`, the initial extent of coordinate system should better\r\n    // be fixed by axis `min`/`max` setting or initial data, otherwise if\r\n    // the extent changed while `appendData`, the location of the painted\r\n    // graphic elements have to be changed, which make the usage of\r\n    // `appendData` meaningless.\r\n\r\n    this._scheduler.unfinished = true;\r\n    this.getZr().wakeUp();\r\n  }; // A work around for no `internal` modifier in ts yet but\r\n  // need to strictly hide private methods to JS users.\r\n\r\n\r\n  ECharts.internalField = function () {\r\n    prepare = function (ecIns) {\r\n      var scheduler = ecIns._scheduler;\r\n      scheduler.restorePipelines(ecIns._model);\r\n      scheduler.prepareStageTasks();\r\n      prepareView(ecIns, true);\r\n      prepareView(ecIns, false);\r\n      scheduler.plan();\r\n    };\r\n    /**\r\n     * Prepare view instances of charts and components\r\n     */\r\n\r\n\r\n    prepareView = function (ecIns, isComponent) {\r\n      var ecModel = ecIns._model;\r\n      var scheduler = ecIns._scheduler;\r\n      var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\r\n      var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\r\n      var zr = ecIns._zr;\r\n      var api = ecIns._api;\r\n\r\n      for (var i = 0; i < viewList.length; i++) {\r\n        viewList[i].__alive = false;\r\n      }\r\n\r\n      isComponent ? ecModel.eachComponent(function (componentType, model) {\r\n        componentType !== 'series' && doPrepare(model);\r\n      }) : ecModel.eachSeries(doPrepare);\r\n\r\n      function doPrepare(model) {\r\n        // By default view will be reused if possible for the case that `setOption` with \"notMerge\"\r\n        // mode and need to enable transition animation. (Usually, when they have the same id, or\r\n        // especially no id but have the same type & name & index. See the `model.id` generation\r\n        // rule in `makeIdAndName` and `viewId` generation rule here).\r\n        // But in `replaceMerge` mode, this feature should be able to disabled when it is clear that\r\n        // the new model has nothing to do with the old model.\r\n        var requireNewView = model.__requireNewView; // This command should not work twice.\r\n\r\n        model.__requireNewView = false; // Consider: id same and type changed.\r\n\r\n        var viewId = '_ec_' + model.id + '_' + model.type;\r\n        var view = !requireNewView && viewMap[viewId];\r\n\r\n        if (!view) {\r\n          var classType = parseClassType(model.type);\r\n          var Clazz = isComponent ? ComponentView.getClass(classType.main, classType.sub) : // FIXME:TS\r\n          // (ChartView as ChartViewConstructor).getClass('series', classType.sub)\r\n          // For backward compat, still support a chart type declared as only subType\r\n          // like \"liquidfill\", but recommend \"series.liquidfill\"\r\n          // But need a base class to make a type series.\r\n          ChartView.getClass(classType.sub);\r\n\r\n          if (process.env.NODE_ENV !== 'production') {\r\n            assert(Clazz, classType.sub + ' does not exist.');\r\n          }\r\n\r\n          view = new Clazz();\r\n          view.init(ecModel, api);\r\n          viewMap[viewId] = view;\r\n          viewList.push(view);\r\n          zr.add(view.group);\r\n        }\r\n\r\n        model.__viewId = view.__id = viewId;\r\n        view.__alive = true;\r\n        view.__model = model;\r\n        view.group.__ecComponentInfo = {\r\n          mainType: model.mainType,\r\n          index: model.componentIndex\r\n        };\r\n        !isComponent && scheduler.prepareView(view, model, ecModel, api);\r\n      }\r\n\r\n      for (var i = 0; i < viewList.length;) {\r\n        var view = viewList[i];\r\n\r\n        if (!view.__alive) {\r\n          !isComponent && view.renderTask.dispose();\r\n          zr.remove(view.group);\r\n          view.dispose(ecModel, api);\r\n          viewList.splice(i, 1);\r\n\r\n          if (viewMap[view.__id] === view) {\r\n            delete viewMap[view.__id];\r\n          }\r\n\r\n          view.__id = view.group.__ecComponentInfo = null;\r\n        } else {\r\n          i++;\r\n        }\r\n      }\r\n    };\r\n\r\n    updateDirectly = function (ecIns, method, payload, mainType, subType) {\r\n      var ecModel = ecIns._model;\r\n      ecModel.setUpdatePayload(payload); // broadcast\r\n\r\n      if (!mainType) {\r\n        // FIXME\r\n        // Chart will not be update directly here, except set dirty.\r\n        // But there is no such scenario now.\r\n        each([].concat(ecIns._componentsViews).concat(ecIns._chartsViews), callView);\r\n        return;\r\n      }\r\n\r\n      var query = {};\r\n      query[mainType + 'Id'] = payload[mainType + 'Id'];\r\n      query[mainType + 'Index'] = payload[mainType + 'Index'];\r\n      query[mainType + 'Name'] = payload[mainType + 'Name'];\r\n      var condition = {\r\n        mainType: mainType,\r\n        query: query\r\n      };\r\n      subType && (condition.subType = subType); // subType may be '' by parseClassType;\r\n\r\n      var excludeSeriesId = payload.excludeSeriesId;\r\n      var excludeSeriesIdMap;\r\n\r\n      if (excludeSeriesId != null) {\r\n        excludeSeriesIdMap = createHashMap();\r\n        each(modelUtil.normalizeToArray(excludeSeriesId), function (id) {\r\n          var modelId = modelUtil.convertOptionIdName(id, null);\r\n\r\n          if (modelId != null) {\r\n            excludeSeriesIdMap.set(modelId, true);\r\n          }\r\n        });\r\n      } // If dispatchAction before setOption, do nothing.\r\n\r\n\r\n      ecModel && ecModel.eachComponent(condition, function (model) {\r\n        var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) != null;\r\n\r\n        if (isExcluded) {\r\n          return;\r\n        }\r\n\r\n        ;\r\n\r\n        if (isHighDownPayload(payload)) {\r\n          if (model instanceof SeriesModel) {\r\n            if (payload.type === HIGHLIGHT_ACTION_TYPE && !payload.notBlur && !model.get(['emphasis', 'disabled'])) {\r\n              blurSeriesFromHighlightPayload(model, payload, ecIns._api);\r\n            }\r\n          } else {\r\n            var _a = findComponentHighDownDispatchers(model.mainType, model.componentIndex, payload.name, ecIns._api),\r\n                focusSelf = _a.focusSelf,\r\n                dispatchers = _a.dispatchers;\r\n\r\n            if (payload.type === HIGHLIGHT_ACTION_TYPE && focusSelf && !payload.notBlur) {\r\n              blurComponent(model.mainType, model.componentIndex, ecIns._api);\r\n            } // PENDING:\r\n            // Whether to put this \"enter emphasis\" code in `ComponentView`,\r\n            // which will be the same as `ChartView` but might be not necessary\r\n            // and will be far from this logic.\r\n\r\n\r\n            if (dispatchers) {\r\n              each(dispatchers, function (dispatcher) {\r\n                payload.type === HIGHLIGHT_ACTION_TYPE ? enterEmphasis(dispatcher) : leaveEmphasis(dispatcher);\r\n              });\r\n            }\r\n          }\r\n        } else if (isSelectChangePayload(payload)) {\r\n          // TODO geo\r\n          if (model instanceof SeriesModel) {\r\n            toggleSelectionFromPayload(model, payload, ecIns._api);\r\n            updateSeriesElementSelection(model);\r\n            markStatusToUpdate(ecIns);\r\n          }\r\n        }\r\n      }, ecIns);\r\n      ecModel && ecModel.eachComponent(condition, function (model) {\r\n        var isExcluded = excludeSeriesIdMap && excludeSeriesIdMap.get(model.id) != null;\r\n\r\n        if (isExcluded) {\r\n          return;\r\n        }\r\n\r\n        ;\r\n        callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\r\n      }, ecIns);\r\n\r\n      function callView(view) {\r\n        view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\r\n      }\r\n    };\r\n\r\n    updateMethods = {\r\n      prepareAndUpdate: function (payload) {\r\n        prepare(this);\r\n        updateMethods.update.call(this, payload, {\r\n          // Needs to mark option changed if newOption is given.\r\n          // It's from MagicType.\r\n          // TODO If use a separate flag optionChanged in payload?\r\n          optionChanged: payload.newOption != null\r\n        });\r\n      },\r\n      update: function (payload, updateParams) {\r\n        var ecModel = this._model;\r\n        var api = this._api;\r\n        var zr = this._zr;\r\n        var coordSysMgr = this._coordSysMgr;\r\n        var scheduler = this._scheduler; // update before setOption\r\n\r\n        if (!ecModel) {\r\n          return;\r\n        }\r\n\r\n        ecModel.setUpdatePayload(payload);\r\n        scheduler.restoreData(ecModel, payload);\r\n        scheduler.performSeriesTasks(ecModel); // TODO\r\n        // Save total ecModel here for undo/redo (after restoring data and before processing data).\r\n        // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\r\n        // Create new coordinate system each update\r\n        // In LineView may save the old coordinate system and use it to get the original point.\r\n\r\n        coordSysMgr.create(ecModel, api);\r\n        scheduler.performDataProcessorTasks(ecModel, payload); // Current stream render is not supported in data process. So we can update\r\n        // stream modes after data processing, where the filtered data is used to\r\n        // determine whether to use progressive rendering.\r\n\r\n        updateStreamModes(this, ecModel); // We update stream modes before coordinate system updated, then the modes info\r\n        // can be fetched when coord sys updating (consider the barGrid extent fix). But\r\n        // the drawback is the full coord info can not be fetched. Fortunately this full\r\n        // coord is not required in stream mode updater currently.\r\n\r\n        coordSysMgr.update(ecModel, api);\r\n        clearColorPalette(ecModel);\r\n        scheduler.performVisualTasks(ecModel, payload);\r\n        render(this, ecModel, api, payload, updateParams); // Set background\r\n\r\n        var backgroundColor = ecModel.get('backgroundColor') || 'transparent';\r\n        var darkMode = ecModel.get('darkMode');\r\n        zr.setBackgroundColor(backgroundColor); // Force set dark mode.\r\n\r\n        if (darkMode != null && darkMode !== 'auto') {\r\n          zr.setDarkMode(darkMode);\r\n        }\r\n\r\n        lifecycle.trigger('afterupdate', ecModel, api);\r\n      },\r\n      updateTransform: function (payload) {\r\n        var _this = this;\r\n\r\n        var ecModel = this._model;\r\n        var api = this._api; // update before setOption\r\n\r\n        if (!ecModel) {\r\n          return;\r\n        }\r\n\r\n        ecModel.setUpdatePayload(payload); // ChartView.markUpdateMethod(payload, 'updateTransform');\r\n\r\n        var componentDirtyList = [];\r\n        ecModel.eachComponent(function (componentType, componentModel) {\r\n          if (componentType === 'series') {\r\n            return;\r\n          }\r\n\r\n          var componentView = _this.getViewOfComponentModel(componentModel);\r\n\r\n          if (componentView && componentView.__alive) {\r\n            if (componentView.updateTransform) {\r\n              var result = componentView.updateTransform(componentModel, ecModel, api, payload);\r\n              result && result.update && componentDirtyList.push(componentView);\r\n            } else {\r\n              componentDirtyList.push(componentView);\r\n            }\r\n          }\r\n        });\r\n        var seriesDirtyMap = createHashMap();\r\n        ecModel.eachSeries(function (seriesModel) {\r\n          var chartView = _this._chartsMap[seriesModel.__viewId];\r\n\r\n          if (chartView.updateTransform) {\r\n            var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\r\n            result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\r\n          } else {\r\n            seriesDirtyMap.set(seriesModel.uid, 1);\r\n          }\r\n        });\r\n        clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\r\n        // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\r\n\r\n        this._scheduler.performVisualTasks(ecModel, payload, {\r\n          setDirty: true,\r\n          dirtyMap: seriesDirtyMap\r\n        }); // Currently, not call render of components. Geo render cost a lot.\r\n        // renderComponents(ecIns, ecModel, api, payload, componentDirtyList);\r\n\r\n\r\n        renderSeries(this, ecModel, api, payload, {}, seriesDirtyMap);\r\n        lifecycle.trigger('afterupdate', ecModel, api);\r\n      },\r\n      updateView: function (payload) {\r\n        var ecModel = this._model; // update before setOption\r\n\r\n        if (!ecModel) {\r\n          return;\r\n        }\r\n\r\n        ecModel.setUpdatePayload(payload);\r\n        ChartView.markUpdateMethod(payload, 'updateView');\r\n        clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\r\n\r\n        this._scheduler.performVisualTasks(ecModel, payload, {\r\n          setDirty: true\r\n        });\r\n\r\n        render(this, ecModel, this._api, payload, {});\r\n        lifecycle.trigger('afterupdate', ecModel, this._api);\r\n      },\r\n      updateVisual: function (payload) {\r\n        // updateMethods.update.call(this, payload);\r\n        var _this = this;\r\n\r\n        var ecModel = this._model; // update before setOption\r\n\r\n        if (!ecModel) {\r\n          return;\r\n        }\r\n\r\n        ecModel.setUpdatePayload(payload); // clear all visual\r\n\r\n        ecModel.eachSeries(function (seriesModel) {\r\n          seriesModel.getData().clearAllVisual();\r\n        }); // Perform visual\r\n\r\n        ChartView.markUpdateMethod(payload, 'updateVisual');\r\n        clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\r\n\r\n        this._scheduler.performVisualTasks(ecModel, payload, {\r\n          visualType: 'visual',\r\n          setDirty: true\r\n        });\r\n\r\n        ecModel.eachComponent(function (componentType, componentModel) {\r\n          if (componentType !== 'series') {\r\n            var componentView = _this.getViewOfComponentModel(componentModel);\r\n\r\n            componentView && componentView.__alive && componentView.updateVisual(componentModel, ecModel, _this._api, payload);\r\n          }\r\n        });\r\n        ecModel.eachSeries(function (seriesModel) {\r\n          var chartView = _this._chartsMap[seriesModel.__viewId];\r\n          chartView.updateVisual(seriesModel, ecModel, _this._api, payload);\r\n        });\r\n        lifecycle.trigger('afterupdate', ecModel, this._api);\r\n      },\r\n      updateLayout: function (payload) {\r\n        updateMethods.update.call(this, payload);\r\n      }\r\n    };\r\n\r\n    doConvertPixel = function (ecIns, methodName, finder, value) {\r\n      if (ecIns._disposed) {\r\n        disposedWarning(ecIns.id);\r\n        return;\r\n      }\r\n\r\n      var ecModel = ecIns._model;\r\n\r\n      var coordSysList = ecIns._coordSysMgr.getCoordinateSystems();\r\n\r\n      var result;\r\n      var parsedFinder = modelUtil.parseFinder(ecModel, finder);\r\n\r\n      for (var i = 0; i < coordSysList.length; i++) {\r\n        var coordSys = coordSysList[i];\r\n\r\n        if (coordSys[methodName] && (result = coordSys[methodName](ecModel, parsedFinder, value)) != null) {\r\n          return result;\r\n        }\r\n      }\r\n\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        warn('No coordinate system that supports ' + methodName + ' found by the given finder.');\r\n      }\r\n    };\r\n\r\n    updateStreamModes = function (ecIns, ecModel) {\r\n      var chartsMap = ecIns._chartsMap;\r\n      var scheduler = ecIns._scheduler;\r\n      ecModel.eachSeries(function (seriesModel) {\r\n        scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\r\n      });\r\n    };\r\n\r\n    doDispatchAction = function (payload, silent) {\r\n      var _this = this;\r\n\r\n      var ecModel = this.getModel();\r\n      var payloadType = payload.type;\r\n      var escapeConnect = payload.escapeConnect;\r\n      var actionWrap = actions[payloadType];\r\n      var actionInfo = actionWrap.actionInfo;\r\n      var cptTypeTmp = (actionInfo.update || 'update').split(':');\r\n      var updateMethod = cptTypeTmp.pop();\r\n      var cptType = cptTypeTmp[0] != null && parseClassType(cptTypeTmp[0]);\r\n      this[IN_MAIN_PROCESS_KEY] = true;\r\n      var payloads = [payload];\r\n      var batched = false; // Batch action\r\n\r\n      if (payload.batch) {\r\n        batched = true;\r\n        payloads = map(payload.batch, function (item) {\r\n          item = defaults(extend({}, item), payload);\r\n          item.batch = null;\r\n          return item;\r\n        });\r\n      }\r\n\r\n      var eventObjBatch = [];\r\n      var eventObj;\r\n      var isSelectChange = isSelectChangePayload(payload);\r\n      var isHighDown = isHighDownPayload(payload); // Only leave blur once if there are multiple batches.\r\n\r\n      if (isHighDown) {\r\n        allLeaveBlur(this._api);\r\n      }\r\n\r\n      each(payloads, function (batchItem) {\r\n        // Action can specify the event by return it.\r\n        eventObj = actionWrap.action(batchItem, _this._model, _this._api); // Emit event outside\r\n\r\n        eventObj = eventObj || extend({}, batchItem); // Convert type to eventType\r\n\r\n        eventObj.type = actionInfo.event || eventObj.type;\r\n        eventObjBatch.push(eventObj); // light update does not perform data process, layout and visual.\r\n\r\n        if (isHighDown) {\r\n          var _a = modelUtil.preParseFinder(payload),\r\n              queryOptionMap = _a.queryOptionMap,\r\n              mainTypeSpecified = _a.mainTypeSpecified;\r\n\r\n          var componentMainType = mainTypeSpecified ? queryOptionMap.keys()[0] : 'series';\r\n          updateDirectly(_this, updateMethod, batchItem, componentMainType);\r\n          markStatusToUpdate(_this);\r\n        } else if (isSelectChange) {\r\n          // At present `dispatchAction({ type: 'select', ... })` is not supported on components.\r\n          // geo still use 'geoselect'.\r\n          updateDirectly(_this, updateMethod, batchItem, 'series');\r\n          markStatusToUpdate(_this);\r\n        } else if (cptType) {\r\n          updateDirectly(_this, updateMethod, batchItem, cptType.main, cptType.sub);\r\n        }\r\n      });\r\n\r\n      if (updateMethod !== 'none' && !isHighDown && !isSelectChange && !cptType) {\r\n        try {\r\n          // Still dirty\r\n          if (this[PENDING_UPDATE]) {\r\n            prepare(this);\r\n            updateMethods.update.call(this, payload);\r\n            this[PENDING_UPDATE] = null;\r\n          } else {\r\n            updateMethods[updateMethod].call(this, payload);\r\n          }\r\n        } catch (e) {\r\n          this[IN_MAIN_PROCESS_KEY] = false;\r\n          throw e;\r\n        }\r\n      } // Follow the rule of action batch\r\n\r\n\r\n      if (batched) {\r\n        eventObj = {\r\n          type: actionInfo.event || payloadType,\r\n          escapeConnect: escapeConnect,\r\n          batch: eventObjBatch\r\n        };\r\n      } else {\r\n        eventObj = eventObjBatch[0];\r\n      }\r\n\r\n      this[IN_MAIN_PROCESS_KEY] = false;\r\n\r\n      if (!silent) {\r\n        var messageCenter = this._messageCenter;\r\n        messageCenter.trigger(eventObj.type, eventObj); // Extra triggered 'selectchanged' event\r\n\r\n        if (isSelectChange) {\r\n          var newObj = {\r\n            type: 'selectchanged',\r\n            escapeConnect: escapeConnect,\r\n            selected: getAllSelectedIndices(ecModel),\r\n            isFromClick: payload.isFromClick || false,\r\n            fromAction: payload.type,\r\n            fromActionPayload: payload\r\n          };\r\n          messageCenter.trigger(newObj.type, newObj);\r\n        }\r\n      }\r\n    };\r\n\r\n    flushPendingActions = function (silent) {\r\n      var pendingActions = this._pendingActions;\r\n\r\n      while (pendingActions.length) {\r\n        var payload = pendingActions.shift();\r\n        doDispatchAction.call(this, payload, silent);\r\n      }\r\n    };\r\n\r\n    triggerUpdatedEvent = function (silent) {\r\n      !silent && this.trigger('updated');\r\n    };\r\n    /**\r\n     * Event `rendered` is triggered when zr\r\n     * rendered. It is useful for realtime\r\n     * snapshot (reflect animation).\r\n     *\r\n     * Event `finished` is triggered when:\r\n     * (1) zrender rendering finished.\r\n     * (2) initial animation finished.\r\n     * (3) progressive rendering finished.\r\n     * (4) no pending action.\r\n     * (5) no delayed setOption needs to be processed.\r\n     */\r\n\r\n\r\n    bindRenderedEvent = function (zr, ecIns) {\r\n      zr.on('rendered', function (params) {\r\n        ecIns.trigger('rendered', params); // The `finished` event should not be triggered repeatedly,\r\n        // so it should only be triggered when rendering indeed happens\r\n        // in zrender. (Consider the case that dipatchAction is keep\r\n        // triggering when mouse move).\r\n\r\n        if ( // Although zr is dirty if initial animation is not finished\r\n        // and this checking is called on frame, we also check\r\n        // animation finished for robustness.\r\n        zr.animation.isFinished() && !ecIns[PENDING_UPDATE] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\r\n          ecIns.trigger('finished');\r\n        }\r\n      });\r\n    };\r\n\r\n    bindMouseEvent = function (zr, ecIns) {\r\n      zr.on('mouseover', function (e) {\r\n        var el = e.target;\r\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\r\n\r\n        if (dispatcher) {\r\n          handleGlobalMouseOverForHighDown(dispatcher, e, ecIns._api);\r\n          markStatusToUpdate(ecIns);\r\n        }\r\n      }).on('mouseout', function (e) {\r\n        var el = e.target;\r\n        var dispatcher = findEventDispatcher(el, isHighDownDispatcher);\r\n\r\n        if (dispatcher) {\r\n          handleGlobalMouseOutForHighDown(dispatcher, e, ecIns._api);\r\n          markStatusToUpdate(ecIns);\r\n        }\r\n      }).on('click', function (e) {\r\n        var el = e.target;\r\n        var dispatcher = findEventDispatcher(el, function (target) {\r\n          return getECData(target).dataIndex != null;\r\n        }, true);\r\n\r\n        if (dispatcher) {\r\n          var actionType = dispatcher.selected ? 'unselect' : 'select';\r\n          var ecData = getECData(dispatcher);\r\n\r\n          ecIns._api.dispatchAction({\r\n            type: actionType,\r\n            dataType: ecData.dataType,\r\n            dataIndexInside: ecData.dataIndex,\r\n            seriesIndex: ecData.seriesIndex,\r\n            isFromClick: true\r\n          });\r\n        }\r\n      });\r\n    };\r\n\r\n    function clearColorPalette(ecModel) {\r\n      ecModel.clearColorPalette();\r\n      ecModel.eachSeries(function (seriesModel) {\r\n        seriesModel.clearColorPalette();\r\n      });\r\n    }\r\n\r\n    ; // Allocate zlevels for series and components\r\n\r\n    function allocateZlevels(ecModel) {\r\n      ;\r\n      var componentZLevels = [];\r\n      var seriesZLevels = [];\r\n      var hasSeperateZLevel = false;\r\n      ecModel.eachComponent(function (componentType, componentModel) {\r\n        var zlevel = componentModel.get('zlevel') || 0;\r\n        var z = componentModel.get('z') || 0;\r\n        var zlevelKey = componentModel.getZLevelKey();\r\n        hasSeperateZLevel = hasSeperateZLevel || !!zlevelKey;\r\n        (componentType === 'series' ? seriesZLevels : componentZLevels).push({\r\n          zlevel: zlevel,\r\n          z: z,\r\n          idx: componentModel.componentIndex,\r\n          type: componentType,\r\n          key: zlevelKey\r\n        });\r\n      });\r\n\r\n      if (hasSeperateZLevel) {\r\n        // Series after component\r\n        var zLevels = componentZLevels.concat(seriesZLevels);\r\n        var lastSeriesZLevel_1;\r\n        var lastSeriesKey_1;\r\n        timsort(zLevels, function (a, b) {\r\n          if (a.zlevel === b.zlevel) {\r\n            return a.z - b.z;\r\n          }\r\n\r\n          return a.zlevel - b.zlevel;\r\n        });\r\n        each(zLevels, function (item) {\r\n          var componentModel = ecModel.getComponent(item.type, item.idx);\r\n          var zlevel = item.zlevel;\r\n          var key = item.key;\r\n\r\n          if (lastSeriesZLevel_1 != null) {\r\n            zlevel = Math.max(lastSeriesZLevel_1, zlevel);\r\n          }\r\n\r\n          if (key) {\r\n            if (zlevel === lastSeriesZLevel_1 && key !== lastSeriesKey_1) {\r\n              zlevel++;\r\n            }\r\n\r\n            lastSeriesKey_1 = key;\r\n          } else if (lastSeriesKey_1) {\r\n            if (zlevel === lastSeriesZLevel_1) {\r\n              zlevel++;\r\n            }\r\n\r\n            lastSeriesKey_1 = '';\r\n          }\r\n\r\n          lastSeriesZLevel_1 = zlevel;\r\n          componentModel.setZLevel(zlevel);\r\n        });\r\n      }\r\n    }\r\n\r\n    render = function (ecIns, ecModel, api, payload, updateParams) {\r\n      allocateZlevels(ecModel);\r\n      renderComponents(ecIns, ecModel, api, payload, updateParams);\r\n      each(ecIns._chartsViews, function (chart) {\r\n        chart.__alive = false;\r\n      });\r\n      renderSeries(ecIns, ecModel, api, payload, updateParams); // Remove groups of unrendered charts\r\n\r\n      each(ecIns._chartsViews, function (chart) {\r\n        if (!chart.__alive) {\r\n          chart.remove(ecModel, api);\r\n        }\r\n      });\r\n    };\r\n\r\n    renderComponents = function (ecIns, ecModel, api, payload, updateParams, dirtyList) {\r\n      each(dirtyList || ecIns._componentsViews, function (componentView) {\r\n        var componentModel = componentView.__model;\r\n        clearStates(componentModel, componentView);\r\n        componentView.render(componentModel, ecModel, api, payload);\r\n        updateZ(componentModel, componentView);\r\n        updateStates(componentModel, componentView);\r\n      });\r\n    };\r\n    /**\r\n     * Render each chart and component\r\n     */\r\n\r\n\r\n    renderSeries = function (ecIns, ecModel, api, payload, updateParams, dirtyMap) {\r\n      // Render all charts\r\n      var scheduler = ecIns._scheduler;\r\n      updateParams = extend(updateParams || {}, {\r\n        updatedSeries: ecModel.getSeries()\r\n      }); // TODO progressive?\r\n\r\n      lifecycle.trigger('series:beforeupdate', ecModel, api, updateParams);\r\n      var unfinished = false;\r\n      ecModel.eachSeries(function (seriesModel) {\r\n        var chartView = ecIns._chartsMap[seriesModel.__viewId];\r\n        chartView.__alive = true;\r\n        var renderTask = chartView.renderTask;\r\n        scheduler.updatePayload(renderTask, payload); // TODO states on marker.\r\n\r\n        clearStates(seriesModel, chartView);\r\n\r\n        if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\r\n          renderTask.dirty();\r\n        }\r\n\r\n        if (renderTask.perform(scheduler.getPerformArgs(renderTask))) {\r\n          unfinished = true;\r\n        }\r\n\r\n        chartView.group.silent = !!seriesModel.get('silent'); // Should not call markRedraw on group, because it will disable zrender\r\n        // incremental render (always render from the __startIndex each frame)\r\n        // chartView.group.markRedraw();\r\n\r\n        updateBlend(seriesModel, chartView);\r\n        updateSeriesElementSelection(seriesModel);\r\n      });\r\n      scheduler.unfinished = unfinished || scheduler.unfinished;\r\n      lifecycle.trigger('series:layoutlabels', ecModel, api, updateParams); // transition after label is layouted.\r\n\r\n      lifecycle.trigger('series:transition', ecModel, api, updateParams);\r\n      ecModel.eachSeries(function (seriesModel) {\r\n        var chartView = ecIns._chartsMap[seriesModel.__viewId]; // Update Z after labels updated. Before applying states.\r\n\r\n        updateZ(seriesModel, chartView); // NOTE: Update states after label is updated.\r\n        // label should be in normal status when layouting.\r\n\r\n        updateStates(seriesModel, chartView);\r\n      }); // If use hover layer\r\n\r\n      updateHoverLayerStatus(ecIns, ecModel);\r\n      lifecycle.trigger('series:afterupdate', ecModel, api, updateParams);\r\n    };\r\n\r\n    markStatusToUpdate = function (ecIns) {\r\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = true; // Wake up zrender if it's sleep. Let it update states in the next frame.\r\n\r\n      ecIns.getZr().wakeUp();\r\n    };\r\n\r\n    applyChangedStates = function (ecIns) {\r\n      if (!ecIns[STATUS_NEEDS_UPDATE_KEY]) {\r\n        return;\r\n      }\r\n\r\n      ecIns.getZr().storage.traverse(function (el) {\r\n        // Not applied on removed elements, it may still in fading.\r\n        if (graphic.isElementRemoved(el)) {\r\n          return;\r\n        }\r\n\r\n        applyElementStates(el);\r\n      });\r\n      ecIns[STATUS_NEEDS_UPDATE_KEY] = false;\r\n    };\r\n\r\n    function applyElementStates(el) {\r\n      var newStates = [];\r\n      var oldStates = el.currentStates; // Keep other states.\r\n\r\n      for (var i = 0; i < oldStates.length; i++) {\r\n        var stateName = oldStates[i];\r\n\r\n        if (!(stateName === 'emphasis' || stateName === 'blur' || stateName === 'select')) {\r\n          newStates.push(stateName);\r\n        }\r\n      } // Only use states when it's exists.\r\n\r\n\r\n      if (el.selected && el.states.select) {\r\n        newStates.push('select');\r\n      }\r\n\r\n      if (el.hoverState === HOVER_STATE_EMPHASIS && el.states.emphasis) {\r\n        newStates.push('emphasis');\r\n      } else if (el.hoverState === HOVER_STATE_BLUR && el.states.blur) {\r\n        newStates.push('blur');\r\n      }\r\n\r\n      el.useStates(newStates);\r\n    }\r\n\r\n    function updateHoverLayerStatus(ecIns, ecModel) {\r\n      var zr = ecIns._zr;\r\n      var storage = zr.storage;\r\n      var elCount = 0;\r\n      storage.traverse(function (el) {\r\n        if (!el.isGroup) {\r\n          elCount++;\r\n        }\r\n      });\r\n\r\n      if (elCount > ecModel.get('hoverLayerThreshold') && !env.node && !env.worker) {\r\n        ecModel.eachSeries(function (seriesModel) {\r\n          if (seriesModel.preventUsingHoverLayer) {\r\n            return;\r\n          }\r\n\r\n          var chartView = ecIns._chartsMap[seriesModel.__viewId];\r\n\r\n          if (chartView.__alive) {\r\n            chartView.eachRendered(function (el) {\r\n              if (el.states.emphasis) {\r\n                el.states.emphasis.hoverLayer = true;\r\n              }\r\n            });\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    ;\r\n    /**\r\n     * Update chart and blend.\r\n     */\r\n\r\n    function updateBlend(seriesModel, chartView) {\r\n      var blendMode = seriesModel.get('blendMode') || null;\r\n      chartView.eachRendered(function (el) {\r\n        // FIXME marker and other components\r\n        if (!el.isGroup) {\r\n          // DON'T mark the element dirty. In case element is incremental and don't want to rerender.\r\n          el.style.blend = blendMode;\r\n        }\r\n      });\r\n    }\r\n\r\n    ;\r\n\r\n    function updateZ(model, view) {\r\n      if (model.preventAutoZ) {\r\n        return;\r\n      }\r\n\r\n      var z = model.get('z') || 0;\r\n      var zlevel = model.get('zlevel') || 0; // Set z and zlevel\r\n\r\n      view.eachRendered(function (el) {\r\n        doUpdateZ(el, z, zlevel, -Infinity); // Don't traverse the children because it has been traversed in _updateZ.\r\n\r\n        return true;\r\n      });\r\n    }\r\n\r\n    ;\r\n\r\n    function doUpdateZ(el, z, zlevel, maxZ2) {\r\n      // Group may also have textContent\r\n      var label = el.getTextContent();\r\n      var labelLine = el.getTextGuideLine();\r\n      var isGroup = el.isGroup;\r\n\r\n      if (isGroup) {\r\n        // set z & zlevel of children elements of Group\r\n        var children = el.childrenRef();\r\n\r\n        for (var i = 0; i < children.length; i++) {\r\n          maxZ2 = Math.max(doUpdateZ(children[i], z, zlevel, maxZ2), maxZ2);\r\n        }\r\n      } else {\r\n        // not Group\r\n        el.z = z;\r\n        el.zlevel = zlevel;\r\n        maxZ2 = Math.max(el.z2, maxZ2);\r\n      } // always set z and zlevel if label/labelLine exists\r\n\r\n\r\n      if (label) {\r\n        label.z = z;\r\n        label.zlevel = zlevel; // lift z2 of text content\r\n        // TODO if el.emphasis.z2 is spcefied, what about textContent.\r\n\r\n        isFinite(maxZ2) && (label.z2 = maxZ2 + 2);\r\n      }\r\n\r\n      if (labelLine) {\r\n        var textGuideLineConfig = el.textGuideLineConfig;\r\n        labelLine.z = z;\r\n        labelLine.zlevel = zlevel;\r\n        isFinite(maxZ2) && (labelLine.z2 = maxZ2 + (textGuideLineConfig && textGuideLineConfig.showAbove ? 1 : -1));\r\n      }\r\n\r\n      return maxZ2;\r\n    } // Clear states without animation.\r\n    // TODO States on component.\r\n\r\n\r\n    function clearStates(model, view) {\r\n      view.eachRendered(function (el) {\r\n        // Not applied on removed elements, it may still in fading.\r\n        if (graphic.isElementRemoved(el)) {\r\n          return;\r\n        }\r\n\r\n        var textContent = el.getTextContent();\r\n        var textGuide = el.getTextGuideLine();\r\n\r\n        if (el.stateTransition) {\r\n          el.stateTransition = null;\r\n        }\r\n\r\n        if (textContent && textContent.stateTransition) {\r\n          textContent.stateTransition = null;\r\n        }\r\n\r\n        if (textGuide && textGuide.stateTransition) {\r\n          textGuide.stateTransition = null;\r\n        } // TODO If el is incremental.\r\n\r\n\r\n        if (el.hasState()) {\r\n          el.prevStates = el.currentStates;\r\n          el.clearStates();\r\n        } else if (el.prevStates) {\r\n          el.prevStates = null;\r\n        }\r\n      });\r\n    }\r\n\r\n    function updateStates(model, view) {\r\n      var stateAnimationModel = model.getModel('stateAnimation');\r\n      var enableAnimation = model.isAnimationEnabled();\r\n      var duration = stateAnimationModel.get('duration');\r\n      var stateTransition = duration > 0 ? {\r\n        duration: duration,\r\n        delay: stateAnimationModel.get('delay'),\r\n        easing: stateAnimationModel.get('easing') // additive: stateAnimationModel.get('additive')\r\n\r\n      } : null;\r\n      view.eachRendered(function (el) {\r\n        if (el.states && el.states.emphasis) {\r\n          // Not applied on removed elements, it may still in fading.\r\n          if (graphic.isElementRemoved(el)) {\r\n            return;\r\n          }\r\n\r\n          if (el instanceof graphic.Path) {\r\n            savePathStates(el);\r\n          } // Only updated on changed element. In case element is incremental and don't want to rerender.\r\n          // TODO, a more proper way?\r\n\r\n\r\n          if (el.__dirty) {\r\n            var prevStates = el.prevStates; // Restore states without animation\r\n\r\n            if (prevStates) {\r\n              el.useStates(prevStates);\r\n            }\r\n          } // Update state transition and enable animation again.\r\n\r\n\r\n          if (enableAnimation) {\r\n            el.stateTransition = stateTransition;\r\n            var textContent = el.getTextContent();\r\n            var textGuide = el.getTextGuideLine(); // TODO Is it necessary to animate label?\r\n\r\n            if (textContent) {\r\n              textContent.stateTransition = stateTransition;\r\n            }\r\n\r\n            if (textGuide) {\r\n              textGuide.stateTransition = stateTransition;\r\n            }\r\n          } // Use highlighted and selected flag to toggle states.\r\n\r\n\r\n          if (el.__dirty) {\r\n            applyElementStates(el);\r\n          }\r\n        }\r\n      });\r\n    }\r\n\r\n    ;\r\n\r\n    createExtensionAPI = function (ecIns) {\r\n      return new (\r\n      /** @class */\r\n      function (_super) {\r\n        __extends(class_1, _super);\r\n\r\n        function class_1() {\r\n          return _super !== null && _super.apply(this, arguments) || this;\r\n        }\r\n\r\n        class_1.prototype.getCoordinateSystems = function () {\r\n          return ecIns._coordSysMgr.getCoordinateSystems();\r\n        };\r\n\r\n        class_1.prototype.getComponentByElement = function (el) {\r\n          while (el) {\r\n            var modelInfo = el.__ecComponentInfo;\r\n\r\n            if (modelInfo != null) {\r\n              return ecIns._model.getComponent(modelInfo.mainType, modelInfo.index);\r\n            }\r\n\r\n            el = el.parent;\r\n          }\r\n        };\r\n\r\n        class_1.prototype.enterEmphasis = function (el, highlightDigit) {\r\n          enterEmphasis(el, highlightDigit);\r\n          markStatusToUpdate(ecIns);\r\n        };\r\n\r\n        class_1.prototype.leaveEmphasis = function (el, highlightDigit) {\r\n          leaveEmphasis(el, highlightDigit);\r\n          markStatusToUpdate(ecIns);\r\n        };\r\n\r\n        class_1.prototype.enterBlur = function (el) {\r\n          enterBlur(el);\r\n          markStatusToUpdate(ecIns);\r\n        };\r\n\r\n        class_1.prototype.leaveBlur = function (el) {\r\n          leaveBlur(el);\r\n          markStatusToUpdate(ecIns);\r\n        };\r\n\r\n        class_1.prototype.enterSelect = function (el) {\r\n          enterSelect(el);\r\n          markStatusToUpdate(ecIns);\r\n        };\r\n\r\n        class_1.prototype.leaveSelect = function (el) {\r\n          leaveSelect(el);\r\n          markStatusToUpdate(ecIns);\r\n        };\r\n\r\n        class_1.prototype.getModel = function () {\r\n          return ecIns.getModel();\r\n        };\r\n\r\n        class_1.prototype.getViewOfComponentModel = function (componentModel) {\r\n          return ecIns.getViewOfComponentModel(componentModel);\r\n        };\r\n\r\n        class_1.prototype.getViewOfSeriesModel = function (seriesModel) {\r\n          return ecIns.getViewOfSeriesModel(seriesModel);\r\n        };\r\n\r\n        return class_1;\r\n      }(ExtensionAPI))(ecIns);\r\n    };\r\n\r\n    enableConnect = function (chart) {\r\n      function updateConnectedChartsStatus(charts, status) {\r\n        for (var i = 0; i < charts.length; i++) {\r\n          var otherChart = charts[i];\r\n          otherChart[CONNECT_STATUS_KEY] = status;\r\n        }\r\n      }\r\n\r\n      each(eventActionMap, function (actionType, eventType) {\r\n        chart._messageCenter.on(eventType, function (event) {\r\n          if (connectedGroups[chart.group] && chart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_PENDING) {\r\n            if (event && event.escapeConnect) {\r\n              return;\r\n            }\r\n\r\n            var action_1 = chart.makeActionFromEvent(event);\r\n            var otherCharts_1 = [];\r\n            each(instances, function (otherChart) {\r\n              if (otherChart !== chart && otherChart.group === chart.group) {\r\n                otherCharts_1.push(otherChart);\r\n              }\r\n            });\r\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_PENDING);\r\n            each(otherCharts_1, function (otherChart) {\r\n              if (otherChart[CONNECT_STATUS_KEY] !== CONNECT_STATUS_UPDATING) {\r\n                otherChart.dispatchAction(action_1);\r\n              }\r\n            });\r\n            updateConnectedChartsStatus(otherCharts_1, CONNECT_STATUS_UPDATED);\r\n          }\r\n        });\r\n      });\r\n    };\r\n  }();\r\n\r\n  return ECharts;\r\n}(Eventful);\r\n\r\nvar echartsProto = ECharts.prototype;\r\nechartsProto.on = createRegisterEventWithLowercaseECharts('on');\r\nechartsProto.off = createRegisterEventWithLowercaseECharts('off');\r\n/**\r\n * @deprecated\r\n */\r\n// @ts-ignore\r\n\r\nechartsProto.one = function (eventName, cb, ctx) {\r\n  var self = this;\r\n  deprecateLog('ECharts#one is deprecated.');\r\n\r\n  function wrapped() {\r\n    var args2 = [];\r\n\r\n    for (var _i = 0; _i < arguments.length; _i++) {\r\n      args2[_i] = arguments[_i];\r\n    }\r\n\r\n    cb && cb.apply && cb.apply(this, args2); // @ts-ignore\r\n\r\n    self.off(eventName, wrapped);\r\n  }\r\n\r\n  ; // @ts-ignore\r\n\r\n  this.on.call(this, eventName, wrapped, ctx);\r\n};\r\n\r\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\r\n\r\nfunction disposedWarning(id) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    warn('Instance ' + id + ' has been disposed');\r\n  }\r\n}\r\n\r\nvar actions = {};\r\n/**\r\n * Map eventType to actionType\r\n */\r\n\r\nvar eventActionMap = {};\r\nvar dataProcessorFuncs = [];\r\nvar optionPreprocessorFuncs = [];\r\nvar visualFuncs = [];\r\nvar themeStorage = {};\r\nvar loadingEffects = {};\r\nvar instances = {};\r\nvar connectedGroups = {};\r\nvar idBase = +new Date() - 0;\r\nvar groupIdBase = +new Date() - 0;\r\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\r\n/**\r\n * @param opts.devicePixelRatio Use window.devicePixelRatio by default\r\n * @param opts.renderer Can choose 'canvas' or 'svg' to render the chart.\r\n * @param opts.width Use clientWidth of the input `dom` by default.\r\n *        Can be 'auto' (the same as null/undefined)\r\n * @param opts.height Use clientHeight of the input `dom` by default.\r\n *        Can be 'auto' (the same as null/undefined)\r\n * @param opts.locale Specify the locale.\r\n * @param opts.useDirtyRect Enable dirty rectangle rendering or not.\r\n */\r\n\r\nexport function init(dom, theme, opts) {\r\n  var isClient = !(opts && opts.ssr);\r\n\r\n  if (isClient) {\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (!dom) {\r\n        throw new Error('Initialize failed: invalid dom.');\r\n      }\r\n    }\r\n\r\n    var existInstance = getInstanceByDom(dom);\r\n\r\n    if (existInstance) {\r\n      if (process.env.NODE_ENV !== 'production') {\r\n        warn('There is a chart instance already initialized on the dom.');\r\n      }\r\n\r\n      return existInstance;\r\n    }\r\n\r\n    if (process.env.NODE_ENV !== 'production') {\r\n      if (isDom(dom) && dom.nodeName.toUpperCase() !== 'CANVAS' && (!dom.clientWidth && (!opts || opts.width == null) || !dom.clientHeight && (!opts || opts.height == null))) {\r\n        warn('Can\\'t get DOM width or height. Please check ' + 'dom.clientWidth and dom.clientHeight. They should not be 0.' + 'For example, you may need to call this in the callback ' + 'of window.onload.');\r\n      }\r\n    }\r\n  }\r\n\r\n  var chart = new ECharts(dom, theme, opts);\r\n  chart.id = 'ec_' + idBase++;\r\n  instances[chart.id] = chart;\r\n  isClient && modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\r\n  enableConnect(chart);\r\n  lifecycle.trigger('afterinit', chart);\r\n  return chart;\r\n}\r\n/**\r\n * @usage\r\n * (A)\r\n * ```js\r\n * let chart1 = echarts.init(dom1);\r\n * let chart2 = echarts.init(dom2);\r\n * chart1.group = 'xxx';\r\n * chart2.group = 'xxx';\r\n * echarts.connect('xxx');\r\n * ```\r\n * (B)\r\n * ```js\r\n * let chart1 = echarts.init(dom1);\r\n * let chart2 = echarts.init(dom2);\r\n * echarts.connect('xxx', [chart1, chart2]);\r\n * ```\r\n */\r\n\r\nexport function connect(groupId) {\r\n  // Is array of charts\r\n  if (isArray(groupId)) {\r\n    var charts = groupId;\r\n    groupId = null; // If any chart has group\r\n\r\n    each(charts, function (chart) {\r\n      if (chart.group != null) {\r\n        groupId = chart.group;\r\n      }\r\n    });\r\n    groupId = groupId || 'g_' + groupIdBase++;\r\n    each(charts, function (chart) {\r\n      chart.group = groupId;\r\n    });\r\n  }\r\n\r\n  connectedGroups[groupId] = true;\r\n  return groupId;\r\n}\r\n/**\r\n * @deprecated\r\n */\r\n\r\nexport function disConnect(groupId) {\r\n  connectedGroups[groupId] = false;\r\n}\r\n/**\r\n * Alias and backward compatibility\r\n */\r\n\r\nexport var disconnect = disConnect;\r\n/**\r\n * Dispose a chart instance\r\n */\r\n\r\nexport function dispose(chart) {\r\n  if (isString(chart)) {\r\n    chart = instances[chart];\r\n  } else if (!(chart instanceof ECharts)) {\r\n    // Try to treat as dom\r\n    chart = getInstanceByDom(chart);\r\n  }\r\n\r\n  if (chart instanceof ECharts && !chart.isDisposed()) {\r\n    chart.dispose();\r\n  }\r\n}\r\nexport function getInstanceByDom(dom) {\r\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\r\n}\r\nexport function getInstanceById(key) {\r\n  return instances[key];\r\n}\r\n/**\r\n * Register theme\r\n */\r\n\r\nexport function registerTheme(name, theme) {\r\n  themeStorage[name] = theme;\r\n}\r\n/**\r\n * Register option preprocessor\r\n */\r\n\r\nexport function registerPreprocessor(preprocessorFunc) {\r\n  if (indexOf(optionPreprocessorFuncs, preprocessorFunc) < 0) {\r\n    optionPreprocessorFuncs.push(preprocessorFunc);\r\n  }\r\n}\r\nexport function registerProcessor(priority, processor) {\r\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_DEFAULT);\r\n}\r\n/**\r\n * Register postIniter\r\n * @param {Function} postInitFunc\r\n */\r\n\r\nexport function registerPostInit(postInitFunc) {\r\n  registerUpdateLifecycle('afterinit', postInitFunc);\r\n}\r\n/**\r\n * Register postUpdater\r\n * @param {Function} postUpdateFunc\r\n */\r\n\r\nexport function registerPostUpdate(postUpdateFunc) {\r\n  registerUpdateLifecycle('afterupdate', postUpdateFunc);\r\n}\r\nexport function registerUpdateLifecycle(name, cb) {\r\n  lifecycle.on(name, cb);\r\n}\r\nexport function registerAction(actionInfo, eventName, action) {\r\n  if (isFunction(eventName)) {\r\n    action = eventName;\r\n    eventName = '';\r\n  }\r\n\r\n  var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\r\n    event: eventName\r\n  }][0]; // Event name is all lowercase\r\n\r\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\r\n  eventName = actionInfo.event;\r\n\r\n  if (eventActionMap[eventName]) {\r\n    // Already registered.\r\n    return;\r\n  } // Validate action type and event name.\r\n\r\n\r\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\r\n\r\n  if (!actions[actionType]) {\r\n    actions[actionType] = {\r\n      action: action,\r\n      actionInfo: actionInfo\r\n    };\r\n  }\r\n\r\n  eventActionMap[eventName] = actionType;\r\n}\r\nexport function registerCoordinateSystem(type, coordSysCreator) {\r\n  CoordinateSystemManager.register(type, coordSysCreator);\r\n}\r\n/**\r\n * Get dimensions of specified coordinate system.\r\n * @param {string} type\r\n * @return {Array.<string|Object>}\r\n */\r\n\r\nexport function getCoordinateSystemDimensions(type) {\r\n  var coordSysCreator = CoordinateSystemManager.get(type);\r\n\r\n  if (coordSysCreator) {\r\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\r\n  }\r\n}\r\nexport { registerLocale } from './locale.js';\r\n\r\nfunction registerLayout(priority, layoutTask) {\r\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\r\n}\r\n\r\nfunction registerVisual(priority, visualTask) {\r\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\r\n}\r\n\r\nexport { registerLayout, registerVisual };\r\nvar registeredTasks = [];\r\n\r\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\r\n  if (isFunction(priority) || isObject(priority)) {\r\n    fn = priority;\r\n    priority = defaultPriority;\r\n  }\r\n\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    if (isNaN(priority) || priority == null) {\r\n      throw new Error('Illegal priority');\r\n    } // Check duplicate\r\n\r\n\r\n    each(targetList, function (wrap) {\r\n      assert(wrap.__raw !== fn);\r\n    });\r\n  } // Already registered\r\n\r\n\r\n  if (indexOf(registeredTasks, fn) >= 0) {\r\n    return;\r\n  }\r\n\r\n  registeredTasks.push(fn);\r\n  var stageHandler = Scheduler.wrapStageHandler(fn, visualType);\r\n  stageHandler.__prio = priority;\r\n  stageHandler.__raw = fn;\r\n  targetList.push(stageHandler);\r\n}\r\n\r\nexport function registerLoading(name, loadingFx) {\r\n  loadingEffects[name] = loadingFx;\r\n}\r\n/**\r\n * ZRender need a canvas context to do measureText.\r\n * But in node environment canvas may be created by node-canvas.\r\n * So we need to specify how to create a canvas instead of using document.createElement('canvas')\r\n *\r\n *\r\n * @deprecated use setPlatformAPI({ createCanvas }) instead.\r\n *\r\n * @example\r\n *     let Canvas = require('canvas');\r\n *     let echarts = require('echarts');\r\n *     echarts.setCanvasCreator(function () {\r\n *         // Small size is enough.\r\n *         return new Canvas(32, 32);\r\n *     });\r\n */\r\n\r\nexport function setCanvasCreator(creator) {\r\n  if (process.env.NODE_ENV !== 'production') {\r\n    deprecateLog('setCanvasCreator is deprecated. Use setPlatformAPI({ createCanvas }) instead.');\r\n  }\r\n\r\n  setPlatformAPI({\r\n    createCanvas: creator\r\n  });\r\n}\r\n/**\r\n * The parameters and usage: see `geoSourceManager.registerMap`.\r\n * Compatible with previous `echarts.registerMap`.\r\n */\r\n\r\nexport function registerMap(mapName, geoJson, specialAreas) {\r\n  var registerMap = getImpl('registerMap');\r\n  registerMap && registerMap(mapName, geoJson, specialAreas);\r\n}\r\nexport function getMap(mapName) {\r\n  var getMap = getImpl('getMap');\r\n  return getMap && getMap(mapName);\r\n}\r\nexport var registerTransform = registerExternalTransform;\r\n/**\r\n * Globa dispatchAction to a specified chart instance.\r\n */\r\n// export function dispatchAction(payload: { chartId: string } & Payload, opt?: Parameters<ECharts['dispatchAction']>[1]) {\r\n//     if (!payload || !payload.chartId) {\r\n//         // Must have chartId to find chart\r\n//         return;\r\n//     }\r\n//     const chart = instances[payload.chartId];\r\n//     if (chart) {\r\n//         chart.dispatchAction(payload, opt);\r\n//     }\r\n// }\r\n// Builtin global visual\r\n\r\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesStyleTask);\r\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataStyleTask);\r\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataColorPaletteTask);\r\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesSymbolTask);\r\nregisterVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM, dataSymbolTask);\r\nregisterVisual(PRIORITY_VISUAL_DECAL, decal);\r\nregisterPreprocessor(backwardCompat);\r\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);\r\nregisterLoading('default', loadingDefault); // Default actions\r\n\r\nregisterAction({\r\n  type: HIGHLIGHT_ACTION_TYPE,\r\n  event: HIGHLIGHT_ACTION_TYPE,\r\n  update: HIGHLIGHT_ACTION_TYPE\r\n}, noop);\r\nregisterAction({\r\n  type: DOWNPLAY_ACTION_TYPE,\r\n  event: DOWNPLAY_ACTION_TYPE,\r\n  update: DOWNPLAY_ACTION_TYPE\r\n}, noop);\r\nregisterAction({\r\n  type: SELECT_ACTION_TYPE,\r\n  event: SELECT_ACTION_TYPE,\r\n  update: SELECT_ACTION_TYPE\r\n}, noop);\r\nregisterAction({\r\n  type: UNSELECT_ACTION_TYPE,\r\n  event: UNSELECT_ACTION_TYPE,\r\n  update: UNSELECT_ACTION_TYPE\r\n}, noop);\r\nregisterAction({\r\n  type: TOGGLE_SELECT_ACTION_TYPE,\r\n  event: TOGGLE_SELECT_ACTION_TYPE,\r\n  update: TOGGLE_SELECT_ACTION_TYPE\r\n}, noop); // Default theme\r\n\r\nregisterTheme('light', lightTheme);\r\nregisterTheme('dark', darkTheme); // For backward compatibility, where the namespace `dataTool` will\r\n// be mounted on `echarts` is the extension `dataTool` is imported.\r\n\r\nexport var dataTool = {};", "\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\n\r\n\r\n/**\r\n * AUTO-GENERATED FILE. DO NOT MODIFY.\r\n */\r\n\r\n/*\r\n* Licensed to the Apache Software Foundation (ASF) under one\r\n* or more contributor license agreements.  See the NOTICE file\r\n* distributed with this work for additional information\r\n* regarding copyright ownership.  The ASF licenses this file\r\n* to you under the Apache License, Version 2.0 (the\r\n* \"License\"); you may not use this file except in compliance\r\n* with the License.  You may obtain a copy of the License at\r\n*\r\n*   http://www.apache.org/licenses/LICENSE-2.0\r\n*\r\n* Unless required by applicable law or agreed to in writing,\r\n* software distributed under the License is distributed on an\r\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\n* KIND, either express or implied.  See the License for the\r\n* specific language governing permissions and limitations\r\n* under the License.\r\n*/\r\nimport { registerPreprocessor, registerProcessor, registerPostInit, registerPostUpdate, registerAction, registerCoordinateSystem, registerLayout, registerVisual, registerTransform, registerLoading, registerMap, registerUpdateLifecycle, PRIORITY } from './core/echarts.js';\r\nimport ComponentView from './view/Component.js';\r\nimport ChartView from './view/Chart.js';\r\nimport ComponentModel from './model/Component.js';\r\nimport SeriesModel from './model/Series.js';\r\nimport { isFunction, indexOf, isArray, each } from 'zrender/lib/core/util.js';\r\nimport { registerImpl } from './core/impl.js';\r\nimport { registerPainter } from 'zrender/lib/zrender.js';\r\nvar extensions = [];\r\nvar extensionRegisters = {\r\n  registerPreprocessor: registerPreprocessor,\r\n  registerProcessor: registerProcessor,\r\n  registerPostInit: registerPostInit,\r\n  registerPostUpdate: registerPostUpdate,\r\n  registerUpdateLifecycle: registerUpdateLifecycle,\r\n  registerAction: registerAction,\r\n  registerCoordinateSystem: registerCoordinateSystem,\r\n  registerLayout: registerLayout,\r\n  registerVisual: registerVisual,\r\n  registerTransform: registerTransform,\r\n  registerLoading: registerLoading,\r\n  registerMap: registerMap,\r\n  registerImpl: registerImpl,\r\n  PRIORITY: PRIORITY,\r\n  ComponentModel: ComponentModel,\r\n  ComponentView: ComponentView,\r\n  SeriesModel: SeriesModel,\r\n  ChartView: ChartView,\r\n  // TODO Use ComponentModel and SeriesModel instead of Constructor\r\n  registerComponentModel: function (ComponentModelClass) {\r\n    ComponentModel.registerClass(ComponentModelClass);\r\n  },\r\n  registerComponentView: function (ComponentViewClass) {\r\n    ComponentView.registerClass(ComponentViewClass);\r\n  },\r\n  registerSeriesModel: function (SeriesModelClass) {\r\n    SeriesModel.registerClass(SeriesModelClass);\r\n  },\r\n  registerChartView: function (ChartViewClass) {\r\n    ChartView.registerClass(ChartViewClass);\r\n  },\r\n  registerSubTypeDefaulter: function (componentType, defaulter) {\r\n    ComponentModel.registerSubTypeDefaulter(componentType, defaulter);\r\n  },\r\n  registerPainter: function (painterType, PainterCtor) {\r\n    registerPainter(painterType, PainterCtor);\r\n  }\r\n};\r\nexport function use(ext) {\r\n  if (isArray(ext)) {\r\n    // use([ChartLine, ChartBar]);\r\n    each(ext, function (singleExt) {\r\n      use(singleExt);\r\n    });\r\n    return;\r\n  }\r\n\r\n  if (indexOf(extensions, ext) >= 0) {\r\n    return;\r\n  }\r\n\r\n  extensions.push(ext);\r\n\r\n  if (isFunction(ext)) {\r\n    ext = {\r\n      install: ext\r\n    };\r\n  }\r\n\r\n  ext.install(extensionRegisters);\r\n}"],
  "mappings": "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",
  "names": ["Param", "Draggable", "GestureMgr", "dist", "EmptyProxy", "HoveredResult", "Handler", "compare", "Storage", "Animation", "FakeGlobalEvent", "DOMHandlerScope", "HandlerDomProxy", "backgroundColor", "ZRender", "ComponentView", "Component_default", "inner", "ChartView", "GlobalModel", "theme", "optionPreprocessorFuncs", "cmpts", "i", "cmpt", "ExtensionAPI", "CoordinateSystemManager", "OptionManager", "optionPreprocessorFuncs", "each", "isObject", "seriesType", "option", "inner", "colorPalette", "data", "Scheduler", "opt", "seriesType", "ECEventProcessor", "query", "data", "i", "symbolPropName", "seriesType", "WeakMap", "pattern", "keys", "i", "warn", "x", "y", "width", "height", "decal", "version", "MessageCenter", "ECharts", "theme", "instances", "chart", "view", "Component_default", "backgroundColor", "_super", "init", "dispose", "registerMap", "getMap", "Component_default"]
}
